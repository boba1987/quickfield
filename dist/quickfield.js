var slice=[].slice;!function(t){return function(){var t;return t=function(t,e,n,i){return i=function(i){return n[i]?e[i]:(n[i]=1,e[i]={},e[i]=t[i](e[i]))},t[3]=function(t){var e={exports:t},n=[].slice;return function(){var t,i;t=function(t){return function(t){var e={exports:t},i,s,r,o,l;return s=function(t){var e={exports:t},n,i,r;return n=function(t){return Array.isArray(t)},i=function(t){return t&&"object"==typeof t},r=function(t,e){return!!e.notDeep&&e.notDeep.indexOf(t)!==-1},e.exports=s=function(t,e,o){var l,a,u,h,c,p,f;for((!e||"object"!=typeof e&&"function"!=typeof e)&&(e={}),l=0,u=o.length;l<u;l++)if(h=o[l],null!=h)for(a in h)if(c=h[a],f=e[a],!(c===e||void 0===c||null===c&&!t.allowNull||t.keys&&t.keys.indexOf(a)===-1||t.notKeys&&t.notKeys.indexOf(a)!==-1||t.own&&!h.hasOwnProperty(a)||t.globalFilter&&!t.globalFilter(c,a,h)||t.filters&&t.filters[a]&&!t.filters[a](c,a,h)))switch(t.globalTransform&&(c=t.globalTransform(c,a,h)),t.transforms&&t.transforms[a]&&(c=t.transforms[a](c,a,h)),!1){case!(t.concat&&n(c)&&n(f)):e[a]=f.concat(c);break;case!(t.deep&&i(c)&&!r(a,t)):p=i(f)?f:n(c)?[]:{},e[a]=s(t,p,[c]);break;default:e[a]=c}return e},e.exports}({}),l=function(t){var e,n,i;n={};for(e in t)i=t[e],n[e]=i;return n},o=function(t){if(t)return"object"!=typeof t||Array.isArray(t)?[].concat(t):Object.keys(t)},i=function(t){var e;return e=t.target?function(){var t;return t=1<=arguments.length?n.call(arguments,0):[],s(e.options,e.options.target,t)}:function(){var t,i;return i=arguments[0],t=2<=arguments.length?n.call(arguments,1):[],s(e.options,i,t)},e.options=t,Object.defineProperties(e,r),e},r={deep:{get:function(){var t;return t=l(this.options),t.deep=!0,i(t)}},own:{get:function(){var t;return t=l(this.options),t.own=!0,i(t)}},allowNull:{get:function(){var t;return t=l(this.options),t.allowNull=!0,i(t)}},concat:{get:function(){var t;return t=l(this.options),t.concat=!0,i(t)}},clone:{get:function(){var t;return t=l(this.options),t.target={},i(t)}},notDeep:{get:function(){var t;return t=l(this.options),function(e){return t.notDeep=o(e),i(t)}}},keys:{get:function(){var t;return t=l(this.options),function(e){return t.keys=o(e),i(t)}}},notKeys:{get:function(){var t;return t=l(this.options),function(e){return t.notKeys=o(e),i(t)}}},transform:{get:function(){var t;return t=l(this.options),function(e){return"function"==typeof e?t.globalTransform=e:e&&"object"==typeof e&&(t.transforms=e),i(t)}}},filter:{get:function(){var t;return t=l(this.options),function(e){return"function"==typeof e?t.globalFilter=e:e&&"object"==typeof e&&(t.filters=e),i(t)}}}},e.exports=i({}),e.exports}}(this)({}),i=t,null!=("undefined"!=typeof e&&null!==e?e.exports:void 0)?e.exports=i:"function"==typeof define&&define.amd?define(["smart-extend"],function(){return i}):window.extend=i}(),e.exports},t[4]=function(t){var e={exports:t},n;return n=e.exports={defined:function(t){return void 0!==t},array:function(t){return t instanceof Array},object:function(t){return"object"==typeof t&&t},objectPlain:function(t){return n.object(t)&&"[object Object]"===Object.prototype.toString.call(t)},string:function(t){return"string"==typeof t},number:function(t){return"number"==typeof t},function:function(t){return"function"==typeof t},iterable:function(t){return n.object(t)&&n.number(t.length)}},e.exports},i},t=t({},{},{}),function(){var e,n,i,s,r,o,l,a,u,h,c,p,f,d,v,y,b,m,g,x,_,k,w,S,E,C,I,O,j,D,M;return b=function(e){return function(e){var n={exports:e};return function(){var e,i,s,r,o,l,a,u,h,c,p,f,d,v,y,b,m,g,x,_,k,w,S;for(S="http://www.w3.org/2000/svg",u=function(t){var e={exports:t};return function(){var t,n,i,s,r,o,l,a;return s=["webkit","moz","ms","o"],o="backgroundPositionX backgroundPositionY blockSize borderWidth columnRuleWidth cx cy fontSize gridColumnGap gridRowGap height inlineSize lineHeight minBlockSize minHeight minInlineSize minWidth maxHeight maxWidth outlineOffset outlineWidth perspective shapeMargin strokeDashoffset strokeWidth textIndent width wordSpacing top bottom left right x y".split(" "),["margin","padding","border","borderRadius"].forEach(function(t){var e,n,i,s,r;for(o.push(t),s=["Top","Bottom","Left","Right"],r=[],n=0,i=s.length;n<i;n++)e=s[n],r.push(o.push(t+e));return r}),a=document.createElement("div").style,t=/^\d+(?:[a-z]|\%)+$/i,n=/\d+$/,i=/\s/,l={includes:function(t,e){return t&&-1!==t.indexOf(e)},isIterable:function(t){return t&&"object"==typeof t&&"number"==typeof t.length&&!t.nodeType},isPropSupported:function(t){return"undefined"!=typeof a[t]},toTitleCase:function(t){return t[0].toUpperCase()+t.slice(1)},normalizeProperty:function(t){var e,n,i;if(this.isPropSupported(t))return t;for(i=this.toTitleCase(t),t=0,e=s.length;t<e;t++)if(n=s[t],n=""+n+i,this.isPropSupported(n))return n},normalizeValue:function(e,s){return this.includes(o,e)&&null!==s&&(s=""+s,!n.test(s)||t.test(s)||i.test(s)||(s+="px")),s}},r=function(t,e,n){var i,s,o;if(l.isIterable(t))for(i=0,s=t.length;i<s;i++)o=t[i],r(o,e,n);else if("object"==typeof e)for(i in e)n=e[i],r(t,i,n);else{if(e=l.normalizeProperty(e),"undefined"==typeof n)return getComputedStyle(t)[e];e&&(t.style[e]=l.normalizeValue(e,n))}},r.version="1.0.5",null!=("undefined"!=typeof e&&null!==e?e.exports:void 0)?e.exports=r:"function"==typeof define&&define.amd?define(["quickdom"],function(){return r}):this.Css=r}(),e.exports}.call(this,{}),e=u,a=t(3),p=a,h=["className","href","selected","type","name","id","checked"],y={},y.includes=function(t,e){return t&&t.indexOf(e)!==-1},y.removeItem=function(t,e){var n;return n=t.indexOf(e),n!==-1&&t.splice(n,1),t},y.normalizeGivenEl=function(t){switch(!1){case!i.domNode(t):return r(t);case!i.string(t):return r.text(t);default:return t}},i=t(4),i=p.clone(i,{domEl:function(t){return t&&1===t.nodeType},domText:function(t){return t&&3===t.nodeType},domNode:function(t){return i.domEl(t)||i.domText(t)},quickDomEl:function(t){return t instanceof o},template:function(t){return t instanceof l}}),o=function(t,e){return this.type=t,this.options=e,this.el=this.options.existing||("text"===this.type?document.createTextNode(this.options.text):"*"===this.type[0]?document.createElementNS(S,this.type.slice(1)):document.createElement(this.type)),this._parent=null,this._state=[],this._children=[],this._insertedCallbacks=[],this._eventCallbacks={},this._normalizeOptions(),this._applyOptions(),this._attachStateEvents(),this.el._quickElement=this},Object.defineProperties(o.prototype,{raw:{get:function(){return this.el}},0:{get:function(){return this.el}},css:{get:function(){return this.style}},replaceWith:{get:function(){return this.replace}}}),o.prototype.parentsUntil=function(t){return v(this,t)},o.prototype.parentMatching=function(t){var e;if(i.function(t))for(e=this.parent;e;){if(t(e))return e;e=e.parent}},Object.defineProperties(o.prototype,{children:{get:function(){var t,e,n,i;if(this.el.childNodes.length!==this._children.length)for(this._children.length=0,i=this.el.childNodes,e=0,n=i.length;e<n;e++)t=i[e],this._children.push(r(t));return this._children}},parent:{get:function(){return this._parent&&this._parent.el===this.el.parentNode||(this._parent=r(this.el.parentNode)),this._parent}},parents:{get:function(){return v(this)}},next:{get:function(){return r(this.el.nextSibling)}},prev:{get:function(){return r(this.el.previousSibling)}},nextAll:{get:function(){var t,e;for(e=[],t=r(this.el.nextSibling);t;)e.push(t),t=t.next;return e}},prevAll:{get:function(){var t,e;for(e=[],t=r(this.el.previousSibling);t;)e.push(t),t=t.prev;return e}},siblings:{get:function(){return this.prevAll.reverse().concat(this.nextAll)}}}),v=function(t,e){var n,s;for(i.function(e)||(e=void 0),s=[],n=t.parent;n;)s.push(n),n=n.parent,e&&e(n)&&(n=null);return s},o.prototype._normalizeOptions=function(){var t,e,n;return null==(t=this.options).style&&(t.style={}),this.options.styleShared={},this.options.class&&(this.options.className=this.options.class),this.options.url&&(this.options.href=this.options.url),null==(e=this.options).relatedInstance&&(e.relatedInstance=this),null==(n=this.options).passStateToChildren&&(n.passStateToChildren=!0),this.options.stateTriggers=p.deep({hover:{on:"mouseenter",off:"mouseleave"},focus:{on:"focus",off:"blur"}},this.options.stateTriggers),this._normalizeStyle(),this},o.prototype._normalizeStyle=function(){var t,e,n,i,s,r,o,l;for(n=Object.keys(this.options.style),l=n.filter(function(t){return"$"===t[0]}),r=y.removeItem(l.slice(),"$base"),this.providedStates=l.map(function(t){return t.slice(1)}),!y.includes(l,"$base")&&n.length&&(l.length?(s=n.filter(function(t){return"$"!==t[0]}),this.options.style.$base=p.clone.keys(s)(this.options.style)):this.options.style={$base:this.options.style}),t=function(e){return function(n,i){var s,r,o,l,a,u;if(o=Object.keys(n).filter(function(t){return"$"===t[0]}),o.length){for(e.hasSharedStateStyle=!0,a=[],s=0,l=o.length;s<l;s++)r=o[s],u=i.concat(r.slice(1)),e.options.styleShared[u.join("+")]=n[r],t(n[r],u),a.push(delete n[r]);return a}}}(this),e=0,i=r.length;e<i;e++)o=r[e],t(this.options.style[o],[o.slice(1)]);return this},o.prototype._applyOptions=function(){var t,e,n,i,s;if(this.options.id&&(this.el.id=this.options.id),this.options.className&&(this.el.className=this.options.className),this.options.href&&(this.el.href=this.options.href),this.options.type&&(this.el.type=this.options.type),this.options.name&&(this.el.name=this.options.name),this.options.value&&(this.el.value=this.options.value),this.options.selected&&(this.el.selected=this.options.selected),this.options.checked&&(this.el.checked=this.options.checked),this.options.props){n=this.options.props;for(e in n)s=n[e],this.prop(e,s)}if(this.options.attrs){i=this.options.attrs;for(e in i)s=i[e],this.attr(e,s)}return this.options.styleAfterInsert?this.onInserted(t=function(e){return function(){var n;return n=e.parents.slice(-1)[0],n.raw===document.documentElement?e.style(p.clone.apply(p,[e.options.style.$base].concat(slice.call(e._getStateStyles(e._getActiveStates()))))):n.onInserted(t)}}(this)):this.style(this.options.style.$base),Object.defineProperty(this,"_parent",{set:function(t){var e,n,i,s;if(t)for(delete this._parent,this._parent=t,s=this._insertedCallbacks,n=0,i=s.length;n<i;n++)(e=s[n])(this)}}),this},o.prototype._attachStateEvents=function(){var t,e,n,s;e=this.options.stateTriggers,t=function(t){return function(e,n){var s,r;if(r=i.string(n)?n:n.on,i.object(n)&&(s=n.off),t._listenTo(r,function(){return t.state(e,!0)}),s)return t._listenTo(s,function(){return t.state(e,!1)})}}(this);for(n in e)s=e[n],t(n,s);return this},o.prototype._listenTo=function(t,e){var n,i;return i=this.el.addEventListener?"addEventListener":"attachEvent",n=this.el.addEventListener?t:"on"+t,this.el[i](n,e),this},o.prototype._getActiveStates=function(t){return this.providedStates.filter(function(e){return function(n){return y.includes(e._state,n)&&n!==t}}(this))},o.prototype._getStateStyles=function(t){return t.map(function(t){return function(e){return t.options.style["$"+e]}}(this))},o.prototype.on=function(t,e){return i.string(t)&&i.function(e)&&(this._eventCallbacks[t]||(this._eventCallbacks[t]=[],this._listenTo(t,function(n){return function(i){var s,r,o;for(o=n._eventCallbacks[t],s=0,r=o.length;s<r;s++)e=o[s],e.call(n.el,i)}}(this))),this._eventCallbacks[t].push(e)),this},o.prototype.off=function(t,e){if(i.string(t))this._eventCallbacks[t]&&(i.function(e)?y.removeItem(this._eventCallbacks[t],e):this._eventCallbacks[t].length=0);else for(t in this._eventCallbacks)this.off(t);return this},o.prototype.emit=function(t,e,n){var s;return null==e&&(e=!0),null==n&&(n=!0),t&&i.string(t)&&(s=document.createEvent("Event"),s.initEvent(t,e,n),this.el.dispatchEvent(s)),this},o.prototype.onInserted=function(t,e){if(null==e&&(e=!0),i.function(t))return this._parent?e&&t(this):this._insertedCallbacks.push(t),this},o.prototype.updateOptions=function(t){return i.object(t)&&(this.options=t,this._normalizeOptions(),this._applyOptions(this.options)),this},o.prototype.state=function(t,e){var n,s,r,o,l,a,u,h,c,f,d,v,b,m,g,x,_,k,w,S;if(1===arguments.length)return y.includes(this._state,t);if(i.string(t)){if("$"===t[0]&&(t=t.slice(1)),o=!!e,"base"===t)return this;if(this.state(t)!==o&&(this.options.style["$"+t]&&(S=this.options.style["$"+t],w=this.providedStates.indexOf(t),s=this._getActiveStates(t),k=s.filter(function(t){return function(e){return t.providedStates.indexOf(e)>w}}(this)),n=this._getStateStyles(s),_=this._getStateStyles(k)),o?(this._state.push(t),S&&this.style(p.clone.keys(S).apply(null,[S].concat(slice.call(_))))):(y.removeItem(this._state,t),S&&(g=p.clone.keys(S).apply(null,[this.options.style.$base].concat(slice.call(n))),x=p.transform(function(){return null}).clone(S),this.style(p(x,g))))),this.hasSharedStateStyle)for(v=Object.keys(this.options.styleShared),v=v.filter(function(e){return y.includes(e,t)}),l=0,c=v.length;l<c;l++)m=v[l],b=m.split("+"),u=b.length===b.filter(function(e){return function(n){return n===t||e.state(n)}}(this)).length,u&&(S=this.options.styleShared[m],o?(a=this.options.styleShared[y.removeItem(b,t).join("+")],this.style(p.clone(a,S))):(g=p.clone.keys(S).apply(null,[this.options.style.$base].concat(slice.call(n||[]))),x=p.transform(function(){return null}).clone(S),this.style(p(x,g))));if(this.options.passStateToChildren)for(d=this._children,h=0,f=d.length;h<f;h++)r=d[h],r.state(t,e);return this}},o.prototype.resetState=function(){var t,e,n,i;for(i=this._state.slice(),e=0,n=i.length;e<n;e++)t=i[e],this.state(t,!1);return this},o.prototype.style=function(){var t,n;if("text"!==this.type){if(t=arguments,i.string(t[0])){if(n=e(this.el,t[0],t[1]),!i.defined(t[1]))return n}else i.object(t[0])&&e(this.el,p.allowNull.transform(function(t){return function(e){return"function"==typeof e?e.call(t,t.options.relatedInstance):e}}(this)).clone(t[0]));return this}},Object.defineProperty(o.prototype,"rect",{get:function(){return this.el.getBoundingClientRect()}}),o.prototype.attr=function(t,e){switch(e){case void 0:return this.el.getAttribute(t);case null:return this.el.removeAttribute(t);default:return this.el.setAttribute(t,e),this}},o.prototype.prop=function(t,e){switch(e){case void 0:return this.el[t];default:return this.el[t]=e,this}},o.prototype.toTemplate=function(){return r.template(this)},o.prototype.clone=function(){var t,e,n,i,s,r,l,a,u,h,c,f,d,v,y,b,m;for(s=this.el.cloneNode(!1),v=p.clone(this.options,{existing:s}),d=new o(this.type,v),y=this._state,l=0,h=y.length;l<h;l++)t=y[l],d.state(t,!0);for(b=this.children,a=0,c=b.length;a<c;a++)i=b[a],d.append(i.clone());m=this._eventCallbacks;for(r in m)for(n=m[r],u=0,f=n.length;u<f;u++)e=n[u],d.on(r,e);return d},o.prototype.append=function(t){var e;return t&&(t=y.normalizeGivenEl(t),i.quickDomEl(t)&&(e=t.parent,e&&e._removeChild(t),this._children.push(t),this.el.appendChild(t.el),t.parent)),this},o.prototype.appendTo=function(t){return t&&(t=y.normalizeGivenEl(t),i.quickDomEl(t)&&t.append(this)),this},o.prototype.prepend=function(t){var e;return t&&(t=y.normalizeGivenEl(t),i.quickDomEl(t)&&(e=t.parent,e&&e._removeChild(t),this._children.unshift(t),this.el.insertBefore(t.el,this.el.firstChild),t.parent)),this},o.prototype.prependTo=function(t){return t&&(t=y.normalizeGivenEl(t),i.quickDomEl(t)&&t.prepend(this)),this},o.prototype.html=function(t){return i.defined(t)?(this.el.innerHTML=t,this):this.el.innerHTML},o.prototype.text=function(t){return i.defined(t)?(this.el.textContent=t,this):this.el.textContent},o.prototype.after=function(t){var e;return t&&this.parent&&(t=y.normalizeGivenEl(t),i.quickDomEl(t)&&(e=this.parent._children.indexOf(this),this.parent._children.splice(e+1,0,t),this.el.parentNode.insertBefore(t.el,this.el.nextSibling),t.parent)),this},o.prototype.insertAfter=function(t){return t&&(t=y.normalizeGivenEl(t),i.quickDomEl(t)&&t.after(this)),this},o.prototype.before=function(t){var e;return t&&this.parent&&(t=y.normalizeGivenEl(t),i.quickDomEl(t)&&(e=this.parent._children.indexOf(this),this.parent._children.splice(e,0,t),this.el.parentNode.insertBefore(t.el,this.el),t.parent)),this},o.prototype.insertBefore=function(t){return t&&(t=y.normalizeGivenEl(t),i.quickDomEl(t)&&t.before(this)),this},o.prototype.detach=function(){var t;return null!=(t=this.parent)&&t._removeChild(this),this},o.prototype.remove=function(){var t;this.detach(),this.resetState();for(t in this._eventCallbacks)this._eventCallbacks[t].length=0;return this},o.prototype.empty=function(){var t,e,n,i;for(i=this.children.slice(),e=0,n=i.length;e<n;e++)t=i[e],this._removeChild(t);return this},o.prototype.wrap=function(t){var e;return t&&(t=y.normalizeGivenEl(t),e=this.parent,i.quickDomEl(t)&&t!==this&&t!==this.parent&&(e&&e._removeChild(this,t.parent?void 0:t),t.append(this))),this},o.prototype.unwrap=function(){var t,e,n,i;return e=this.parent,e&&(n=r.batch(e.children),i=e.next,t=e.parent,t&&(e.detach(),i?n.insertBefore(i):n.appendTo(t))),this},o.prototype.replace=function(t){var e;return t&&(t=y.normalizeGivenEl(t),i.quickDomEl(t)&&t!==this&&(t.detach(),null!=(e=this.parent)&&e._removeChild(this,t))),this},o.prototype._removeChild=function(t,e){var n;return n=this._children.indexOf(t),n!==-1&&(e?(this.el.replaceChild(e.el,t.el),this._children.splice(n,1,e)):(this.el.removeChild(t.el),this._children.splice(n,1))),this},r=function(){var t,e,n,s,l,a,u,h;switch(t=1<=arguments.length?slice.call(arguments,0):[],!1){case!i.template(t[0]):return t[0].spawn();case!i.quickDomEl(t[0]):return t[1]?t[0].updateOptions(t[1]):t[0];case!i.domNode(t[0]):return t[0]._quickElement?t[0]._quickElement:(h=t[0].nodeName.toLowerCase().replace("#",""),u=t[1]||{},u.existing=t[0],new o(h,u));case!i.string(t[0]):for(h=t[0].toLowerCase(),u="text"===h?i.object(t[1])?t[1]:{text:t[1]||""}:i.object(t[1])?t[1]:{},n=t.slice(2),s=new o(h,u),l=0,a=n.length;l<a;l++)e=n[l],i.string(e)&&(e=r.text(e)),i.template(e)&&(e=r(e)),i.quickDomEl(e)&&e.appendTo(s);return s}},r.template=function(t){return new l(t,!0)},s=function(t,e){return this.elements=t,this.returnResults=e,this.elements=this.elements.map(function(t){return r(t)}),this},s.prototype.reverse=function(){return this.elements=this.elements.reverse(),this},s.prototype.return=function(t){return t?(this.returnResults=!0,this):this.lastResults},Object.keys(o.prototype).concat("css","replaceWith").forEach(function(t){return s.prototype[t]=function(){var e,n;return n=this.lastResults=function(){var n,i,s,r;for(s=this.elements,r=[],n=0,i=s.length;n<i;n++)e=s[n],r.push(e[t].apply(e,arguments));return r}.apply(this,arguments),this.returnResults?n:this}}),r.batch=function(t,e){if(!i.iterable(t))throw new Error("Batch: expected an iterable, got "+String(t));if(!t.length)throw new Error("Batch: expected a non-empty element collection");return new s(t,e)},_=/\{\{.+?\}\}/g,c={type:"div",options:{},children:[]},l=function(t,e){return this._config=e?x(t):t,this},Object.keys(c).forEach(function(t){return Object.defineProperty(l.prototype,t,{get:function(){return this._config[t]}})}),l.prototype.spawn=function(t,e){var n;return n=f(this._config,t,e),r.apply(null,[n.type,n.options].concat(slice.call(n.children)))},l.prototype.extend=function(t,e){return new l(f(this._config,t,e))},f=function(t,e,n){var s,r,o,a,u,h,f,d,v;for(n&&(o={options:function(t){return p(t,n)}}),d=p.deep.notKeys("children").notDeep("relatedInstance").transform(o).clone(t,e),r=t.children||[],f=(null!=e?e.children:void 0)||[],d.children=[],u=a=0,v=Math.max(r.length,f.length);0<=v?a<v:a>v;u=0<=v?++a:--a)s=r[u],h=f[u],i.string(h)&&(h={type:"text",options:{text:h}}),s?d.children.push(s.extend(h,n)):d.children.push(new l(p.deep.clone(c,h)));return d},x=function(t){var e;switch(!1){case!i.array(t):if(e={},!i.string(t[0]))throw new Error(g+" string for 'type', got '"+String(t[0])+"'");if(e.type=t[0],t.length>1&&!i.object(t[1])&&null!==t[1])throw new Error(g+" object for 'options', got '"+String(t[1])+"'");return e.options=t[1]?p.deep.clone(t[1]):null,e.children=t.slice(2).map(r.template),e;case!(i.string(t)||i.domText(t)):return{type:"text",options:{text:t.textContent||t}};case!i.domEl(t):return{type:t.nodeName.toLowerCase(),options:p.clone.keys(h)(t),children:[].map.call(t.childNodes,r.template)};case!i.quickDomEl(t):return{type:t.type,options:p.clone.deep.notKeys("relatedInstance")(t.options),children:t.children.map(r.template)};case!i.template(t):return f(t._config);default:throw new Error(g+" (array || string || domEl || quickDomEl || template), got "+String(t))}},g="Template Parse Error: expected",w=["link:a","anchor:a","a","text","div","span","h1","h2","h3","h4","h5","h6","header","footer","section","button","br","ul","ol","li","fieldset","input","textarea","select","option","form","frame","hr","iframe","img","picture","main","nav","meta","object","pre","style","table","tbody","th","tr","td","tfoot","video"],d=function(t){var e,n,i;return e=i=t,y.includes(t,":")&&(n=t.split(":"),e=n[0],i=n[1]),r[e]=function(){return r.apply(null,[i].concat(slice.call(arguments)))}},b=0,m=w.length;b<m;b++)k=w[b],d(k);return r.version="1.0.8",null!=("undefined"!=typeof n&&null!==n?n.exports:void 0)?n.exports=r:"function"==typeof define&&define.amd?define(["quickdom"],function(){return r}):this.Dom=r}(),n.exports}}(this)({}),l=b,m=function(t){var e={exports:t},n=[],i=[];return e.exports=function(t,e){if(t===e)return 0;var s=t.length,r=e.length;if(0===s)return r;if(0===r)return s;for(var o,l,a,u,h=0,c=0;h<s;)i[h]=t.charCodeAt(h),n[h]=++h;for(;c<r;)for(o=e.charCodeAt(c),a=c++,l=c,h=0;h<s;h++)u=o===i[h]?a:a+1,a=n[h],l=n[h]=a>l?u>l?l+1:u:u>a?a+1:u;return l},e.exports}.call(this,{}),O=m,y=t(3),S=y,x=t(4),h=x,g=function(t){var e={exports:t};return!function(){var t,n,i,s,r,o,l,a,u,h,c,p,f,d,v,y,b,m,g,x,_,k,w,S,E,C,I,O,j,D,M,P,T,A,$,F,N,B,z,R,V,G,L,H,q,W,U,X,K,Q,Y,Z,J,tt,et;return D=0,_="push pop shift unshift splice reverse sort".split(" "),T={},k={},W=["{{","}}"],Y=Object.create({silent:!1},{placeholder:{get:function(){return W},set:function(t){C.iA(t)&&2===t.length&&(W=t,K())}}}),M={throttle:!1,simpleSelector:!1,promiseTransforms:!1,dispatchEvents:!1,sendArrayCopies:!1,updateEvenIfSame:!1,updateOnBind:!0},S=null,E=function(){var t;return S||(t=S=document.createEvent("Event"),t.initEvent("change",!0,!1),t._sb=!0),S},P=Object.defineProperty,G=Object.getOwnPropertyDescriptor,Q=function(t,e){return this.uAS(e||this)},B=function(){return""+ ++D},z=function(){return Object.create(null)},R=function(t,e){return function(n,i,s){return m(n,i,s,t,e)}},V=function(e,n){return e.sU||(e.sU=new t(function(){return n?e.sV(e.fDV(),e,!0):e.uAS(e)},"Func",{}))},Z=function(t,e){return t&&-1!==t.indexOf(e)},C={iD:function(t){return void 0!==t},iA:function(t){return t instanceof Array},iO:function(t){return"object"==typeof t&&t},iS:function(t){return"string"==typeof t},iN:function(t){return"number"==typeof t},iF:function(t){return"function"==typeof t},iBI:function(t){return t instanceof n},iB:function(e){return e instanceof t},isI:function(t){return C.iO(t)&&C.iN(t.length)},DM:function(t){return t.nodeName&&1===t.nodeType},dI:function(t){return t=t.nodeName,"INPUT"===t||"TEXTAREA"===t||"SELECT"===t},dR:function(t){return"radio"===t.type},dC:function(t){return"checkbox"===t.type},eC:function(t){return t instanceof NodeList||t instanceof HTMLCollection||C.iD(jQuery)&&t instanceof jQuery},eAS:function(t){var e;return e=t[0].type,[].filter.call(t,function(t){return t.type===e}).length===t.length}},O=function(t,e,n){var i,s,r,o,l,a,u,h;t.OD||(t.OD=G(e,t.pr)),n?_.forEach(function(n){return P(e,n,{configurable:!0,value:function(){var i;return i=Array.prototype[n].apply(e,arguments),t.uAS(t),i}})}):"Proxy"===t.type?(s=t.oR=t.value,t.value={result:null,args:null},C.iF(s)&&(u=[].slice,i=l=function(){var n;return n=u.call(arguments),t.value.args=n=t.tfS?t.tfS(n):n,t.value.result=n=s.apply(e,n),t.uAS(t),n},P(e,t.pr,{configurable:t.isL=!0,get:function(){return i},set:function(e){C.iF(e)?e!==s&&(e!==l&&(s=t.oR=e),i!==l&&(i=l)):i=e}}))):(n=t.OD||T,n.get&&(r=n.get.bind(e)),n.set&&(o=n.set.bind(e)),(a=(a=n.configurable)&&e.constructor!==CSSStyleDeclaration)&&(h="Array"===t.type,P(e,t.pr,{configurable:t.isL=!0,enumerable:n.enumerable,get:r||function(){return t.value},set:o?function(e){o(e),t.sV(e,t,!h)}:function(e){t.sV(e,t,!h)}}),h&&O(t,e[t.pr],!0)))},j=function(t,e,n){var i,s;if(n){for(s=[],t=0,n=_.length;t<n;t++)i=_[t],s.push(delete e[i]);return s}return n=t.OD,n.set||n.get||(n.value=t.oR||t.value),P(e,t.pr,n)},I=function(t){var e,n;e=z();for(n in t)e[n]=t[n];return e},N=function(t,e){var n,i,s,r;for(r=Object.keys(e),n=0,s=r.length;n<s;n++)i=r[n],t[i]=e[i]},w={get:function(t,e,n,i){return e?k[t._sb_ID]:i&&t[0]._sb_map&&(e=k[t[0]._sb_map[n]],e.gB)?e.gB:t._sb_map&&t._sb_map[n]?k[t._sb_map[n]]:void 0},set:function(t,e){var n,i;e?P(t.object,"_sb_ID",{configurable:!0,value:t.ID}):(i=t.se,t.object._sb_map?t.object._sb_map[i]=t.ID:(n={},n[i]=t.ID,P(t.object,"_sb_map",{configurable:!0,value:n})))}},$=/[.*+?^${}()|[\]\\]/g,H=q=null,K=function(){var t,e,n;n=Y.placeholder[0].replace($,"\\$&"),t=Y.placeholder[1].replace($,"\\$&"),e="[^"+t+"]+",H=new RegExp(n+"("+e+")"+t,"g"),q=new RegExp(""+n+e+t,"g")},K(),x=function(t,e,n){var i,s,r,o,l;for(l="",s=r=0,o=t.length;r<o;s=++r)i=t[s],l+=i,n[s]&&(l+=e[n[s]]);return l},g=function(t,e,n){null==t[n]&&(t[n]=[]),t[n].push(e)},X=function(t,e){var n,i,s,r,o,l,a,u,h,c,p;for(n=Array.prototype.slice.call(t.childNodes),s=0,o=n.length;s<o;s++)if(h=n[s],3!==h.nodeType)X(h,e);else if(h.textContent.match(q))if(p=h.textContent.split(H),3===p.length&&""===p[0]+p[2])g(e,h,p[1]);else{for(a=document.createDocumentFragment(),i=r=0,l=p.length;r<l;i=++r)c=p[i],u=a.appendChild(document.createTextNode(c)),i%2&&g(e,u,c);h.parentNode.replaceChild(a,h)}},J=function(t){throw Error("SimplyBind: "+(A[t]||t))},et=function(t,e){var n,i;Y.silent||(n=L(e),i=A[t],console.warn("SimplyBind: "+(i+("\n\n"+n))))},tt=function(t){J("Invalid argument/s ("+t+")",!0)},L=function(t){return(Error().stack||"").split("\n").slice(t+3).join("\n")},A={erIP:"SimplyBind() and .to() only accept a function, an array, a bound object, a string, or a number.",erFN:"Only functions are allowed for .transform/.condition/All()",erEV:"Invalid argument number in .ofEvent()",emptyList:"Empty collection provided",erOD:"You can only pass a single DOM element to a binding",erMX:"'checked' of Mixed list of element cannot be bound"},m=function(t,e,i,s,r){return(t||0===t)&&(C.iS(t)||C.iN(t)||C.iF(t)||t instanceof Array)||C.iBI(t)||J("erIP"),!C.iO(t)||t instanceof Array?(e=new n(e),e.so=i,e.IS=s,e.cC=r,t=C.iF(t)?e.sS(t,!0):e.sP(t)):t=r?r(t):t.sC(),t},m.version="1.13.2",m.settings=Y,m.defaultOptions=M,m.unBindAll=function(t,e){var n,i,s;if(t&&(C.iO(t)||C.iF(t))&&(C.isI(t)&&!t._sb_ID&&t[0]&&C.DM(t[0])&&(t=t[0]),s=t._sb_map,t._sb_ID&&k[t._sb_ID].rAS(e),s))for(i in s)n=s[i],k[n].rAS(e)},t=function(t,e,n){return N(this,n),this.oD=this.so?this.options:M,this.type=e,this.object=t,this.ID=B(),this.subs=[],this.sM=z(),this.pM=z(),this.atEV=[],"Proxy"===this.type&&(this.sV=Q),this.mC&&(this.cH=z(),this.object.forEach(function(t){return function(e){var n;n=t.cH[e.value]=m("checked").of(e)._,n.aS(t),n.sM[t.ID].tF=function(){return n},n.gB=t}}(this))),"Event"===this.type||"Func"===this.type&&this.IS||("Pholder"===this.type?(e=this.de&&!Z(this.de,"multi")?this.de+":"+this.pr:this.pr,t=this.pB=m(e).of(t)._,t.sPH(),this.value=t.pVL[this.Ph],t.txN&&(this.txN=t.txN[this.Ph])):(this.value=t=this.fDV(),"ObjectProp"!==this.type||C.iD(t)||(this.object[this.pr]=t),O(this,this.object))),this.aEV(),k[this.ID]=this},t.prototype={aS:function(t,e,n,i){var s,r,o,l;if(t.isMulti)for(o=t.bindings,t=0,r=o.length;t<r;t++)l=o[t],this.aS(l,e,n,i);else this.sM[t.ID]?s=!0:(t.pM[this.ID]=this,this.subs.unshift(t),r=this.sM[t.ID]=z(),r.uO=n,r.opts=I(e),(i||"Event"===this.type||"Proxy"===this.type||"Array"===this.type)&&(r.opts.updateEvenIfSame=!0),r.VR="Func"===t.type?"ps":"value");return s},rS:function(t,e){var n,i,s,r;if(t.isMulti)for(s=t.bindings,n=0,i=s.length;n<i;n++)r=s[n],this.rS(r,e);else this.sM[t.ID]&&(this.subs.splice(this.subs.indexOf(t),1),delete this.sM[t.ID],delete t.pM[this.ID]),e&&(t.rS(this),delete this.pM[t.ID]);0===this.subs.length&&0===Object.keys(this.pM).length&&this.DES()},rAS:function(t){var e,n,i,s;for(i=this.subs.slice(),e=0,n=i.length;e<n;e++)s=i[e],this.rS(s,t)},DES:function(){var t,e,n,i;if(delete k[this.ID],this.rPI(),"Event"===this.type)for(i=this.atEV,e=0,n=i.length;e<n;e++)t=i[e],this.urEVE(t,this.cEM.listen);else"Func"===this.type&&delete this.object._sb_ID;this.isL&&j(this,this.object),"Array"===this.type&&j(this,this.value,!0),this.object._sb_map&&(delete this.object._sb_map[this.se],0===Object.keys(this.object._sb_map).length&&delete this.object._sb_map)},fDV:function(){var t,e,n,i,s;switch(s=this.type,!1){case"Func"!==s:return this.object();case"DOMAttr"!==s:return this.object.getAttribute(this.pr)||"";case!this.mC:i=[],n=this.cH;for(e in n)if(t=n[e],t.object.checked){if("DOMRadio"===s)return e;i.push(e)}return i;default:return this.object[this.pr]}},sV:function(t,e,n){var i,s,r,o,l;if(e||(e=this),this.tfS&&(t=this.tfS(t)),!n)switch(this.type){case"ObjectProp":this.isL||t===this.value||(this.object[this.pr]=t);break;case"Pholder":if(r=this.pB,r.pVL[this.Ph]=t,i=x(r.pCT,r.pVL,r.pIM),this.txN&&t!==this.value)for(o=this.txN,s=0,n=o.length;s<n;s++)l=o[s],l.textContent=t;"textContent"!==this.pr&&r.sV(i,e);break;case"Array":t!==this.value&&(C.iA(t)||(t=Array.prototype.concat(t)),j(this,this.value,!0),O(this,t=t.slice(),!0));break;case"Func":i=this.ps,this.ps=t,t=this.object(t,i);break;case"Event":this.iE=!0,this.eE(t),this.iE=!1;break;case"DOMValue":t===this.value&&t===this.object.value||(this.tfS&&(r=this.object.selectionStart),this.object.value=t,r&&this.object.setSelectionRange(r,r),Y.dispatchEvents&&this.object.dispatchEvent(E()));break;case"DOMRadio":if(this.mC)if(r=C.iB(t)?t:this.cH[t])for(s in t=r.object.value,i=this.cH)n=i[s],n.sV(n.ID===r.ID,e);else t=this.value;else{if(t=!!t,t===this.value)return;this.object.checked!==t&&(this.object.checked=t),t&&Y.dispatchEvents&&this.object.dispatchEvent(E())}break;case"DOMCheckbox":if(this.mC){for(s=!C.iB(t),t=[].concat(t),n=r=0,o=t.length;r<o;n=++r)l=t[n],t[n]=C.iB(l)?l:this.cH[l];o=[],l=this.cH;for(i in l)n=l[i],r=s?Z(t,n):n.value,n.sV(r,e),r&&o.push(i);t=o}else{if(t=!!t,t===this.value)return;this.object.checked!==t&&(this.object.checked=t,Y.dispatchEvents&&this.object.dispatchEvent(E()))}break;case"DOMAttr":this.object.setAttribute(this.pr,t)}this.value=t,this.uAS(e)},uAS:function(t){var e,n;if(n=(e=this.subs).length)for(;n--;)this.uS(e[n],t)},uS:function(t,e){var n,i,s,r;if(!(e===t||e!==this&&e.sM[t.ID])){if(i=this.sM[t.ID],i.opts.throttle){if(n=+new Date,s=n-i.lU,s<i.opts.throttle)return clearTimeout(i.uT),i.uT=setTimeout(function(n){return function(){return n.uS(t,e)}}(this),i.opts.throttle-s);i.lU=n}n="Array"===this.type&&i.opts.sendArrayCopies?this.value.slice():this.value,s=t[i.VR],n=(r=i.tF)?r(n,s,t.object):n,n===s&&!i.opts.updateEvenIfSame||i.cN&&!i.cN(n,s,t.object)||(i.opts.promiseTransforms&&n&&C.iF(n.then)?n.then(function(n){t.sV(n,e)}):t.sV(n,e),i.uO&&this.rS(t))}},aM:function(t,e,n,i){var s,r,o,l;if(C.iF(n)){for(s=0,r=e.length;s<r;s++)o=e[s],l=o._||o,l.isMulti?this.aM(t,l.bindings,n,i):(o=this.sM[l.ID],o[t]=n,i=i&&!o.uO,this.pM[l.ID]&&(l.sM[this.ID][t]=n),!i&&"Func"!==this.type||"tF"!==t||this.uS(l,this));return!0}return et("erFN",2)},ss:function(t,e){this.tfS=t,e&&this.sV(this.value)},sPH:function(){var t;this.pVL||(this.pVL=z(),this.pIM=z(),this.pCT=[],C.iS(this.value)&&(this.pCT=this.value.split(q),t=0,this.value=this.value.replace(H,function(e){return function(n,i){return e.pIM[t++]=i,e.pVL[i]=i}}(this))),this.DM&&"textContent"===this.pr&&X(this.object,this.txN=z()))},aPI:function(t){if("Event"!==this.type)return this.rPI(),this.PI=setInterval(function(t){return function(){var e;return e=t.fDV(),t.sV(e)}}(this),t)},rPI:function(){return clearInterval(this.PI),this.PI=null},aUV:function(t,e){this.object.addEventListener(t,function(t){
return function(n){n._sb||(n=t.tfS&&t.dT,t.sV(t.object[e],null,!n))}}(this),!1)},aEV:function(){this.evN?this.rEVE(this.evN,this.cEM.listen):"DOMValue"===this.type?(this.aUV("input","value"),this.aUV("change","value")):this.mC||"DOMRadio"!==this.type&&"DOMCheckbox"!==this.type||this.aUV("change","checked")},rEVE:function(t,e){this.atEV.push(t),this.iEM(t,e||"addEventListener","addEventListener")},urEVE:function(t,e){this.atEV.splice(this.atEV.indexOf(t),1),this.iEM(t,e||"removeEventListener","removeEventListener")},iEM:function(t,e,n){var i;i=this.object,(this.DM&&C.iD(jQuery)&&"on"===e||"off"===e)&&(i=jQuery(this.object)),i[e]||(e=n),this.evH||(this.evH=F.bind(this)),"function"==typeof i[e]&&i[e](t,this.evH)},eE:function(t){var e,n;return n=this.object,e=this.cEM.emit||"dispatchEvent",this.DM&&C.iD(jQuery)&&"trigger"===e&&(n=jQuery(this.object)),n[e]||(e="dispatchEvent"),"dispatchEvent"===e?(this.evO||(this.evO=document.createEvent("Event"),this.evO.initEvent(this.evN,!0,!0)),this.evO.bindingData=t,n[e](this.evO)):void n[e](this.evN,t)}},F=function(){this.iE||this.sV(arguments[this.pr],null,!0)},n=function(t,e){var n;if(e)N(this,e),this.sG=1;else for(n in this.sG=0,this.subs=[],this.oP=t||(t={}),this.options={},M)this.options[n]=null!=t[n]?t[n]:M[n];return this},i={sC:function(){return new n(null,this)},dM:function(t){return this._=t,Object.defineProperties(this,{value:{get:function(){return t.value}},original:{get:function(){return t.objects||t.object}},subscribers:{get:function(){return t.subs.slice().map(function(t){return t.object})}}})},createBP:function(e,n,i,s){var r;return this.object=e,(r=w.get(e,s,this.se,this.mC))?this.patchCachedBP(r):(e=new t(e,n,i),w.set(e,s),e)},patchCachedBP:function(t){var e,n,i,s;if("ObjectProp"!==t.type||this.pr in this.object||O(t,this.object),this.so)for(n in i=this.oP)s=i[n],t.oD[n]=s;n=t.oD;for(e in n)s=n[e],this.options[e]=C.iD(this.oP[e])?this.oP[e]:s;return t},sP:function(t){var e;return C.iN(t)&&(t=t.toString()),this.se=this.pr=t,this.options.simpleSelector||(Z(t,":")&&(e=t.split(":"),this.de=e.slice(0,-1).join(":"),this.pr=e[e.length-1]),Z(t,".")&&(e=this.pr.split("."),this.pr=e[0],this.Ph=e.slice(1).join(".")),Z(this.de,"event")&&(Z(t,"#")?(e=this.pr.split("#"),this.evN=e[0],this.pr=e[1]):(this.evN=this.pr,this.pr=0),isNaN(parseInt(this.pr))&&et("erEV",1),this.cEM={listen:this.oP.listenMethod,emit:this.oP.emitMethod})),this},sS:function(t,e){var n,i,r,o,l;if(this.sG=1,l=(o=t!==window&&C.isI(t)&&!t.nodeType)?t[0]:t){if((this.DM=C.DM(l))&&("checked"===this.pr?(r=l&&C.dR(l),n=!r&&l&&C.dC(l)):"value"===this.pr&&(this.dT=(i=C.dI(l))&&Z(l.type,"text")),o&&!Z(this.de,"multi")))if(1===t.length)t=t[0];else{if((r||n)&&!C.eAS(t))return et("erMX",3);r||n?(this.mC=!0,t=[].slice.call(t)):(t=t[0],et("erOD",3))}}else o&&C.eC(t)&&J("emptyList");switch(!1){case!e:n="Func";break;case!this.Ph:n="Pholder";break;case!Z(this.de,"array"):n="Array";break;case!Z(this.de,"event"):n="Event";break;case!Z(this.de,"func"):n="Proxy";break;case!i:n="DOMValue";break;case!r:n="DOMRadio";break;case!n:n="DOMCheckbox";break;case!Z(this.de,"attr"):n="DOMAttr";break;default:n="ObjectProp"}return Z(this.de,"multi")?(t.length||J("emptyList"),this.dM(new s(this,t,n))):this.dM(this.createBP(t,n,this,e)),Z(this._.type,"Event")||Z(this._.type,"Proxy")?this.options.updateOnBind=!1:Z(this._.type,"Func")&&(this.options.updateOnBind=!0),this.cC?this.cC(this):this},aP:function(t){var e,n,i,s;if(t.sG=2,t.subs.push(this),e=t._.aS(this._,t.options,t.uO),t.uO)delete t.uO;else if(t.options.updateOnBind&&!e)if(this._.isMulti)for(s=this._.bindings,n=0,i=s.length;n<i;n++)e=s[n],t._.uS(e,t._);else t._.uS(this._,t._)}},n.prototype=Object.create(i,{of:{get:function(){if(!this.sG)return u}},set:{get:function(){if(this.sG)return c}},chainTo:{get:function(){if(2===this.sG)return o}},transformSelf:{get:function(){if(1===this.sG)return y}},transform:{get:function(){if(2===this.sG)return d}},transformAll:{get:function(){if(2===this.sG)return v}},condition:{get:function(){if(2===this.sG)return l}},conditionAll:{get:function(){if(2===this.sG)return a}},bothWays:{get:function(){if(2===this.sG)return r}},unBind:{get:function(){if(2===this.sG)return b}},pollEvery:{get:function(){if(this.sG)return h}},stopPolling:{get:function(){if(this.sG)return f}},setOption:{get:function(){if(2===this.sG)return p}},updateOn:{get:function(){var t;if(this.sG&&(t=this))return R(!1,function(e){return e._!==t._&&(t._.pM[e._.ID]=e._,e._.aS(V(t._,!0),e.options,!1,!0)),t})}},removeUpdater:{get:function(){var t,e;if(this.sG&&(e=this)&&(t=this._.sU))return R(!1,function(n){n._.sM[t.ID]&&(delete e._.pM[n._.ID],n._.rS(t))})}},to:{get:function(){var t;if(1===this.sG&&(t=this))return R(!0,function(e){return e._!==t._&&e.aP(t),t})}},and:{get:function(){var t,e;return e=this.sC(),2===this.sG?e:1===this.sG?(e._.isMulti||(t=e._,e._=e._=new s(e),e._.addBP(t)),R(!1,function(t){return e._.addBP(t._),e})):void 0}},once:{get:function(){var t;if(1===this.sG)return t=this.sC(),t.uO=!0,t}},update:{get:function(){return this.set}},twoWay:{get:function(){return this.bothWays}},pipe:{get:function(){return this.chainTo}}}),u=function(t){return C.iO(t)||C.iF(t)||tt(t),C.iBI(t)&&(t=t.object),this.sG=1,this.sS(t)},o=function(t,e,n){return m(this.subs[this.subs.length-1]).to(t,e,n)},c=function(t){return this._.sV(t),this},y=function(t){return C.iF(t)?this._.ss(t,this.options.updateOnBind):et("erFN",1),this},d=function(t){return this._.aM("tF",this.subs.slice(-1),t,this.options.updateOnBind),this},v=function(t){return this._.aM("tF",this.subs,t,this.options.updateOnBind),this},l=function(t){return this._.aM("cN",this.subs.slice(-1),t),this},a=function(t){return this._.aM("cN",this.subs,t),this},r=function(t){var e,n,i,s,r,o;for(i=this.subs[this.subs.length-1],o=i._,n=this._.isMulti?this._.bindings:[this._],o.aS(this._,i.options),i=0,s=n.length;i<s;i++)e=n[i],r=e.sM[o.ID].tF,e=e.sM[o.ID].cN,(r||t)&&(r=C.iF(t)?t:r)&&!1!==t&&(o.sM[this._.ID].tF=r),e&&(o.sM[this._.ID].cN=e);return this},b=function(t){var e,n,i,s;for(i=this.subs,e=0,n=i.length;e<n;e++)s=i[e],this._.rS(s._,t);return this},h=function(t){return this._.aPI(t),this},f=function(){return this._.rPI(),this},p=function(t,e){return this._.sM[this.subs[this.subs.length-1]._.ID].opts[t]=e,this},s=function(t,e,n){var i,s,r;if(t.se=t.se.slice(6),N(this,this.In=t),this.isMulti=!0,this.bindings=i=[],e)for(t=0,s=e.length;t<s;t++)r=e[t],this.addBP(r,n);return Object.defineProperties(this,{type:{get:function(){return i.map(function(t){return t.type})}},value:{get:function(){return i.map(function(t){return t.value})}}})},U=s.prototype=Object.create(i),Object.keys(t.prototype).forEach(function(t){return U[t]=function(e,n,i,s){var r,o,l,a;for(a=this.bindings,o=0,l=a.length;o<l;o++)r=a[o],"uS"===t&&(n=r),r[t](e,n,i,s)}}),U.addBP=function(t,e){this.bindings.push(e?this.createBP(t,e,this.In):t)},null!=("undefined"!=typeof e&&null!==e?e.exports:void 0)?e.exports=m:"function"==typeof define&&define.amd?define(["simplybind"],function(){return m}):this.SimplyBind=m}(),e.exports}.call(this,{}),v=g,p=function(t){var e;return h.object(t)||(t={}),null==t.type&&(t.type="text"),k.appended||k(),e=Object.create(u[t.type].prototype),u.call(e,t)},p.registerField=function(t,e){var n,i,s,r,o,l;if(h.string(t)&&h.object(e)){o=Object.create(u.prototype);for(r in e)n=e[r],r="_"===r[0]?r.slice(1):r,E.includes(f,r)&&"validate"!==r&&(r="_"+r),o[r]=n;for(i=0,s=f.length;i<s;i++)if(l=f[i],!o["_"+l]||o[l])throw new Error("Field Registration: '"+l+"' is required in order to register the field");return u[t]=o}},null==this.console&&(this.console={}),null==console.log&&(console.log=function(){}),null==console.warn&&(console.warn=console.log),o="#cc4820",n="#72c322",r="#ff9c00",e="#181818",i="#909090",s="#d3d3d3",f=["_construct","_createElements","_attachBindings","_validate"],C=null!=document.createElement("div").style.animation?"":"-webkit-",_="@"+C+"keyframes checkmarkAnimateSuccessTip { 0%, 54% { width: 0; left: 0px; top: 3px } 70% { width: 14px; left: -2px; top: 8px } 84% { width: 5px; left: 5px; top: 10px } 100% { width: 8px; left: 3px; top: 10px } } @"+C+"keyframes checkmarkAnimateSuccessLong { 0%, 65% { width: 0; right: 12px; top: 12px } 84% { width: 14px; right: 0px; top: 7px } 100% { width: 12px; right: 2px; top: 8px } } @"+C+"keyframes animateError { 0%, 65% { "+C+"transform: scale(0.4); opacity: 0 } 84% { "+C+"transform: scale(1.15) } 100% { "+C+"transform: scale(1) } } @"+C+"keyframes checkmarkRotatePlaceholder { 0%, 5% { "+C+"transform: rotate(-45deg) } 12%, 100% { "+C+"transform: rotate(-405deg) } } @"+C+"keyframes fieldErrorShake { 0%, 50% { "+C+"transform: translateX(-10px) } 25%, 75% { "+C+"transform: translateX(10px) } 100% { "+C+"transform: translateX(0px) } }",k=function(){var t;return t=document.createElement("style"),t.innerHTML=_,document.body.appendChild(t),k.appended=t},d={checkmark:l.template(["*svg",{attrs:{width:"12px",height:"12px",viewBox:"5 7 12 12"}},["*polyline",{attrs:{"stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",fill:"none",points:"7 13.8888889 9.66666667 17 15 9"}}]])},h.field=function(t){return t instanceof u},h.regex=function(t){return t instanceof RegExp},I={numeric:/^\d$/,letter:/^[a-zA-Z]$/,alphanumeric:/^[0-9A-Za-z\!#\$\%\&\'\*\+\/\=\?\^\_\`\{\|\}\(\)\~\-]$/},E={},E.includes=function(t,e){return t&&t.indexOf(e)!==-1},E.removeItem=function(t,e){var n;if(n=t.indexOf(e),n!==-1)return t.splice(n,1)},E.hexToRGBA=function(t,e){var n,i,s;return"#"===t[0]&&(t=t.slice(1)),s=parseInt(t.slice(0,2),16),i=parseInt(t.slice(2,4),16),n=parseInt(t.slice(4,6),16),"rgba("+s+", "+i+", "+n+", "+e+")"},E.fuzzyMatch=function(t,e,n){var i,s,r,o,l,a;if(l=t.length,s=e.length,n||(t=t.toUpperCase(),e=e.toUpperCase()),l>s)return!1;if(l===s)return t===e;for(o=i=r=0;o<l;)for(a=t[o++];i<s;)if(e[i++]===a){r++;break}return r===l},E.getIndexOfFirstDiff=function(t,e){var n,i;for(n=0,i=Math.max(t.length,e.length);n<i;){if(t[n]!==e[n])return n;n++}return null},E.testCondition=function(t){var e,n,i,s;if(!t||!t.property||!t.target)throw new Error("Invalid condition provided: "+JSON.stringify(t));return e=function(){switch(!1){case!h.objectPlain(t.value):return t.value;case!h.regex(t.value):return{$regex:t.value};default:return{$eq:t.value}}}(),s=function(){var e,n;switch(n=t.property.split("."),!1){case 1!==n.length:return t.target[t.property];case!h.defined(t.target[t.property]):return t.target[t.property];default:for(e=t.target;h.object(e);)e=e[n.pop()];return e}}(),n=Object.keys(e),i=n.filter(function(t){var n;switch(n=e[t],t){case"$eq":return s===n;case"$ne":return s!==n;case"$gt":return s>n;case"$gte":return s>=n;case"$lt":return s<n;case"$lte":return s<=n;case"$ct":return E.includes(s,n);case"$nct":return!E.includes(s,n);case"$regex":return n.test(s);case"$nregex":return!n.test(s);case"$mask":return E.testMask(s,n);default:return!1}}),i.length===n.length},E.validateConditions=function(t){var e;return e=t.filter(function(t){return E.testCondition(t)}),e.length===t.length},E.initConditions=function(t,e,n){return setTimeout(function(i){return function(){return e.forEach(function(e){var i,s;return(i=h.string(e.ID)?t.allFields[i]:h.field(e.ID)?e.ID:void 0)?(e.target=i,s=h.array(i.value)?"array:value":"value",v(s,{updateOnBind:!1}).of(i).to(n)):console.warn("Condition target not found for the provided ID '"+e.ID+"'",t)}),n()}}(this))},a=function(t,e){var n;this.options=t,this.field=e,this.isOpen=!1,this.settings=S.deep.clone.keys(this._defaults).filter(this._settingFilters)(this._defaults,this.field.options.dropdownOptions),this.selected=this.settings.multiple?[]:null,this.lastSelected=null,this.els={};for(n in this.options.templates)this.options.templates[n]=S({options:{relatedInstance:this}},this.options.templates[n]);return this._createElements(),this._attachBindings(),this},a.prototype._templates={container:l.template(["div",{style:{position:"absolute",top:function(t){return"text"===t.field.type?"-7px":this.parent.raw.style.height},left:function(){return this.parent.rect.left-10<0?0:-10},display:"none",backgroundColor:E.hexToRGBA("f6f6f6",.9),boxShadow:"0px 6px 10px "+E.hexToRGBA("000000",.52),borderWidth:"1px",borderStyle:"solid",borderColor:"#d1d1d1",borderRadius:"5px",boxSizing:"border-box",padding:"3px 0",$isOpen:{display:"block"}}}]),list:l.template(["div",{passStateToChildren:!1,style:{overflow:"scroll",overflowScrolling:"touch"}}]),option:l.template(["div",{style:{fontSize:"0",color:"#000000",userSelect:"none",$selected:{color:"#ffffff",backgroundColor:"#4C96FF"},$hover:{color:"#ffffff",backgroundColor:"#4C96FF"}}},l.template(["div",{style:{display:"inline-block",width:"20px",lineHeight:function(){return this.parent.raw.style.height},fontSize:function(){return this.parent.raw.style.height},textAlign:"center",color:"inherit",stroke:"currentColor",visibility:"hidden",$selected:{visibility:"visible"}}},d.checkmark]),l.template(["div",{style:{display:"inline-block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",wordWrap:"normal",maxWidth:function(){return"calc(100% - "+this.prev.raw.style.width+")"},paddingRight:"10px",lineHeight:"20px",fontSize:"11px",fontFamily:"system-ui",color:"inherit",boxSizing:"border-box"}}])]),help:l.template(["div",{style:{display:"none",borderTop:"2px solid rgba(0,0,0,0.05)",padding:"3px 12px 2px",color:"rgba(0,0,0,0.75)",fontWeight:"500",fontSize:"12px",$showHelp:{display:"block"}}}])},a.prototype._defaults={maxHeight:250,multiple:!1,storeSelected:!0,help:"",templates:{}},a.prototype._settingFilters={maxHeight:function(t){return h.number(t)}},a.prototype._createElements=function(){var t;t={relatedInstance:this,styleAfterInsert:!0},this.els.container=this._templates.container.spawn(this.settings.templates.container,t),this.els.list=this._templates.list.spawn(this.settings.templates.list,t).appendTo(this.els.container),this.els.help=this._templates.help.spawn(this.settings.templates.help,t).appendTo(this.els.container),this.options.forEach(function(t){return function(e){return e.el=t._templates.option.spawn({options:{props:{title:e.label}},children:[e.label]}).appendTo(t.els.list),e.visible=!0,e.selected=!1,e.unavailable=!1}}(this))},a.prototype._attachBindings=function(){return"select"===this.field.type&&v("event:click",{listenMethod:"on"}).of(this.field.els.input).to(function(t){return function(){return t.isOpen=!0,v("event:click").of(document).once.to(function(){return t.isOpen=!1}).condition(function(e){return!l(e.target).parentsMatching(function(e){return e===t.field.els.input})})}}(this)),v("help").of(this.settings.text).to("textContent").of(this.els.help.raw).and.to(function(t){return function(e){return t.els.help.state("showHelp",e)}}(this)),v("isOpen",{updateOnBind:!1}).of(this).to(function(t){return function(e){return t.els.container.state("isOpen",e)}}(this)).and.to(function(t){return function(e){var n,i,s,r,o,l;if(e)return l=t.settings.maxHeight,n=t.els.container.parentMatching(function(t){return"visible"!==t.style("overflow")}),n&&(o=t.els.container.rect,i=n.rect,s=o.top+t.settings.maxHeight-i.bottom,o.top>=i.bottom?console.warn("The dropdown for element '"+t.field.ID+"' cannot be displayed as it's hidden by the parent overflow"):s>0&&(r=o.height-t.els.list.rect.height,l=s-r)),t.els.list.style("maxHeight",l),t.els.list.style("minWidth",parseFloat(t.field.els.input.style("width"))+10)}}(this)),v("lastSelected",{updateOnBind:!1}).of(this).to(function(t){return function(e,n){return t.settings.storeSelected&&(e.selected=!0,n&&(n.selected=!1),t.settings.multiple?(t.selected.push(e),E.removeItem(t.selected,n)):t.selected=e),t.selectedCallback(e,n)}}(this)),this.options.forEach(function(t){return function(e){var n;if(v("visible").of(e).to(function(t){return e.el.state("visible",t)}),v("selected",{updateOnBind:!1}).of(e).to(function(t){return e.el.state("selected",t)}),v("unavailable").of(e).to(function(t){return e.el.state("unavailable",t)}).and.to(function(){return e.selected=!1,t.selected=null}).condition(function(n){return n&&t.settings.multiple&&e.selected}),v("event:click",{listenMethod:"on"}).of(e.el).to(function(){return t.lastSelected=e}),"text"===t.field.type&&v("value").of(t.field).to("visible").of(e).transform(function(t){return!value||E.fuzzyMatch(e.value,t)}).condition(function(){return t.isOpen}),null!=(n=e.conditions)?n.length:void 0)return e.unavailable=!0,e.allFields=t.field.allFields,E.initConditions(e,e.conditions,function(){return e.unavailable=!E.validateConditions(e.conditions)})}}(this))},a.prototype.appendTo=function(t){return this.els.container.appendTo(t)},a.prototype.onSelected=function(t){return this.selectedCallback=t},M=["1","a","A","*","#"],c=function(t,e){return this.pattern=t,this.placeholder=e,this.minRequiredCount=0,this.valid=!1,this.value="",this.valueRaw="",this.valueStrict="",this.prev={},this.literals=[],this.optionals=[],this.repeatables=[],this._normalizePattern(),this.setValue(""),this},c.prototype._normalizePattern=function(){var t,e,n,i,s,r,o,l;for(r="",i=0,l=0,s=0,t=0;l<this.pattern.length;){switch(o=this.pattern[l],!1){case!e:e=!1,this.literals.push(l-s),r+=o,0===i&&t++;break;case"\\"!==o:e=!0,s++;break;case"["!==o:n=!0,s++;break;case"]"!==o:n=!1,s++;break;case"+"!==o:s++;break;default:E.includes(M,o)?n?this.optionals.push(l-s):"+"===this.pattern[l+1]?(this.repeatables.push(l-s),i++):i++:(this.literals.push(l-s),0===i&&t++),r+=o}l++}return this.minRequiredCount=i,this.firstNonLiteral=t,this.pattern=r},c.prototype.setValue=function(t){var e,n,i,s,r,o,l,a,u,h,c,p,f,d,v,y,b;if(e=O(this.value,t),s=(1!==t.length||0!==this.valueRaw.length)&&this.value.length>t.length,h="",c="",p="",d=this.pattern.length,v=0,i=0,e){for(;v<d;){switch(y=v,f=this.pattern[v],n=t[i],r=E.includes(this.literals,v),o=E.includes(this.optionals,v),l=E.includes(this.repeatables,v),!1){case!r:h+=f,p+=f,f===n?E.includes(M,f)&&!s||i++:1===e&&t[i+1]===f&&(i+=2),v++;break;case!E.includes(M,f):a=n&&j(n,f),a?("A"!==f&&"#"!==f||(n=n.toUpperCase()),h+=n,c+=n,(o||l)&&b===v||(p+=n),u=t[i+1]&&j(t[i+1],f),i++,u&&(l||o)||v++):(1===e&&j(t[i+1],f)&&!s||(o||(h=p+=this.placeholder),v++),i++);break;default:v++}b=y}this.prev.value=this.value,this.prev.valueRaw=this.valueRaw,this.prev.valueStrict=this.valueStrict,this.value=h,this.valueRaw=c,this.valueStrict=p,this.valid=this.validate(t)}},c.prototype.validate=function(t){var e,n,i,s,r,o,l,a,u,c;if(!h.string(t)||t.length<this.minRequiredCount)return!1;for(u=this.pattern.length,c=0,n=0;c<u;)switch(a=this.pattern[c],e=t[n],i=E.includes(this.literals,c),s=E.includes(this.optionals,c),r=E.includes(this.repeatables,c),!1){case!i:c++,a===e&&n++;break;case!E.includes(M,a):if(o=e&&j(e,a),!o)return!1;l=t[n+1]&&j(t[n+1],a),n++,l&&(r||s)||c++}return!0},c.prototype.normalizeCursorPos=function(t,e){var n,i,s,r,o,l;for(t<this.firstNonLiteral&&(e=this.firstNonLiteral+(e-t),t=this.firstNonLiteral),r=0,o=this.value.slice(0,t),l=this.valueStrict.slice(0,t),n=E.getIndexOfFirstDiff(this.value,this.prev.value),s=e>t,i=0;i<t;)(o[i+r]!==l[i]||E.includes(this.repeatables,i))&&r++,i++;if(s){if(t===this.firstNonLiteral)return t;if(E.includes(this.literals,t-1)||this.value[t-1]===this.placeholder)return t-(0===r?1:0)}else{if(null===n)return Math.max(t-1,this.firstNonLiteral);if(E.includes(this.repeatables,t-r))return t+(0===r?1:0);if(E.includes(this.literals,t))return t+1+r;if(E.includes(this.literals,n-1)&&n===t)return t+1+r}return t},j=function(t,e){switch(e){case"1":return I.numeric.test(t);case"a":case"A":return I.letter.test(t);case"*":case"#":return I.alphanumeric.test(t);default:return!1}},u=function(t){var e,n;this.options=S.deep.clone.keys(this._defaults).deep.transform({conditions:function(t){var e,n,i;if(h.objectPlain(t)){n=[];for(e in t)i=t[e],n.push({ID:e,value:i,property:"value"});return n}if(h.array(t))return t.map(function(t){return null==t.property&&(t.property="value"),t})},options:function(t){var e,n,i;if(h.objectPlain(t)){n=[];for(e in t)i=t[e],n.push({label:e,value:i});return n}if(h.array(t))return t.map(function(t){return h.objectPlain(t)?t:{label:t,value:t}})}})(this._defaults,t),this.type=t.type,this.allFields=this.options.fieldInstances||u.instances,this.value=null!=this.options.defaultValue?this.options.defaultValue:null,this.ID=this.options.ID||w++ +"",this.els={},this.state={valid:!0,visible:!0,disabled:!1,focused:!1,hovered:!1,filled:!1,interacted:!1,showError:!1,showHelp:!1,width:"100%"};for(e in this.options.templates)this.options.templates[e]=S({options:{relatedInstance:this}},this.options.templates[e]);return(null!=(n=this.options.conditions)?n.length:void 0)&&(this.state.visible=!1,E.initConditions(this,this.options.conditions,function(t){return function(){return t.validateConditions()}}(this))),this.allFields[this.ID]&&"undefined"!=typeof console&&null!==console&&console.warn("Duplicate field IDs found: '"+this.ID+"'"),this._construct(),this._createElements(),this._attachBindings(),this.allFields[this.ID]=this},u.instances=Object.create(null),w=0,u.prototype.appendTo=function(t){return this.els.field.appendTo(t),this},u.prototype.prependTo=function(t){return this.els.field.prependTo(t),this},u.prototype.insertAfter=function(t){return this.els.field.insertAfter(t),this},u.prototype.insertBefore=function(t){return this.els.field.insertBefore(t),this},u.prototype.validateConditions=function(t){var e,n;return t?n=!1:t=this.options.conditions,e=E.validateConditions(t),n?this.state.visible=e:e},u.text=D=function(){return this},D.prototype=Object.create(u.prototype),D.prototype._templates={field:l.template(["div",{style:{position:"relative",display:"none",width:function(t){return t.state.width},boxSizing:"border-box",fontFamily:function(t){return t.options.fontFamily},$visible:{display:"inline-block"},$showError:{animation:"0.2s fieldErrorShake"}}}]),fieldInnerwrap:l.template(["div",{style:{position:"relative",height:"46px",backgroundColor:"white",borderWidth:"1px",borderStyle:"solid",borderColor:s,borderRadius:"2px",boxSizing:"border-box",fontFamily:"inherit",transition:"border-color 0.2s",$focus:{borderColor:r},$showError:{borderColor:o},$disabled:{borderColor:s,backgroundColor:s}}}]),label:l.template(["div",{style:{position:"absolute",zIndex:1,top:function(t){return parseFloat(t.els.fieldInnerwrap.raw.style.height)/6},left:"12px",fontFamily:"inherit",fontSize:"11px",fontWeight:600,lineHeight:"1em",color:i,opacity:0,transition:"opacity 0.2s, color 0.2s",cursor:"default",pointerEvents:"none",$filled:{opacity:1},$focus:{color:r},$showError:{color:o}}}]),input:l.template(["input",{type:"text",style:{position:"absolute",zIndex:3,top:"0px",left:"0px",display:"block",width:"100%",height:"100%",margin:"0",padding:"0 12px",backgroundColor:"transparent",appearance:"none",border:"none",outline:"none",fontFamily:"inherit",fontSize:"14px",lineHeight:function(){return this.parent.raw.style.height},color:e,boxSizing:"border-box",transform:"translateY(0)",transition:"transform 0.2s, -webkit-transform 0.2s",$filled:{$hasLabel:{transform:function(t){return"translateY("+parseFloat(t.els.fieldInnerwrap.style("height"))/8+"px)"}}},$showCheckmark:{padding:"0 44px 0 12px"}}}]),placeholder:l.template(["div",{style:{position:"absolute",zIndex:2,top:"0px",left:"0px",lineHeight:function(){return this.parent.raw.style.height},padding:"0 12px",fontFamily:"inherit",fontSize:"14px",color:e,opacity:.5,userSelect:"none",transform:"translateY(0)",transition:"transform 0.2s, -webkit-transform 0.2s",$filled:{visibility:"hidden",$hasLabel:{transform:function(t){return"translateY("+parseFloat(t.els.fieldInnerwrap.style("height"))/8+"px)"}}}}}]),help:l.template(["div",{style:{position:"absolute",top:function(t){return parseFloat(this.parent.raw.style.height)+4+"px"},left:"0px",fontFamily:"inherit",fontSize:"11px",color:i,display:"none",$showError:{color:o},$showHelp:{display:"block"},$showError:{display:"block"}}}]),checkmark:l.template(["div",{style:{position:"absolute",zIndex:4,right:"12px",top:function(){return parseFloat(this.parent.raw.style.height)/2-13},width:"20px",height:"20px",borderRadius:"50%",backgroundColor:"white",borderWidth:"3px",borderStyle:"solid",borderColor:n,transform:"scale(0.8)",display:"none",visibility:"hidden",$showError:{borderColor:o},$showCheckmark:{visibility:"visible"},$filled:{display:"block"}}},["div",{style:{position:"absolute",top:"-4px",left:"-10px",width:"15px",height:"30px",borderRadius:"30px 0 0 30px",backgroundColor:function(){return this.parent.raw.style.backgroundColor},transform:"rotate(-45deg)",transformOrigin:"15px 15px 0"}}],["div",{style:{position:"absolute",top:"-5px",left:"8px",width:"15px",height:"30px",borderRadius:"0 30px 30px 0",backgroundColor:function(){return this.parent.raw.style.backgroundColor},transform:"rotate(-45deg)",transformOrigin:"0 15px 0",$filled:{animation:"4.25s ease-in checkmarkRotatePlaceholder",$invalid:{animation:null}}}}],["div",{style:{$filled:{$invalid:{position:"relative",zIndex:2,animation:"0.55s checkmarkAnimateError",transformOrigin:"50% 10px"}}}},["div",{style:{position:"absolute",zIndex:2,top:"10px",left:"3px",display:"block",width:"8px",height:"3px",borderRadius:"2px",backgroundColor:n,transform:"rotate(45deg)",$filled:{animation:"0.75s checkmarkAnimateSuccessTip"},$invalid:{backgroundColor:o,left:"4px",top:"8px",width:"12px",$filled:{animation:null}}}}],["div",{style:{position:"absolute",zIndex:2,top:"8px",right:"2px",display:"block",width:"12px",height:"3px",borderRadius:"2px",backgroundColor:n,transform:"rotate(-45deg)",$filled:{animation:"0.75s checkmarkAnimateSuccessLong"},$invalid:{backgroundColor:o,top:"8px",left:"4px",right:"auto",$filled:{animation:null}}}}]],["div",{style:{position:"absolute",zIndex:2,top:"-4px",left:"-3px",width:"20px",height:"20px",borderRadius:"50%",borderWidth:"3px",borderStyle:"solid",borderColor:E.hexToRGBA(n,.4),$invalid:{borderColor:E.hexToRGBA(o,.4)}}}],["div",{style:{position:"absolute",zIndex:1,top:"-2px",left:"6px",width:"4px",height:"28px",backgroundColor:function(){return this.parent.raw.style.backgroundColor},transform:"rotate(-45deg)"}}]])},D.prototype._defaults={required:!1,mask:!1,maskPlaceholder:" ",placeholder:!0,label:!1,alwaysShowHelp:!1,validWhenIsOption:!1,checkmark:!0,defaultValue:"",help:"",keyboard:"text",fontFamily:"system-ui",templates:{},dropdownOptions:{storeSelected:!1},options:null},D.prototype._construct=function(){this.state.typing=!1,this.cursor={prev:0,current:0},this.options.mask&&(this.mask=new c(this.options.mask,this.options.maskPlaceholder)),this.helpMessage=this.options.alwaysShowHelp?this.options.help:""},D.prototype._createElements=function(){var t;t={relatedInstance:this,styleAfterInsert:!0},this.els.field=this._templates.field.spawn(this.options.templates.field,t),this.els.fieldInnerwrap=this._templates.fieldInnerwrap.spawn(this.options.templates.fieldInnerwrap,t).appendTo(this.els.field),this.els.label=this._templates.label.spawn(this.options.templates.label,t).prependTo(this.els.field),this.els.input=this._templates.input.spawn(this.options.templates.input,t).appendTo(this.els.fieldInnerwrap),this.els.placeholder=this._templates.placeholder.spawn(this.options.templates.placeholder,t).appendTo(this.els.fieldInnerwrap),this.els.help=this._templates.help.spawn(this.options.templates.help,t).appendTo(this.els.fieldInnerwrap),this.els.checkmark=this._templates.checkmark.spawn(this.options.templates.checkmark,t).appendTo(this.els.fieldInnerwrap),this.options.options&&(this.dropdown=new a(this.options.options,this),this.dropdown.appendTo(this.els.fieldInnerwrap)),this.options.label&&(this.els.label.text(this.options.label),this.els.field.state("hasLabel",!0)),this.options.checkmark&&this.els.field.state("showCheckmark",!0)},D.prototype._attachBindings=function(){var t;t={listenMethod:"on"},v("visible").of(this.state).to(function(t){return function(e){return t.els.field.state("visible",e)}}(this)),v("hovered").of(this.state).to(function(t){return function(e){return t.els.field.state("hover",e)}}(this)),v("focused").of(this.state).to(function(t){return function(e){return t.els.field.state("focus",e)}}(this)),v("filled").of(this.state).to(function(t){return function(e){return t.els.field.state("filled",e)}}(this)),v("disabled").of(this.state).to(function(t){return function(e){return t.els.field.state("disabled",e)}}(this)),v("showError").of(this.state).to(function(t){return function(e){return t.els.field.state("showError",e)}}(this)),v("showHelp").of(this.state).to(function(t){return function(e){return t.els.field.state("showHelp",e)}}(this)),v("valid").of(this.state).to(function(t){return function(e){return t.els.field.state("valid",e),t.els.field.state("invalid",!e)}}(this)),v("event:mouseenter",t).of(this.els.input).to(function(t){return function(){return t.state.hovered=!0}}(this)),v("event:mouseleave",t).of(this.els.input).to(function(t){return function(){return t.state.hovered=!1}}(this)),v("event:focus",t).of(this.els.input).to(function(t){return function(){if(t.state.focused=!0,t.state.disabled)return t.els.input.raw.blur()}}(this)),v("event:blur",t).of(this.els.input).to(function(t){return function(){return t.state.focused=t.state.typing=!1}}(this)),v("event:input",t).of(this.els.input).to(function(t){return function(){return t.state.typing=!0}}(this)),v("event:keydown",t).of(this.els.input).to(function(t){return function(){return t.cursor.prev=t.selection().end}}(this)),v("width").of(this.state).to(function(t){return function(e){return t.els.field.style({width:e})}}(this)),v("showError",{updateOnBind:!1}).of(this.state).to(function(t){return function(e,n){switch(!1){case!h.string(e):return t.els.help.text(e);case!h.string(n):return t.els.help.text(t.options.help)}}}(this)),v("placeholder").of(this.options).to("textContent").of(this.els.placeholder.raw).transform(function(t){return function(e){switch(!1){case!(e===!0&&t.options.label):return t.options.label;case!h.string(e):return e;default:return""}}}(this)),v("value").of(this.els.input.raw).transformSelf(function(t){return function(e){return t.mask?(t.mask.setValue(e),t.cursor.current=t.selection().start,e=t.mask.valueRaw?t.mask.value:""):e}}(this)).to("value").of(this).bothWays(),v("value").of(this).to(function(t){return function(e){return t.mask&&(e=t.mask.valueRaw),t.state.filled=!!e,e&&(t.state.interacted=!0),t.state.valid=t.validate()}}(this)),this.options.mask&&v("value",{updateEvenIfSame:!0}).of(this.els.input.raw).to(function(t){return function(e){if(t.state.focused)return t._scheduleCursorReset()}}(this)),this.dropdown&&(v("typing").of(this.state).to("isOpen").of(this.dropdown),v("value",{updateOnBind:!1}).of(this).to(function(t){return function(e){var n,i,s,r,o;for(r=t.dropdown.options,n=0,i=r.length;n<i;n++)s=r[n],o=!e||E.fuzzyMatch(e,s.value),options.visible!==o&&(s.visible=o)}}(this)),this.dropdown.onSelected(function(t){return function(e){if(t.value=e.label,e.value!==e.label)return t.valueReal=e.value}}(this)))},D.prototype.validate=function(t){var e,n;switch(null==t&&(t=this.value),!1){case!this.mask:return this.mask.validate(t);case!(this.options.validWhenIsOption&&(null!=(n=this.options.options)?n.length:void 0)):return e=this.options.options.filter(function(e){return e.value===t}),!!e.length;default:return!!t}},D.prototype._scheduleCursorReset=function(){var t,e,n;e=E.getIndexOfFirstDiff(this.mask.value,this.mask.prev.value),t=this.cursor.current,n=this.mask.normalizeCursorPos(t,this.cursor.prev),n!==t&&this.selection(n)},D.prototype.selection=function(t){var e,n;return h.object(t)?(n=t.start,e=t.end):n=t,null==n?{start:this.els.input.raw.selectionStart,end:this.els.input.raw.selectionEnd}:((!e||e<n)&&(e=n),void this.els.input.raw.setSelectionRange(n,e))},p.version="1.0.0",null!=("undefined"!=typeof module&&null!==module?module.exports:void 0)?module.exports=p:"function"==typeof define&&define.amd?define(["quickfield"],function(){return p}):this.Field=p}()}}(this)();