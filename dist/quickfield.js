var slice=[].slice;
(function(ta){return function(){var k=function(k,C,w,r){r=function(g){return w[g]?C[g]:(w[g]=1,C[g]={},C[g]=k[g](C[g]))};k[1]=function(g){var k;var m=r(2);var u=r(3);var p=r(45);var n=r(9);return k={noop:function(){},includes:function(a,d){return a&&-1!==a.indexOf(d)},removeItem:function(a,d){var c=a.indexOf(d);if(-1!==c)return a.splice(c,1)},find:function(a,d){return a.filter(d)[0]},diff:function(a,d){var c;var h=[];var f=Math.max(a.length,d.length);for(c=-1;++c<f;){var b=a[c];var l=d[c];b!==l&&
(m.defined(b)&&!k.includes(d,b)&&h.push(b),m.defined(l)&&!k.includes(a,l)&&h.push(l))}return h},hexToRGBA:function(a,d){"#"===a[0]&&(a=a.slice(1));var c=parseInt(a.slice(0,2),16);var h=parseInt(a.slice(2,4),16);var f=parseInt(a.slice(4,6),16);return"rgba("+c+", "+h+", "+f+", "+d+")"},unlockScroll:function(a){window._isLocked=!1;return u(window).off("wheel.lock")},lockScroll:function(a){if(!window._isLocked)return window._isLocked=!0,u(window).on("wheel.lock",function(d){if(d.target===a.raw||u(d.target).parentMatching(function(c){return c===
a})){if(0<d.wheelDelta&&0===a.raw.scrollTop||0>d.wheelDelta&&a.raw.scrollHeight-a.raw.scrollTop===a.raw.clientHeight)return d.preventDefault()}else return d.preventDefault()})},fuzzyMatch:function(a,d,c){var h,f,b;var l=a.length;var n=d.length;c||(a=a.toUpperCase(),d=d.toUpperCase());if(l>n)return!1;if(l===n)return a===d;for(f=c=h=0;f<l;)for(b=a[f++];c<n;)if(d[c++]===b){h++;break}return h===l},getIndexOfFirstDiff:function(a,d){var c;var h=0;for(c=Math.max(a.length,d.length);h<c;){if(a[h]!==d[h])return h;
h++}return null},testCondition:function(a){if(!a||!a.target)throw Error("Invalid condition provided: "+JSON.stringify(a));if(!a.target.state.visible)return!1;var d=function(){switch(!1){case !m.objectPlain(a.value):return a.value;case !m.regex(a.value):return{$regex:a.value};case !("valid"===a.value&&!a.property||!m.defined(a.value)):return"valid";default:return{$eq:a.value}}}();if("valid"===d)return a.target.validate();var c=function(){var f;var b=a.property.split(".");switch(!1){case 1!==b.length:return a.target[a.property];
case !m.defined(a.target[a.property]):return a.target[a.property];default:for(f=a.target;m.object(f);)f=f[b.pop()];return f}}();var h=Object.keys(d);return h.filter(function(a){var b=d[a];switch(a){case "$eq":return c===b;case "$ne":return c!==b;case "$gt":return c>b;case "$gte":return c>=b;case "$lt":return c<b;case "$lte":return c<=b;case "$ct":return k.includes(c,b);case "$nct":return!k.includes(c,b);case "$regex":return b.test(c);case "$nregex":return!b.test(c);case "$mask":return k.testMask(c,
b);default:return!1}}).length===h.length},validateConditions:function(a){if(a){var d=a.filter(function(a){return k.testCondition(a)});return d.length===a.length}},initConditions:function(a,d,c){return setTimeout(function(h){return function(){d.forEach(function(f){var b;if(b=m.string(f.target)?a.allFields[f.target]:m.field(f.target)?f.target:void 0)f.target=b;else return console.warn("Condition target not found for the provided ID '"+f.target+"'",a);f=m.array(b._value)?"array:_value":"_value";return p(f,
{updateOnBind:!1}).of(b).and("visible").of(b.state).to(c)});return c()}}(this))},parseCssShorthandValue:function(a){var d=a.split(n.whiteSpace).map(parseFloat);a={};switch(d.length){case 1:a.top=a.right=a.bottom=a.left=d[0];break;case 2:a.top=a.bottom=d[0];a.right=a.left=d[1];break;case 3:a.top=d[0];a.right=a.left=d[1];a.bottom=d[2];break;case 4:a.top=d[0],a.right=d[1],a.bottom=d[2],a.left=d[3]}return a}}};k[2]=function(g){var k;return k=g={defined:function(g){return void 0!==g},array:function(g){return g instanceof
Array},object:function(g){return"object"===typeof g&&g},objectPlain:function(g){return k.object(g)&&"[object Object]"===Object.prototype.toString.call(g)},string:function(g){return"string"===typeof g},number:function(g){return"number"===typeof g},"function":function(g){return"function"===typeof g},iterable:function(g){return k.object(g)&&k.number(g.length)}}};k[3]=function(g){var k={exports:g};(function(){var g,u,p;var n=function(e){var a={exports:e};(function(){var e=["webkit","moz","ms","o"];var b=
"backgroundPositionX backgroundPositionY blockSize borderWidth columnRuleWidth cx cy fontSize gridColumnGap gridRowGap height inlineSize lineHeight minBlockSize minHeight minInlineSize minWidth maxHeight maxWidth outlineOffset outlineWidth perspective shapeMargin strokeDashoffset strokeWidth textIndent width wordSpacing top bottom left right x y".split(" ");["margin","padding","border","borderRadius"].forEach(function(e){var a;b.push(e);var f=["Top","Bottom","Left","Right"];var c=[];var d=0;for(a=
f.length;d<a;d++){var A=f[d];c.push(b.push(e+A))}return c});var f=document.createElement("div").style;var c=/^\d+(?:[a-z]|\%)+$/i;var d=/\d+$/;var A=/\s/;var h={includes:function(e,a){return e&&-1!==e.indexOf(a)},isIterable:function(e){return e&&"object"===typeof e&&"number"===typeof e.length&&!e.nodeType},isPropSupported:function(e){return"undefined"!==typeof f[e]},toTitleCase:function(e){return e[0].toUpperCase()+e.slice(1)},normalizeProperty:function(a){var b,f;if(this.isPropSupported(a))return a;
var c=this.toTitleCase(a);a=0;for(b=e.length;a<b;a++)if(f=e[a],f=""+f+c,this.isPropSupported(f))return f},normalizeValue:function(e,a){this.includes(b,e)&&null!==a&&(a=""+a,!d.test(a)||c.test(a)||A.test(a)||(a+="px"));return a}};var l=function(e,a,b){var f;if(h.isIterable(e)){var c=0;for(f=e.length;c<f;c++){var d=e[c];l(d,a,b)}}else if("object"===typeof a)for(c in a)b=a[c],l(e,c,b);else{a=h.normalizeProperty(a);if("undefined"===typeof b)return getComputedStyle(e)[a];a&&(e.style[a]=h.normalizeValue(a,
b))}};l.version="1.0.5";return null!=("undefined"!==typeof a&&null!==a?a.exports:void 0)?a.exports=l:"function"===typeof define&&define.amd?define(["quickdom"],function(){return l}):this.Css=l})();return a.exports}.call(this,{});var a=r(4);var d="id name type href selected checked className".split(" ");var c="id ref type name text style class className url href selected checked props attrs passStateToChildren stateTriggers".split(" ");var h={includes:function(e,a){return e&&-1!==e.indexOf(a)},removeItem:function(e,
a){var b=e.indexOf(a);-1!==b&&e.splice(b,1);return e},normalizeGivenEl:function(e){switch(!1){case !f.domNode(e):return q(e);case !f.string(e):return q.text(e);default:return e}},isStateStyle:function(e){return"$"===e[0]||"@"===e[0]}};var f=r(2);f=a.clone(f,{domDoc:function(e){return e&&9===e.nodeType},domEl:function(e){return e&&1===e.nodeType},domText:function(e){return e&&3===e.nodeType},domNode:function(e){return f.domEl(e)||f.domText(e)},quickDomEl:function(e){return e&&"QuickElement"===e.constructor.name},
template:function(e){return e&&"QuickTemplate"===e.constructor.name}});var b=function(){function e(e,a){this.type=e;this.options=a;this.el=this.options.existing||("text"===this.type?document.createTextNode(this.options.text):"*"===this.type[0]?document.createElementNS("http://www.w3.org/2000/svg",this.type.slice(1)):document.createElement(this.type));"text"===this.type&&(this.append=this.prepend=this.attr=function(){});this._parent=null;this._state=[];this._children=[];this._insertedCallbacks=[];
this._eventCallbacks={__refs:{}};this._normalizeOptions();this._applyOptions();this._attachStateEvents();this._proxyParent();this.el._quickElement=this}e.prototype.toJSON=function(){var e;var b=[this.type,a.clone.keys(c)(this.options)];var f=this.children;var d=0;for(e=f.length;d<e;d++){var h=f[d];b.push(h.toJSON())}return b};return e}();null==b.name&&(b.name="QuickElement");Object.defineProperties(b.prototype,{raw:{get:function(){return this.el}},0:{get:function(){return this.el}},css:{get:function(){return this.style}},
replaceWith:{get:function(){return this.replace}}});b.prototype.parentsUntil=function(e){return l(this,e)};b.prototype.parentMatching=function(e){var a;if(f["function"](e))for(a=this.parent;a;){if(e(a))return a;a=a.parent}};Object.defineProperties(b.prototype,{children:{get:function(){var e;if(this.el.childNodes.length!==this._children.length){this._children.length=0;var a=this.el.childNodes;var b=0;for(e=a.length;b<e;b++){var f=a[b];4>f.nodeType&&this._children.push(q(f))}}return this._children}},
parent:{get:function(){this._parent&&this._parent.el===this.el.parentNode||f.domDoc(this.el.parentNode)||(this._parent=q(this.el.parentNode));return this._parent}},parents:{get:function(){return l(this)}},next:{get:function(){return q(this.el.nextSibling)}},prev:{get:function(){return q(this.el.previousSibling)}},nextAll:{get:function(){var e;var a=[];for(e=q(this.el.nextSibling);e;)a.push(e),e=e.next;return a}},prevAll:{get:function(){var e;var a=[];for(e=q(this.el.previousSibling);e;)a.push(e),
e=e.prev;return a}},siblings:{get:function(){return this.prevAll.reverse().concat(this.nextAll)}},child:{get:function(){return this._childRefs||D(this)}},childf:{get:function(){return D(this,!0)}}});var l=function(e,a){var b;f["function"](a)||(a=void 0);var c=[];for(b=e.parent;b;)c.push(b),b=b.parent,a&&a(b)&&(b=null);return c};var D=function(e,b){if(b||!e._childRefs)e._childRefs={};var f=e._childRefs;e.ref&&(f[e.ref]=e);f=e.children;f.length&&a.apply(null,[e._childRefs].concat(slice.call(f.map(function(e){return D(e,
b)}))));return e._childRefs};b.prototype._normalizeOptions=function(){var e;null==(e=this.options).style&&(e.style={});this.options.styleShared={};this.options["class"]&&(this.options.className=this.options["class"]);this.options.url&&(this.options.href=this.options.url);null==(e=this.options).relatedInstance&&(e.relatedInstance=this);null==(e=this.options).unpassableStates&&(e.unpassableStates=[]);null==(e=this.options).passStateToChildren&&(e.passStateToChildren=!0);this.options.stateTriggers=a.deep({hover:{on:"mouseenter",
off:"mouseleave"},focus:{on:"focus",off:"blur"}},this.options.stateTriggers);this._normalizeStyle()};b.prototype._normalizeStyle=function(){var e=Object.keys(this.options.style);var b=e.filter(function(e){return h.isStateStyle(e)});var f=h.removeItem(b.slice(),"$base");this._mediaStates=b.filter(function(e){return"@"===e[0]});this._providedStates=b.map(function(e){return e.slice(1)});!h.includes(b,"$base")&&e.length&&(this.options=a.clone(this.options),b.length?(e=e.filter(function(e){return!h.isStateStyle(e)}),
this.options.style.$base=a.clone.keys(e)(this.options.style)):this.options.style={$base:this.options.style});var c=function(e){return function(a,b){var f;var d=Object.keys(a).filter(function(e){return h.isStateStyle(e)});if(d.length){e.hasSharedStateStyle=!0;null==e._stateShared&&(e._stateShared=[]);var A=0;for(f=d.length;A<f;A++){var l=d[A];var n=b.concat(l.slice(1));var J=n.join("+");e.options.styleShared[J]=e.options.style["$"+J]=a[l];c(a[l],n);delete a[l]}}}}(this);e=0;for(b=f.length;e<b;e++){var d=
f[e];c(this.options.style[d],[d.slice(1)])}};b.prototype._applyOptions=function(){var e,b;(b=this.options.id||this.options.ref)&&this.attr("data-ref",this.ref=b);this.options.id&&(this.el.id=this.options.id);this.options.className&&(this.el.className=this.options.className);this.options.src&&(this.el.src=this.options.src);this.options.href&&(this.el.href=this.options.href);this.options.type&&(this.el.type=this.options.type);this.options.name&&(this.el.name=this.options.name);this.options.value&&(this.el.value=
this.options.value);this.options.selected&&(this.el.selected=this.options.selected);this.options.checked&&(this.el.checked=this.options.checked);if(this.options.props){var f=this.options.props;for(e in f)b=f[e],this.prop(e,b)}if(this.options.attrs)for(e in f=this.options.attrs,f)b=f[e],this.attr(e,b);this.options.styleAfterInsert||this.style(this.options.style.$base);this.onInserted(function(e){return function(){e.options.styleAfterInsert&&e.style(a.clone.apply(a,[e.options.style.$base].concat(slice.call(e._getStateStyles(e._getActiveStates())))));
var b=e._inserted=e;var f=e._mediaStates;if(f.length)return e._mediaStates=new function(){var e;var a=0;for(e=f.length;a<e;a++){var c=f[a];c=c.slice(1);this[c]=z.register(b,c)}return this}}}(this))};b.prototype._attachStateEvents=function(){var e;var a=this.options.stateTriggers;var b=function(e){return function(a,b){var c=f.string(b)?b:b.on;if(f.object(b))var d=b.off;e._listenTo(c,function(){return e.state(a,!0)});if(d)return e._listenTo(d,function(){return e.state(a,!1)})}}(this);for(e in a){var c=
a[e];b(e,c)}};b.prototype._proxyParent=function(){var e=void 0;return Object.defineProperty(this,"_parent",{get:function(){return e},set:function(a){if(e=a){var b=this.parents.slice(-1)[0];if(b.raw===document.documentElement)this._unproxyParent(a);else e.onInserted(function(b){return function(){if(e===a)return b._unproxyParent(a)}}(this))}}})};b.prototype._unproxyParent=function(e){var a;delete this._parent;this._parent=e;var b=this._insertedCallbacks;var f=0;for(a=b.length;f<a;f++)e=b[f],e(this)};
var B=/\s+/;b.prototype.on=function(e,a){if(f.string(e)&&f["function"](a)){var b=e.split(".");var c=b[1];e=b[0];e.split(B).forEach(function(e){return function(b){e._eventCallbacks[b]||(e._eventCallbacks[b]=[],e._listenTo(b,function(a){var f;var c=e._eventCallbacks[b];var d=0;for(f=c.length;d<f;d++){var h=c[d];h.call(e.el,a)}}));c&&(e._eventCallbacks.__refs[c]=a);return e._eventCallbacks[b].push(a)}}(this))}return this};b.prototype.off=function(e,a){if(f.string(e)){var b=e.split(".");var c=b[1];e=
b[0];e.split(B).forEach(function(e){return function(b){if(e._eventCallbacks[b]){null==a&&(a=e._eventCallbacks.__refs[c]);if(f["function"](a))return h.removeItem(e._eventCallbacks[b],a);if(!c)return e._eventCallbacks[b].length=0}}}(this))}else for(b in this._eventCallbacks)this.off(b);return this};b.prototype.emit=function(e,a,b){null==a&&(a=!0);null==b&&(b=!0);if(e&&f.string(e)){var c=document.createEvent("Event");c.initEvent(e,a,b);this.el.dispatchEvent(c)}return this};b.prototype.onInserted=function(e,
a){null==a&&(a=!0);if(f["function"](e))return this._inserted?a&&e(this):this._insertedCallbacks.push(e),this};b.prototype._listenTo=function(e,a){this.el[this.el.addEventListener?"addEventListener":"attachEvent"](this.el.addEventListener?e:"on"+e,a);return this};b.prototype.updateOptions=function(e){f.object(e)&&(this.options=e,this._normalizeOptions(),this._applyOptions(this.options));return this};b.prototype.state=function(e,b,c){var d;if(1===arguments.length)return h.includes(this._state,e);if(this._statePipeTarget&&
c!==this)return this._statePipeTarget.state(e,b,this),this;if(f.string(e)){"$"===e[0]&&(e=e.slice(1));var l=!!b;if("base"===e)return this;var A=this._getActiveStates(e,!1);var n=this._getStateStyles(A);if(this.state(e)!==l){if(d=this.options.style["$"+e]||this.options.style["@"+e]){var g=this._providedStates.indexOf(e);A=A.filter(function(e){return function(a){return e._providedStates.indexOf(a)>g}}(this));var z=this._getStateStyles(A)}if(l)this._state.push(e),d&&this.style(a.clone.keys(d).apply(null,
[d].concat(slice.call(z))));else if(h.removeItem(this._state,e),d){var B=a.clone.keys(d).apply(null,[this.options.style.$base].concat(slice.call(n)));d=a.transform(function(){return null}).clone(d);this.style(a(d,B))}}if(this.hasSharedStateStyle){var H=Object.keys(this.options.styleShared);H=H.filter(function(a){return h.includes(a,e)});A=0;for(z=H.length;A<z;A++){var q=H[A];B=q.split("+");if(d=B.length===B.filter(function(a){return function(b){return b===e||a.state(b)}}(this)).length)d=this.options.styleShared[q],
l?(h.includes(this._stateShared,q)||this._stateShared.push(q),B=this.options.styleShared[h.removeItem(B,e).join("+")],this.style(a.clone(B,d))):(h.removeItem(this._stateShared,q),B=a.clone.keys(d).apply(null,[this.options.style.$base].concat(slice.call(n))),d=a.transform(function(){return null}).clone(d),this.style(a(d,B)))}}if(this.options.passStateToChildren&&!h.includes(this.options.unpassableStates,e))for(A=this._children,l=0,d=A.length;l<d;l++)n=A[l],n.state(e,b,c||this);return this}};b.prototype.resetState=
function(){var e;var a=this._state.slice();var b=0;for(e=a.length;b<e;b++){var f=a[b];this.state(f,!1)}return this};b.prototype.pipeState=function(e){var a;if(e){if(e=h.normalizeGivenEl(e),f.quickDomEl(e)&&e!==this){this._statePipeTarget=e;var b=this._state;var c=0;for(a=b.length;c<a;c++){var d=b[c];e.state(d,!0)}}}else!1===e&&delete this._statePipeTarget;return this};b.prototype.style=function(){if("text"!==this.type){var e=arguments;if(f.string(e[0])){var b=n(this.el,e[0],e[1]);if(!f.defined(e[1]))return this._inserted?
b:b?"":b}else f.object(e[0])&&n(this.el,a.allowNull.transform(function(e){return function(a){return"function"===typeof a?a.call(e,e.options.relatedInstance):a}}(this)).clone(e[0]));return this}};b.prototype.styleSafe=function(e,a){if("text"!==this.type){var b=arguments;var c=this.style(e);return f.string(c)?(a&&(c=0),c||this.el.style[b[0]]||this.options.style.$base[b[0]]||""):this}};b.prototype.styleParsed=function(e){return parseFloat(this.styleSafe(e))};b.prototype._getActiveStates=function(e,a){null==
a&&(a=!0);var b=this._providedStates.filter(function(a){return function(b){return h.includes(a._state,b)&&b!==e}}(this));return a&&this.hasSharedStateStyle?b.concat(this._stateShared):b};b.prototype._getStateStyles=function(a){return a.map(function(a){return function(e){return a.options.style["$"+e]||a.options.style["@"+e]}}(this))};Object.defineProperties(b.prototype,{rect:{get:function(){return this.el.getBoundingClientRect()}},width:{get:function(){return parseFloat(this.style("width"))}},height:{get:function(){return parseFloat(this.style("height"))}},
orientation:u={get:function(){return this.width>this.height?"landscape":"portrait"}},aspectRatio:g={get:function(){return this.width/this.height}}});b.prototype.attr=function(a,b){switch(b){case void 0:return this.el.getAttribute(a);case null:return this.el.removeAttribute(a);default:return this.el.setAttribute(a,b),this}};b.prototype.prop=function(a,b){switch(b){case void 0:return this.el[a];default:return this.el[a]=b,this}};b.prototype.toTemplate=function(){return q.template(this)};b.prototype.clone=
function(){var e,f;var c=this.el.cloneNode(!1);c=a.clone(this.options,{existing:c});c=new b(this.type,c);var d=this._state;var h=0;for(f=d.length;h<f;h++){var l=d[h];c.state(l,!0)}d=this.children;h=0;for(f=d.length;h<f;h++)l=d[h],c.append(l.clone());var n=this._eventCallbacks;for(e in n)for(h=n[e],d=0,f=h.length;d<f;d++)l=h[d],c.on(e,l);return c};b.prototype.append=function(a){var e;a&&(a=h.normalizeGivenEl(a),f.quickDomEl(a)&&((e=a.parent)&&e._removeChild(a),this._children.push(a),this.el.appendChild(a.el),
a.parent));return this};b.prototype.appendTo=function(a){a&&(a=h.normalizeGivenEl(a),f.quickDomEl(a)&&a.append(this));return this};b.prototype.prepend=function(a){var e;a&&(a=h.normalizeGivenEl(a),f.quickDomEl(a)&&((e=a.parent)&&e._removeChild(a),this._children.unshift(a),this.el.insertBefore(a.el,this.el.firstChild),a.parent));return this};b.prototype.prependTo=function(a){a&&(a=h.normalizeGivenEl(a),f.quickDomEl(a)&&a.prepend(this));return this};b.prototype.after=function(a){if(a&&this.parent&&
(a=h.normalizeGivenEl(a),f.quickDomEl(a))){var e=this.parent._children.indexOf(this);this.parent._children.splice(e+1,0,a);this.el.parentNode.insertBefore(a.el,this.el.nextSibling);a.parent}return this};b.prototype.insertAfter=function(a){a&&(a=h.normalizeGivenEl(a),f.quickDomEl(a)&&a.after(this));return this};b.prototype.before=function(a){if(a&&this.parent&&(a=h.normalizeGivenEl(a),f.quickDomEl(a))){var e=this.parent._children.indexOf(this);this.parent._children.splice(e,0,a);this.el.parentNode.insertBefore(a.el,
this.el);a.parent}return this};b.prototype.insertBefore=function(a){a&&(a=h.normalizeGivenEl(a),f.quickDomEl(a)&&a.before(this));return this};b.prototype.detach=function(){var a;null!=(a=this.parent)&&a._removeChild(this);return this};b.prototype.remove=function(){var a;this.detach();this.resetState();for(a in this._eventCallbacks)this._eventCallbacks[a].length=0;return this};b.prototype.empty=function(){var a;var b=this.children.slice();var f=0;for(a=b.length;f<a;f++){var c=b[f];this._removeChild(c)}return this};
b.prototype.wrap=function(a){if(a){a=h.normalizeGivenEl(a);var b=this.parent;f.quickDomEl(a)&&a!==this&&a!==this.parent&&(b&&b._removeChild(this,a.parent?void 0:a),a.append(this))}return this};b.prototype.unwrap=function(){var a,b;if(b=this.parent){var f=q.batch(b.children);var c=b.next;if(a=b.parent)b.detach(),c?f.insertBefore(c):f.appendTo(a)}return this};b.prototype.replace=function(a){var b;a&&(a=h.normalizeGivenEl(a),f.quickDomEl(a)&&a!==this&&(a.detach(),null!=(b=this.parent)&&b._removeChild(this,
a)));return this};b.prototype._removeChild=function(a,b){var e=this._children.indexOf(a);-1!==e&&(b?(this.el.replaceChild(b.el,a.el),this._children.splice(e,1,b)):(this.el.removeChild(a.el),this._children.splice(e,1)));return this};Object.defineProperties(b.prototype,{html:{get:function(){return this.el.innerHTML},set:function(a){return this.el.innerHTML=a}},text:{get:function(){return this.el.textContent},set:function(a){return this.el.textContent=a}}});var I={type:"window",el:window,raw:window,
_eventCallbacks:{__refs:{}}};I.on=b.prototype.on;I.off=b.prototype.off;I.emit=b.prototype.emit;I._listenTo=b.prototype._listenTo;Object.defineProperties(I,{width:{get:function(){return window.innerWidth}},height:{get:function(){return window.innerHeight}},orientation:u,aspectRatio:g});var z=new function(){var a=[];window.addEventListener("resize",function(){var b;var e=0;for(b=a.length;e<b;e++){var f=a[e];f()}});this.parseQuery=function(a,b){var e=b.split("(");var f=e[0];f=function(){switch(f){case "window":return I;
case "parent":return a.parent;case "self":return a;default:return a.parentMatching(function(a){return a.ref===f.slice(1)})}}();e=e[1].slice(0,-1).split(fa).map(function(a){var b=a.split(":");a=parseFloat(b[1]);isNaN(a)&&(a=b[1]);var e=b[0];var c=e.slice(0,4);b="max-"===c;var d=!b&&"min-"===c;if(b||d)e=e.slice(4);c=function(){switch(e){case "orientation":return function(){return f.orientation};case "aspect-ratio":return function(){return f.aspectRatio};case "width":case "height":return function(){return f[e]};
default:return function(){var a=f.style(e);var b=parseFloat(a);return isNaN(b)?a:b}}}();return{key:e,value:a,min:d,max:b,getter:c}});return{source:f,rules:e}};this.register=function(e,f){var c;var d=this.parseQuery(e,f);d.source&&(a.push(c=function(){return b(e,d,f)}),c());return d};var b=function(a,b,e){var f;var c=!0;var d=b.rules;b=0;for(f=d.length;b<f;b++){var h=d[b];var l=h.getter();c=function(){switch(!1){case !h.min:return l>=h.value;case !h.max:return l<=h.value;default:return l===h.value}}();
if(!c)break}return a.state(e,c)};return this};var fa=/,\s*/;var q=function(){var a;var c=1<=arguments.length?slice.call(arguments,0):[];switch(!1){case !f.array(c[0]):return q.apply(null,c[0]);case !f.template(c[0]):return c[0].spawn();case !f.quickDomEl(c[0]):return c[1]?c[0].updateOptions(c[1]):c[0];case !(f.domNode(c[0])||f.domDoc(c[0])):if(c[0]._quickElement)return c[0]._quickElement;var d=c[0].nodeName.toLowerCase().replace("#","");var h=c[1]||{};h.existing=c[0];return new b(d,h);case c[0]!==
window:return I;case !f.string(c[0]):d=c[0].toLowerCase();h="text"===d?f.object(c[1])?c[1]:{text:c[1]||""}:f.object(c[1])?c[1]:{};c=c.slice(2);d=new b(d,h);var l=0;for(a=c.length;l<a;l++)h=c[l],f.string(h)&&(h=q.text(h)),f.template(h)&&(h=q(h)),f.array(h)&&(h=q.apply(null,h)),f.quickDomEl(h)&&h.appendTo(d);return d}};q.template=function(a){return new G(a,!0)};var O=function(a,b){this.elements=a;this.returnResults=b;this.elements=this.elements.map(function(a){return q(a)});return this};O.prototype.reverse=
function(){this.elements=this.elements.reverse();return this};O.prototype["return"]=function(a){return a?(this.returnResults=!0,this):this.lastResults};Object.keys(b.prototype).concat("css","replaceWith","html","text").forEach(function(a){return O.prototype[a]=function(b){var e;var c=this.lastResults=function(){var c;var f=this.elements;var d=[];var h=0;for(c=f.length;h<c;h++)e=f[h],"html"===a||"text"===a?b?d.push(e[a]=b):d.push(e[a]):d.push(e[a].apply(e,arguments));return d}.apply(this,arguments);
return this.returnResults?c:this}});q.batch=function(a,b){if(!f.iterable(a))throw Error("Batch: expected an iterable, got "+String(a));if(!a.length)throw Error("Batch: expected a non-empty element collection");return new O(a,b)};var R=function(b,c,d){var e,h,l,n;d&&(e={options:function(b){return a(b,d)}});f.array(c)&&(c=t(c,!1));e=a.deep.notKeys("children").notDeep("relatedInstance").transform(e).clone(b,c);b=b.children;c=(null!=c?c.children:void 0)||[];e.children=[];if(f.array(c)){var g=h=0;for(n=
Math.max(b.length,c.length);0<=n?h<n:h>n;g=0<=n?++h:--h){var B=l=!1;var z=b[g];var q=c[g];g=function(){switch(!1){case !f.template(q):return q;case !f.array(q):return B=t(q,!1);case !f.string(q):return B={type:"text",options:{text:q}};case !(!q&&!d):return l=!0;default:return B=q||!0}}();l?g=z:B&&(g=z?z.extend(g,d):new G(a.deep.clone(w,g)));e.children.push(g)}}else if(f.object(c))for(z in e.children=y(c,b,d),c)q=c[z],g=f.objectPlain(g)?q:t(q),e.children.push(new G(a.deep.clone(w,g))),delete c[z];
return e};var y=function(a,b,c){var e,f;if(b.length){var d=[];var h=0;for(e=b.length;h<e;h++){var l=b[h];(f=a[l.ref])?(f=l.extend(f,c),delete a[l.ref]):f=c?l.extend(null,c):l;f._config.children=y(a,f.children);d.push(f)}return d}return b};var t=function(b,c){switch(!1){case !f.array(b):var e={};if(f.string(b[0]))e.type=b[0];else throw Error(E+" string for 'type', got '"+String(b[0])+"'");if(1<b.length&&!f.object(b[1])&&null!==b[1])throw Error(E+" object for 'options', got '"+String(b[1])+"'");e.options=
b[1]?a.deep.clone(b[1]):null;b[1]&&(e.ref=b[1].id||b[1].ref);e.children=b.slice(2);!1===c?3===b.length&&f.objectPlain(b[2])&&!f.template(b[2])&&(e.children=b[2]):e.children=e.children.map(q.template);return e;case !(f.string(b)||f.domText(b)):return{type:"text",options:{text:b.textContent||b},children:w.children};case !f.domEl(b):return{type:b.nodeName.toLowerCase(),ref:b.id,options:a.clone.keys(d)(b),children:w.children.map.call(b.childNodes,q.template)};case !f.quickDomEl(b):return{type:b.type,
ref:b.ref,options:a.clone.deep.notKeys("relatedInstance")(b.options),children:b.children.map(q.template)};case !f.template(b):return R(b._config);default:throw Error(E+" (array || string || domEl || quickDomEl || template), got "+String(b));}};var E="Template Parse Error: expected";var w={type:"div",ref:void 0,options:{},children:[]};var G=function(){function b(a,b){this._config=b?t(a):a}b.prototype.spawn=function(b,c){if(b||c)var f=R(this._config,b,c);else f=a.clone(this._config),f.options=a.deepOnly("style").clone(f.options);
return q.apply(null,[f.type,f.options].concat(slice.call(f.children)))};b.prototype.extend=function(a,c){return new b(R(this._config,a,c))};return b}();null==G.name&&(G.name="QuickTemplate");Object.keys(w).forEach(function(a){return Object.defineProperty(G.prototype,a,{get:function(){return this._config[a]}})});Object.defineProperty(G.prototype,"child",{get:function(){return this._childRefs||D(this)}});var Q="link:a anchor:a a text div span h1 h2 h3 h4 h5 h6 header footer section button br ul ol li fieldset input textarea select option form frame hr iframe img picture main nav meta object pre style table tbody th tr td tfoot video".split(" ");
g=function(a){var b;var c=b=a;h.includes(a,":")&&(a=a.split(":"),c=a[0],b=a[1]);return q[c]=function(){return q.apply(null,[b].concat(slice.call(arguments)))}};u=0;for(p=Q.length;u<p;u++){var x=Q[u];g(x)}q.version="1.0.31";return null!=("undefined"!==typeof k&&null!==k?k.exports:void 0)?k.exports=q:"function"===typeof define&&define.amd?define(["quickdom"],function(){return q}):this.Dom=q})();return k.exports};k[4]=function(g){var k={exports:g};(function(g){return function(){var g=function(g,n,a,
d){d=function(c){return a[c]?n[c]:(a[c]=1,n[c]={},n[c]=g[c](n[c]))};g[1]=function(a){var c=d(2),f=function(a){var b,c={};for(b in a)c[b]=a[b];return c},b=function(a){var b;if(a){var c={};if("object"!==typeof a)c[a]=!0;else{Array.isArray(a)||(a=Object.keys(a));var f=0;for(b=a.length;f<b;f++)c[a[f]]=!0}return c}},l=function(a){var b=a.target?function(){for(var a=arguments.length,f=-1,d=Array(a);++f<a;)d[f]=arguments[f];return c(b.options,b.options.target,d)}:function(a){for(var f=arguments.length,d=
0,h=Array(f);++d<f;)h[d]=arguments[d];return c(b.options,a,h)};b.options=a;Object.defineProperties(b,n);return b},n={deep:{get:function(){var a=f(this.options);a.deep=!0;return l(a)}},own:{get:function(){var a=f(this.options);a.own=!0;return l(a)}},allowNull:{get:function(){var a=f(this.options);a.allowNull=!0;return l(a)}},nullDeletes:{get:function(){var a=f(this.options);a.nullDeletes=!0;return l(a)}},concat:{get:function(){var a=f(this.options);a.concat=!0;return l(a)}},clone:{get:function(){var a=
f(this.options);a.target={};return l(a)}},notDeep:{get:function(){var a=f(this.options);return function(c){a.notDeep=b(c);return l(a)}}},deepOnly:{get:function(){var a=f(this.options);return function(c){a.deepOnly=b(c);return l(a)}}},keys:{get:function(){var a=f(this.options);return function(c){a.keys=b(c);return l(a)}}},notKeys:{get:function(){var a=f(this.options);return function(c){a.notKeys=b(c);return l(a)}}},transform:{get:function(){var a=f(this.options);return function(b){"function"===typeof b?
a.globalTransform=b:b&&"object"===typeof b&&(a.transforms=b);return l(a)}}},filter:{get:function(){var a=f(this.options);return function(b){"function"===typeof b?a.globalFilter=b:b&&"object"===typeof b&&(a.filters=b);return l(a)}}}};return l({})};g[2]=function(a){var c,f=function(a){return a&&"[object Object]"===Object.prototype.toString.call(a)||Array.isArray(a)},b=function(a,c,f){if(a.deep)return a.notDeep?!a.notDeep[c]:!0;if(a.deepOnly)return a.deepOnly[c]||f&&b(a,f)};return c=function(a,d,h,n){var l,
g;if(!d||"object"!==typeof d&&"function"!==typeof d)d={};var q=0;for(g=h.length;q<g;q++){var k=h[q];if(null!=k)for(l in k){var m=k[l],y=d[l];if(!(m===d||void 0===m||null===m&&!a.allowNull&&!a.nullDeletes||a.keys&&!a.keys[l]||a.notKeys&&a.notKeys[l]||a.own&&!k.hasOwnProperty(l)||a.globalFilter&&!a.globalFilter(m,l,k)||a.filters&&a.filters[l]&&!a.filters[l](m,l,k)))if(null===m&&a.nullDeletes)delete d[l];else switch(a.globalTransform&&(m=a.globalTransform(m,l,k)),a.transforms&&a.transforms[l]&&(m=a.transforms[l](m,
l,k)),!1){case !(a.concat&&Array.isArray(m)&&Array.isArray(y)):d[l]=y.concat(m);break;case !(b(a,l,n)&&f(m)):y=f(y)?y:Array.isArray(m)?[]:{};d[l]=c(a,y,[m],l);break;default:d[l]=m}}}return d}};return d},g=g({},{},{});return function(){var m=g(1);null!=("undefined"!==typeof k&&null!==k?k.exports:void 0)?k.exports=m:"function"===typeof define&&define.amd?define(["smart-extend"],function(){return m}):window.extend=m}()}})(this)();return k.exports};k[5]=function(g){return"_construct _getValue _setValue _createElements _attachBindings validate".split(" ")};
k[9]=function(g){return{whiteSpace:/\s+/,numeric:/^\d$/,letter:/^[a-zA-Z]$/,widenumeric:/^[0-9\!#\$\%\*\+\/\=\?\^\{\|\}\(\)\~\-\.]$/,alphanumeric:/^[0-9A-Za-z\!#\$\%\&\'\*\+\/\=\?\^\_\`\{\|\}\(\)\~\-\ ]$/}};k[12]=function(g){g=r(3);return{checkmark:g.template(["*svg",{attrs:{width:"12px",height:"12px",viewBox:"5 7 12 12",tabindex:-1,focusable:!1},style:{width:"9px",height:"9px"}},["*polyline",{attrs:{"stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",fill:"none",points:"7 13.8888889 9.66666667 17 15 9",
tabindex:-1,focusable:!1}}]]),angleDown:g.template(["*svg",{attrs:{width:"1792px",height:"1792px",viewBox:"0 0 1792 1792",tabindex:-1,focusable:!1},style:{width:"100%",height:"100%",outline:"none"}},["*path",{attrs:{tabindex:-1,focusable:!1,d:"M1395 736q0 13-10 23l-466 466q-10 10-23 10t-23-10l-466-466q-10-10-10-23t10-23l50-50q10-10 23-10t23 10l393 393 393-393q10-10 23-10t23 10l50 50q10 10 10 23z"}}]]),caretUp:g.template(["*svg",{attrs:{viewBox:"0 0 512 512",tabindex:-1,focusable:!1},style:{width:"100%",
height:"100%"}},["*path",{attrs:{tabindex:-1,focusable:!1,d:"M402 347c0 5-2 10-5 13-4 4-8 6-13 6h-256c-5 0-9-2-13-6-3-3-5-8-5-13s2-9 5-12l128-128c4-4 8-6 13-6s9 2 13 6l128 128c3 3 5 7 5 12z"}}]]),caretDown:g.template(["*svg",{attrs:{viewBox:"0 0 512 512",tabindex:-1,focusable:!1},style:{width:"100%",height:"100%"}},["*path",{attrs:{tabindex:-1,focusable:!1,d:"M402 201c0 5-2 9-5 13l-128 128c-4 4-8 5-13 5s-9-1-13-5l-128-128c-3-4-5-8-5-13s2-9 5-13c4-3 8-5 13-5h256c5 0 9 2 13 5 3 4 5 8 5 13z"}}]])}};
k[15]=function(g){return{red:"#cc4820",green:"#72c322",orange:"#ff9c00",black:"#181818",grey:"#909090",grey_semi_light:"#bebebe",grey_light:"#d3d3d3"}};k[16]=function(g){return{fontFamily:"system-ui, sans-serif",templates:{},label:!1,alwaysShowHelp:!1,help:"",defaultValue:null,width:"100%"}};k[17]=function(g){var k=r(30);var m=function(a){return function(a){var c=r(9);var b=r(2);var d=r(1);var h=function(a){"use strict";var b=[],c=[];return a=function(a,f){if(a===f)return 0;var d=a.length,h=f.length;
if(0===d)return h;if(0===h)return d;for(var l,n,g,k,m=0,e=0;m<d;)c[m]=a.charCodeAt(m),b[m]=++m;for(;e<h;)for(l=f.charCodeAt(e),g=e++,n=e,m=0;m<d;m++)k=l===c[m]?g:g+1,g=b[m],n=b[m]=g>n?k>n?n+1:k:k>g?g+1:k;return n}}.call(this,{});var n="1#aA*^".split("");m=function(a,b,c){this.pattern=a;this.placeholder=b;this.guide=c;this.optionalsOffset=this.minRequiredCount=0;this.lastValid=null;this.lastInput="";this.valid=!1;this.valueStrict=this.valueRaw=this.value="";this.prev={};this.literals=[];this.optionals=
[];this.repeatables=[];this._normalizePattern();this.setValue("");return this};m.prototype._normalizePattern=function(){var a,b,c,f;var h="";for(a=c=f=b=0;f<this.pattern.length;){var l=this.pattern[f];switch(!1){case !g:var g=!1;this.literals.push(f-c);h+=l;0===b&&a++;break;case "\\"!==l:g=!0;c++;break;case "["!==l:var m=!0;c++;break;case "]"!==l:m=!1;c++;break;case "+"!==l:c++;break;default:d.includes(n,l)?m?this.optionals.push(f-c):b++:(this.literals.push(f-c),0===b&&a++),"+"===this.pattern[f+1]&&
this.repeatables.push(f-c),h+=l}f++}this.minRequiredCount=b;this.firstNonLiteral=a;return this.pattern=h};m.prototype.setValue=function(a){var b,c,f,l,m;var k=d.getIndexOfFirstDiff(this.value,a);var z=h(this.value,a);(b=1===a.length&&0===this.valueRaw.length?!1:this.value.length>a.length)||(c=a.slice(k,k+z));var p=l=f="";var B=this.pattern.length;var u=m=0;if(!(!z&&this.value||b&&d.includes(this.literals,k-this.optionalsOffset)&&k-this.optionalsOffset>this.firstNonLiteral)){for(;m<B;){var r=m;var e=
this.pattern[m];var D=a[u];var E=d.includes(this.literals,m);var w=d.includes(this.optionals,m);k=d.includes(this.repeatables,m);if(a&&!D&&!this.guide)break;switch(!1){case !E:f+=e;p+=e;e===D?d.includes(n,e)&&!b||z>=this.literals.length&&1<z&&this.valueRaw.length||u++:1===z&&a[u+1]===e&&(u+=2);m++;break;case !d.includes(n,e):if(E=D&&g(D,e)){if("A"===e||"^"===e)D=D.toUpperCase();f+=D;l+=D;if(!w&&!k||x!==m)p+=D;var x=a[u+1]&&g(a[u+1],e);u++;x&&k||m++;k&&!x&&d.includes(this.literals,m)&&a[u]!==this.pattern[m]&&
u++}else 1!==z||!g(a[u+1],e)||b?(m++,!w&&this.guide&&(f+=this.placeholder,p+=this.placeholder)):w&&u++,w||u++;break;default:debugger}x=r}this.prev.value=this.value;this.prev.valueRaw=this.valueRaw;this.prev.valueStrict=this.valueStrict;this.value=f;this.valueRaw=l;this.valueStrict=p;c&&(this.lastInput=c);this.optionalsOffset=h(f,p);this.valid=this.validate(a,!0)}};m.prototype.validate=function(a,c){var f,h;if(!b.string(a)||a.length<this.minRequiredCount)return!1;var l=this.pattern.length;for(f=h=
0;h<l;){var m=this.pattern[h];var k=a[f];var z=d.includes(this.literals,h);var u=d.includes(this.optionals,h);var p=d.includes(this.repeatables,h);switch(!1){case !z:h++;m===k&&null!=a[f+1]&&f++;break;case !d.includes(n,m):if(k=k&&g(k,m))u=a[f+1]&&g(a[f+1],m),f++,u&&p||h++;else if(u)h++;else return c&&(this.lastValid=0>f-1?null:f-1),!1}}c&&(this.lastValid=f);return!0};m.prototype.normalizeCursorPos=function(a,b){var c;var f=b>a;if(a<=this.firstNonLiteral){var h=1<=this.firstNonLiteral-a&&!f||1===
this.firstNonLiteral?1:0;a=this.firstNonLiteral+h}var l=0;var g=this.value.slice(0,a);var n=this.valueStrict.slice(0,a);h=d.getIndexOfFirstDiff(this.value,this.prev.value);for(c=0;c<a;)g[c]!==n[c-l]&&l++,c++;if(f){if(a===this.firstNonLiteral)return a;if(d.includes(this.literals,a-1)||this.value[a-1]===this.placeholder)return a-(0===l?1:0)}else{if(null===h)return d.includes(this.literals,a-l-1)&&n[a-l-1]===this.lastInput?a:Math.max(a-1,this.firstNonLiteral);if(d.includes(this.repeatables,a-l)||d.includes(this.repeatables,
h-l))return a;if(d.includes(this.literals,a-l))return a+(0===l?1:0);if(d.includes(this.literals,h-1)&&h===a)return a+1}return a};m.prototype.isLiteralAtPos=function(a){return d.includes(this.literals,a)};m.prototype.isRepeatableAtPos=function(a){0!==a&&(a-=this.optionalsOffset+1);return d.includes(this.repeatables,a)};var g=function(a,b){switch(b){case "1":return c.numeric.test(a);case "#":return c.widenumeric.test(a);case "a":case "A":return c.letter.test(a);case "*":case "^":return c.alphanumeric.test(a);
default:return!1}};return a=m}}(this)({});var u=r(18);var p=r(1);var n=r(2);var a=r(3);var d=r(45);g=Object.create(null);g._templates=function(c){return function(c){a=r(3);c=r(15);p=r(1);return c={field:a.template(["div",{ref:"field",style:{position:"relative",display:"none",boxSizing:"border-box",fontFamily:function(a){return a.settings.fontFamily},$visible:{display:"inline-block"},$showError:{animation:"0.2s fieldErrorShake"}}},["div",{ref:"label",style:{position:"absolute",zIndex:1,top:function(a){return parseFloat(a.el.child.innerwrap.styleSafe("height"))/
6},left:function(a){var b;return parseFloat(null!=(b=a.el.child.icon)?b.styleSafe("width"):void 0)||0},padding:"0 12px",fontFamily:"inherit",fontSize:"11px",fontWeight:600,lineHeight:"1em",color:c.grey,opacity:0,transition:"opacity 0.2s, color 0.2s",whiteSpace:"nowrap",userSelect:"none",cursor:"default",pointerEvents:"none",$filled:{$showLabel:{opacity:1}},$focus:{color:c.orange},$showError:{color:c.red}}}],["div",{ref:"innerwrap",style:{position:"relative",height:"46px",backgroundColor:"white",borderWidth:"1px",
borderStyle:"solid",borderColor:c.grey_light,borderRadius:"2px",boxSizing:"border-box",fontFamily:"inherit",transition:"border-color 0.2s",$focus:{borderColor:c.orange},$showError:{borderColor:c.red},$disabled:{borderColor:c.grey_light,backgroundColor:c.grey_light}}},["input",{ref:"input",type:"text",style:{position:"relative",zIndex:3,display:"inline-block",verticalAlign:"top",width:function(a){if(!a.settings.autoWidth){var b="";a.el.child.icon&&(b+=" -"+a.el.child.icon.raw.styleSafe("width",!0));
a.el.child.checkmark&&(b+=" -"+a.el.child.checkmark.styleSafe("width",!0));return"calc(100% + ("+(b||"0px")+"))"}},height:function(){return this.parent.styleSafe("height")},margin:"0",padding:"12px",backgroundColor:"transparent",appearance:"none",border:"none",outline:"none",fontFamily:"inherit",fontSize:"14px",color:c.black,boxSizing:"border-box",boxShadow:"none",whiteSpace:"nowrap",transform:"translateY(0)",transition:"transform 0.2s, -webkit-transform 0.2s",$filled:{$showLabel:{transform:function(a){var b;
if((b=a.el.child.label)&&"absolute"===b.style("position"))return a=this._inserted?this.styleParsed("paddingTop"):p.parseCssShorthandValue(this.styleSafe("padding")).top,b=b.height+b.styleParsed("top")-a-2,"translateY("+b+"px)"}}},$showCheckmark:{padding:"0 44px 0 12px"}}}],["div",{ref:"placeholder",style:{position:"absolute",zIndex:2,top:"0px",left:function(a){var b;return(null!=(b=a.el.child.icon)?b.styleSafe("width"):void 0)||0},fontFamily:function(a){return a.el.child.input.styleSafe("fontFamily")},
fontSize:function(a){return a.el.child.input.styleSafe("fontSize")},padding:function(a){var b=a.el.child.input.styleParsed("paddingLeft");return a.el.child.input.styleParsed("paddingTop")+3+"px "+b+"px"},color:c.black,opacity:.5,userSelect:"none",whiteSpace:"nowrap",transform:"translateY(0)",transition:"transform 0.2s, -webkit-transform 0.2s",$filled:{visibility:"hidden",$showLabel:{transform:function(a){return a.el.child.input.raw.style.transform}}}}}]],["div",{ref:"help",style:{position:"absolute",
top:function(a){return this.parent.styleParsed("height")+4},left:"0px",fontFamily:"inherit",fontSize:"11px",color:c.grey,display:"none",$showError:{color:c.red,display:"block"},$showHelp:{display:"block"}}}]]),checkmark:a.template(["div",{ref:"checkmark",style:{position:"relative",zIndex:4,display:"none",width:"38px",height:"100%",paddingTop:function(){return this.parent.styleParsed("height")/2-13},paddingRight:"12px",verticalAlign:"top",boxSizing:"border-box",$filled:{display:"inline-block"}}},["div",
{ref:"checkmark_innerwrap",style:{width:"20px",height:"20px",borderRadius:"50%",backgroundColor:"white",borderWidth:"3px",borderStyle:"solid",borderColor:c.green,transform:"scale(0.8)",$showError:{borderColor:c.red}}},["div",{ref:"checkmark_mask1",style:{position:"absolute",top:"-4px",left:"-10px",width:"15px",height:"30px",borderRadius:"30px 0 0 30px",backgroundColor:function(){return this.parent.raw.style.backgroundColor},transform:"rotate(-45deg)",transformOrigin:"15px 15px 0"}}],["div",{ref:"checkmark_mask2",
style:{position:"absolute",top:"-5px",left:"8px",width:"15px",height:"30px",borderRadius:"0 30px 30px 0",backgroundColor:function(){return this.parent.raw.style.backgroundColor},transform:"rotate(-45deg)",transformOrigin:"0 15px 0",$filled:{animation:"4.25s ease-in checkmarkRotatePlaceholder",$invalid:{animation:""}}}}],["div",{ref:"checkmark_lineWrapper",style:{$filled:{$invalid:{position:"relative",zIndex:2,animation:"0.55s checkmarkAnimateError",transformOrigin:"50% 10px"}}}},["div",{ref:"checkmark_lineShort",
style:{position:"absolute",zIndex:2,top:"10px",left:"3px",display:"block",width:"8px",height:"3px",borderRadius:"2px",backgroundColor:c.green,transform:"rotate(45deg)",$filled:{animation:"0.75s checkmarkAnimateSuccessTip"},$invalid:{backgroundColor:c.red,left:"4px",top:"8px",width:"12px",$filled:{animation:""}}}}],["div",{ref:"checkmark_lineLong",style:{position:"absolute",zIndex:2,top:"8px",right:"2px",display:"block",width:"12px",height:"3px",borderRadius:"2px",backgroundColor:c.green,transform:"rotate(-45deg)",
$filled:{animation:"0.75s checkmarkAnimateSuccessLong"},$invalid:{backgroundColor:c.red,top:"8px",left:"4px",right:"auto",$filled:{animation:""}}}}]],["div",{ref:"checkmark_placeholder",style:{position:"absolute",zIndex:2,top:"-4px",left:"-3px",width:"20px",height:"20px",borderRadius:"50%",borderWidth:"3px",borderStyle:"solid",borderColor:p.hexToRGBA(c.green,.4),$invalid:{borderColor:p.hexToRGBA(c.red,.4)}}}],["div",{ref:"checkmark_patch",style:{position:"absolute",zIndex:1,top:"-2px",left:"6px",
width:"4px",height:"28px",backgroundColor:function(){return this.parent.raw.style.backgroundColor},transform:"rotate(-45deg)"}}]]])}}}(this)({});g._defaults=function(a){return function(a){return{mask:!1,maskPlaceholder:" ",maskGuide:!0,placeholder:!0,validWhenIsChoice:!1,validWhenRegex:!1,autoWidth:!1,maxWidth:"100%",checkmark:!0,keyboard:"text",dropdownOptions:{storeSelected:!1,lockScroll:!1},choices:null}}}(this)({});g._construct=function(){null==this._value&&(this._value="");this.state.typing=
!1;this.cursor={prev:0,current:0};if(!this.settings.mask){var a=this.settings;a:{switch(this.settings.keyboard){case "number":case "phone":case "tel":var d="1+";break a;case "email":d="*+@*+.aa+";break a}d=void 0}a.mask=d}this.settings.mask&&(this.mask=new m(this.settings.mask,this.settings.maskPlaceholder,this.settings.maskGuide))};g._getValue=function(){return this._value};g._setValue=function(a){if(n.string(a)||n.number(a))return this._value=a};g._createElements=function(){var a={relatedInstance:this,
styleAfterInsert:!0};this.el=this._templates.field.spawn(this.settings.templates.field,a);this.settings.choices&&(this.dropdown=new k(this.settings.choices,this),this.dropdown.appendTo(this.el.child.innerwrap));if(this.settings.icon){if(n.string(this.settings.icon))var d=this.settings.icon;this._templates.icon.spawn(this.settings.templates.icon,a,d).insertBefore(this.el.child.input)}this.settings.checkmark&&this._templates.checkmark.spawn(this.settings.templates.checkmark,a).insertAfter(this.el.child.input);
this.el.child.input.prop("type",function(){switch(this.settings.keyboard){case "number":case "tel":case "phone":return"tel";case "password":return"password";case "url":return"url";default:return"text"}}.call(this));this.el.state("hasLabel",this.settings.label);this.el.child.innerwrap.raw._quickField=this.el.child.input.raw._quickField=this};g._attachBindings=function(){this._attachBindings_elState();this._attachBindings_display();this._attachBindings_display_autoWidth();this._attachBindings_value();
this._attachBindings_autocomplete();this._attachBindings_stateTriggers()};g._attachBindings_elState=function(){d("visible").of(this.state).to(function(a){return function(c){return a.el.state("visible",c)}}(this));d("hovered").of(this.state).to(function(a){return function(c){return a.el.state("hover",c)}}(this));d("focused").of(this.state).to(function(a){return function(c){return a.el.state("focus",c)}}(this));d("filled").of(this.state).to(function(a){return function(c){return a.el.state("filled",
c)}}(this));d("disabled").of(this.state).to(function(a){return function(c){return a.el.state("disabled",c)}}(this));d("showLabel").of(this.state).to(function(a){return function(c){return a.el.state("showLabel",c)}}(this));d("showError").of(this.state).to(function(a){return function(c){return a.el.state("showError",c)}}(this));d("showHelp").of(this.state).to(function(a){return function(c){return a.el.state("showHelp",c)}}(this));d("valid").of(this.state).to(function(a){return function(c){a.el.state("valid",
c);return a.el.state("invalid",!c)}}(this))};g._attachBindings_display=function(){d("showError",{updateOnBind:!1}).of(this.state).to(function(a){return function(c,d){switch(!1){case !n.string(c):return a.state.help=c;case !n.string(d):return a.state.help=a.settings.help}}}(this));d("label").of(this.state).to("text").of(this.el.child.label).and.to("showLabel").of(this.state);d("help").of(this.state).to("text").of(this.el.child.help);d("placeholder").of(this.state).to("text").of(this.el.child.placeholder).transform(function(a){return function(c){switch(!1){case !(!0===
c&&a.settings.label):return a.settings.label;case !n.string(c):return c;default:return""}}}(this))};g._attachBindings_display_autoWidth=function(){d("width",{updateEvenIfSame:!0}).of(this.state).to(function(a){return function(c){return(a.settings.autoWidth?a.el.child.input:a.el).style({width:c})}}(this));this.settings.autoWidth&&d("_value",{updateEvenIfSame:!0,updateOnBind:!1}).of(this).to("width").of(this.state).transform(function(a){return function(){return a._getInputAutoWidth()+"px"}}(this)).updateOn("event:inserted").of(this)};
g._attachBindings_value=function(){d("value").of(this.el.child.input.raw).transformSelf(function(a){return function(c){null==c&&(c="");a.mask&&(a.mask.setValue(c),a.cursor.current=a.selection().start,c=a.mask.valueRaw?a.mask.value:"");return c}}(this));d("_value").of(this).to("value").of(this.el.child.input.raw).bothWays().and.to("valueRaw").of(this).transform(function(a){return function(c){return a.mask?a.mask.valueRaw:c}}(this));d("valueRaw").of(this).to(function(a){return function(c){a.state.filled=
!!c;c&&(a.state.interacted=!0);a.state.valid=a.validate();return a.emit("input",c)}}(this));this.settings.mask&&(d("value",{updateEvenIfSame:!0}).of(this.el.child.input.raw).to(function(a){return function(c){if(a.state.focused)return a._scheduleCursorReset()}}(this)),d("event:keydown").of(this.el.child.input).to(function(a){return function(c){c=a.selection().start;return a.selection({start:c+1,end:c+1})}}(this)).condition(function(a){return function(c){var d=a.selection();return a._value&&d.start===
d.end&&c.keyCode!==u["delete"]&&!u.anyArrow(c.keyCode)&&a.mask.isLiteralAtPos(d.start)&&!a.mask.isRepeatableAtPos(d.start)}}(this)))};g._attachBindings_autocomplete=function(){this.dropdown&&(d("typing",{updateEvenIfSame:!0}).of(this.state).to(function(c){return function(h){if(h){if(c.valueRaw)return c.dropdown.isOpen=!0,d("event:click").of(document).once.to(function(){return c.dropdown.isOpen=!1}).condition(function(d){return!a(d.target).parentMatching(function(a){return a===c.el.child.innerwrap})})}else return setTimeout(function(){return c.dropdown.isOpen=
!1},300)}}(this)),d("valueRaw",{updateOnBind:!1}).of(this).to(function(a){return function(c){var d;var b=a.dropdown.options;var h=0;for(d=b.length;h<d;h++){var g=b[h];var n=c?p.fuzzyMatch(c,g.value):!0;g.visible!==n&&(g.visible=n)}a.dropdown.isOpen&&!c&&(a.dropdown.isOpen=!1)}}(this)),this.dropdown.onSelected(function(a){return function(c){a._value=c.label;c.value!==c.label&&(a.valueRaw=c.value);a.dropdown.isOpen=!1;return a.selection(a.el.child.input.raw.value.length)}}(this)))};g._attachBindings_stateTriggers=
function(){d("event:mouseenter").of(this.el.child.input).to(function(a){return function(){return a.state.hovered=!0}}(this));d("event:mouseleave").of(this.el.child.input).to(function(a){return function(){return a.state.hovered=!1}}(this));d("event:focus").of(this.el.child.input).to(function(a){return function(){a.state.focused=!0;if(a.state.disabled)return a.blur()}}(this));d("event:blur").of(this.el.child.input).to(function(a){return function(){return a.state.typing=a.state.focused=!1}}(this));d("event:input").of(this.el.child.input).to(function(a){return function(){return a.state.typing=
!0}}(this));d("event:keydown").of(this.el.child.input).to(function(a){return function(){return a.cursor.prev=a.selection().end}}(this))};g._scheduleCursorReset=function(){p.getIndexOfFirstDiff(this.mask.value,this.mask.prev.value);var a=this.cursor.current;var d=this.mask.normalizeCursorPos(a,this.cursor.prev);d!==a&&this.selection(d)};g._setValueIfNotSet=function(){this.el.child.input.raw.value!==this._value&&(this.el.child.input.raw.value=this._value)};g._getInputAutoWidth=function(){if(this._value){this._setValueIfNotSet();
this.el.child.input.style("width",0);this.el.child.input.raw.scrollLeft=1E10;var a=Math.max(this.el.child.input.raw.scrollLeft+this.el.child.input.raw.offsetWidth,this.el.child.input.raw.scrollWidth)+2;var d=this.settings.label&&"absolute"===this.el.child.label.styleSafe("position")?this.el.child.label.rect.width:0}else a=this.el.child.placeholder.rect.width,d=0;return Math.min(this._getMaxWidth(),Math.max(a,d))};g._getMaxWidth=function(){var a;if("number"===typeof this.settings.maxWidth)var d=this.settings.maxWidth;
else"string"===typeof this.settings.maxWidth&&(d=parseFloat(this.settings.maxWidth),p.includes(this.settings.maxWidth,"%")&&((a=this.el.parent)?(a=a.styleParsed("width")-a.styleParsed("paddingLeft")-a.styleParsed("paddingRight")-2,d=d/100*a):d=0));return d||Infinity};g.validate=function(a){var c;null==a&&(a=this._value);switch(!1){case !(this.settings.validWhenRegex&&n.regex(this.settings.validWhenRegex)):return this.settings.validWhenRegex.test(a);case !(this.settings.validWhenIsChoice&&null!=(c=
this.settings.choices)&&c.length):return c=this.settings.choices.filter(function(c){return c.value===a}),!!c.length;case !this.mask:return this.mask.validate(a);default:return!!a}};g.selection=function(a){if(n.object(a)){var c=a.start;var d=a.end}else c=a;if(null!=c){if(!d||d<c)d=c;this.el.child.input.raw.setSelectionRange(c,d)}else return{start:this.el.child.input.raw.selectionStart,end:this.el.child.input.raw.selectionEnd}};g.focus=function(){return this.el.child.input.raw.focus()};g.blur=function(){return this.el.child.input.raw.blur()};
return g};k[18]=function(g){var k;return g=k={"delete":8,enter:13,esc:27,ctrl:17,alt:18,shift:16,"super":91,super2:93,up:38,left:37,right:39,down:40,anyArrow:function(g){return g===k.up||g===k.down||g===k.left||g===k.right},anyModifier:function(g){return g===k.ctrl||g===k.alt||g===k.shift||g===k["super"]||g===k.super2}}};k[24]=function(g){var k=r(1);var m=r(2);var u=r(3);var p=r(45);g=Object.create(null);g._templates=function(g){return function(a){u=r(3);a=r(15);return a={field:u.template(["div",
{ref:"field",style:{position:"relative",display:"none",width:function(a){return a.state.width},boxSizing:"border-box",fontFamily:function(a){return a.settings.fontFamily},$visible:{$hasVisibleOptions:{display:"inline-block"}},$showError:{animation:"0.2s fieldErrorShake"}}},["div",{ref:"label",style:{display:"none",marginBottom:"12px",fontFamily:"inherit",fontSize:"13px",fontWeight:600,textAlign:"left",color:a.black,cursor:"default",pointerEvents:"none",userSelect:"none",$showLabel:{display:"block"},
$showError:{color:a.red}}}],["div",{ref:"innerwrap",style:{position:"relative",boxSizing:"border-box",fontFamily:"inherit"}}],["div",{ref:"help",style:{marginTop:"10px",fontFamily:"inherit",fontSize:"11px",color:a.grey,display:"none",$showError:{color:a.red,display:"block"},$showHelp:{display:"block"}}}]]),choiceGroup:u.template(["div",{ref:"choiceGroup",style:{marginBottom:function(a){return a.settings.spacing},userSelect:"none",fontSize:"0",whiteSpace:"nowrap"}}]),choice:u.template(["div",{ref:"choice",
style:{position:"relative",display:"inline-block",width:"auto",marginLeft:function(a){if(this.index)return"calc(100% - (100% - "+a.settings.spacing+"px))"},padding:"0 12px",borderRadius:"2px",backgroundColor:"white",fontFamily:"inherit",textAlign:"center",color:a.black,boxSizing:"border-box",verticalAlign:"top",cursor:"pointer",$definedWidth:{width:function(a){return"calc((100% - "+a.settings.spacing*(a.settings.perGroup-1)+"px) / "+a.settings.perGroup+")"}},$selected:{color:a.orange},$unavailable:{display:"none"},
$disabled:{cursor:"not-allowed",opacity:.7,color:a.grey}}},["div",{ref:"border",style:{position:"absolute",zIndex:2,top:"0",left:"0",width:"100%",height:"100%",borderWidth:"1px",borderStyle:"solid",borderColor:a.grey_light,borderRadius:"2px",boxSizing:"border-box",$selected:{borderColor:"inherit",borderWidth:"2px"},$disabled:{borderColor:a.grey_light}}}],["div",{ref:"label",style:{position:"relative",display:"block",padding:"15px 0px",fontFamily:"inherit",fontSize:"14px",fontWeight:"500"}}]]),choiceIcon:u.template(["div",
{ref:"icon",style:{position:"absolute",top:"50%",display:"block",fontSize:"20px",opacity:.16,transform:"translateY(-50%)"}}])}}}(this)({});g._defaults=function(g){return function(a){return{validWhenSelected:!1,validWhenIsChoice:!1,showSelectAll:!1,perGroup:7,spacing:8,choices:[]}}}(this)({});g._construct=function(){var g;if(null==(g=this.settings.choices)||!g.length)throw Error("Choices were not provided for choice field '"+(this.settings.label||this.ID)+"'");this._value=this.settings.multiple?[]:
null;this.lastSelected=null;this.visibleOptionsCount=0;this.choices=this.settings.choices;this.settings.perGroup=Math.min(this.settings.perGroup,this.choices.length+(this.settings.multiple&&this.settings.showSelectAll?1:0))};g._getValue=function(){var g;return this.settings.multiple?this._value.map(function(a){return a.value}):null!=(g=this._value)?g.value:void 0};g._setValue=function(g){var a;if(this.settings.multiple){m.array(g)||(g=[].concat(g));var d=0;for(a=g.length;d<a;d++){var c=g[d];this.setOptionFromString(c)}}else this.setOptionFromString(g)};
g._createElements=function(){var g={relatedInstance:this,styleAfterInsert:!0};this.el=this._templates.field.spawn(this.settings.templates.field,g);var a=this.settings.choices;var d=this.settings.perGroup;Array(Math.ceil(a.length/d)).fill().map(function(c,g){return a.slice(g*d,g*d+d)}).forEach(function(a){return function(c,d){var b=a._templates.choiceGroup.spawn(a.settings.templates.choiceGroup,g).appendTo(a.el.child.innerwrap);return c.forEach(function(c,f){c.el=a._templates.choice.spawn(a.settings.templates.choice,
g).appendTo(b);if(c.icon){var h=a._templates.choiceIcon.spawn(a.settings.templates.choiceIcon,g).insertBefore(c.child.label);h.text=c.icon}c.index=f;c.el.index=f;c.el.totalIndex=f*d;c.el.prop("title",c.label);c.el.child.label.text=c.label;c.visible=!0;c.selected=!1;null==c.disabled&&(c.disabled=!1);return c.unavailable=!1})}}(this));this.el.child.innerwrap.raw._quickField=this};g._attachBindings=function(){this._attachBindings_elState();this._attachBindings_stateTriggers();this._attachBindings_display();
this._attachBindings_value();this._attachBindings_choices()};g._attachBindings_elState=function(){p("visible").of(this.state).to(function(g){return function(a){return g.el.state("visible",a)}}(this));p("hovered").of(this.state).to(function(g){return function(a){return g.el.state("hover",a)}}(this));p("filled").of(this.state).to(function(g){return function(a){return g.el.state("filled",a)}}(this));p("disabled").of(this.state).to(function(g){return function(a){return g.el.state("disabled",a)}}(this));
p("showLabel").of(this.state).to(function(g){return function(a){return g.el.state("showLabel",a)}}(this));p("showError").of(this.state).to(function(g){return function(a){return g.el.state("showError",a)}}(this));p("showHelp").of(this.state).to(function(g){return function(a){return g.el.state("showHelp",a)}}(this));p("valid").of(this.state).to(function(g){return function(a){g.el.state("valid",a);return g.el.state("invalid",!a)}}(this))};g._attachBindings_stateTriggers=function(){p("event:mouseenter").of(this.el).to(function(g){return function(){return g.state.hovered=
!0}}(this));p("event:mouseleave").of(this.el).to(function(g){return function(){return g.state.hovered=!1}}(this))};g._attachBindings_display=function(){p("width").of(this.state).to(function(g){return function(a){return g.el.style("width",a).state("definedWidth","auto"!==a)}}(this));p("showError",{updateOnBind:!1}).of(this.state).to(function(g){return function(a,d){switch(!1){case !m.string(a):return g.state.help=a;case !m.string(d):return g.state.help=g.settings.help}}}(this));p("label").of(this.state).to("text").of(this.el.child.label).and.to("showLabel").of(this.state);
p("help").of(this.state).to("text").of(this.el.child.help);p("visibleOptionsCount").of(this).to(function(g){return function(a){return g.el.state("hasVisibleOptions",!!a)}}(this))};g._attachBindings_value=function(){p("_value").of(this).to(function(g){return function(a){g.state.filled=!(null==a||!a.length);g.state.filled&&(g.state.interacted=!0);return g.state.valid=g.validate()}}(this));p("array:_value",{updateOnBind:!1}).of(this).to(function(g){return function(){return g.emit("input",g.value)}}(this));
p("lastSelected",{updateOnBind:!1,updateEvenIfSame:!0}).of(this).to(function(g){return function(a,d){if(g.settings.multiple){if(a.selected)return a.selected=!1,k.removeItem(g._value,a);a.selected=!0;return g._value.push(a)}if(a!==d)return a.selected=!0,null!=d&&(d.selected=!1),g._value=a}}(this))};g._attachBindings_choices=function(){this.choices.forEach(function(g){return function(a){var d;p("visible").of(a).to(function(c){return a.el.state("visible",c)}).and.to(function(a){return g.visibleOptionsCount+=
a?1:-1});p("selected",{updateOnBind:!1}).of(a).to(function(c){return a.el.state("selected",c)});p("disabled",{updateOnBind:!1}).of(a).to(function(c){return a.el.state("disabled",c)});p("unavailable",{updateOnBind:!1}).of(a).to(function(c){return a.el.state("unavailable",c)}).and.to(function(){return g.lastSelected=a}).condition(function(c){return c&&g.settings.multiple&&a.selected});p("event:click").of(a.el).to(function(){return g.lastSelected=a}).condition(function(){return!a.disabled});if(null!=
(d=a.conditions)&&d.length)return a.unavailable=!0,a.allFields=g.allFields,k.initConditions(a,a.conditions,function(){return a.unavailable=!k.validateConditions(a.conditions)})}}(this))};g.validate=function(g){null==g&&(g=this._value);this.settings.multiple?(m.array(g)||(g=[].concat(g)),m.object(g[0])||(g=g.map(function(a){return a.value}))):m.object(g)&&(g=g.value);switch(!1){case "number"!==typeof this.settings.validWhenSelected:return(null!=g?g.length:void 0)>=this.settings.validWhenSelected;case !this.settings.validWhenIsChoice:return this.settings.multiple?
k.includes(g,this.settings.validWhenIsChoice):g===this.settings.validWhenIsChoice;default:return!(null==g||!g.length)}};g.findChoice=function(g,a){return this.choices.filter(function(d){switch(!1){case !m.object(g):return g===d;case !a:return g===d.label;default:return g===d.value}})[0]};g.findChoiceAny=function(g){return this.findChoice(g)||this.findChoice(g,!0)};g.setOptionFromString=function(g,a){var d;if((d=this.findChoiceAny(g,a))&&d!==this.lastSelected&&(!this.settings.multiple||!k.includes(this._value,
d)))return this.lastSelected=d};return g};k[25]=function(g){var k=r(4);r(45);var m=r(24);g=Object.create(null);g._templates=function(g){return function(g){k=r(4);m=r(24);return g=k.clone.transform(function(g){return g.extend()})(m._templates)}}(this)({});g._defaults=function(g){return function(g){return{validWhenSelected:!1,validWhenIsChoice:!1,validWhenTrue:!0,choiceLabels:["True","False"],choices:[{value:!0},{value:!1}],spacing:8}}}(this)({});k.keys("_createElements _attachBindings _attachBindings_elState _attachBindings_stateTriggers _attachBindings_display _attachBindings_value _attachBindings_choices".split(" "))(g,
m);g._construct=function(){this.lastSelected=null;this.visibleOptionsCount=2;this.choices=this.settings.choices;this.choices[0].label=this.settings.choiceLabels[0];this.choices[1].label=this.settings.choiceLabels[1];this.settings.perGroup=2};g._getValue=function(){return null===this._value?null:0===this._value.index?!0:!1};g._setValue=function(g){if(null===g)this._value=null,null!=(g=this.lastSelected)&&(g.selected=!1);else return"string"===typeof g&&(g=g.toLowerCase(),"false"===g&&(g=!1)),this.lastSelected=
g?this.choices[0]:this.choices[1]};g.validate=function(g){null==g&&(g=this._value);"string"===typeof g&&(g=this.findOption(g));switch(!1){case !this.settings.validWhenIsChoice:return g?this.settings.validWhenIsChoice===g.value:!1;case !this.settings.validWhenSelected:return!!g;case !this.settings.validWhenTrue:return 0===(null!=g?g.index:void 0);default:return!1}};return g};k[30]=function(g){var k=r(2);var m=r(45);var u=r(18);var p=r(1);var n=r(4);g=function(a,d){this.options=a;this.field=d;this.isOpen=
!1;this.settings=n.deep.clone.keys(this._defaults).filter(this._settingFilters)(this._defaults,this.field.settings.dropdownOptions);this.selected=this.settings.multiple?[]:null;this.currentHighlighted=this.lastSelected=null;this.visibleOptionsCount=0;this.visibleOptions=[];this.els={};this._selectedCallback=p.noop;this._createElements();this._attachBindings();return this};g.prototype._templates=function(a){return function(a){a=r(3);var c=r(12);p=r(1);var d=r(16);return a={container:a.template(["div",
{ref:"dropdown",style:{position:"absolute",zIndex:10,overflow:"hidden",top:function(a){return"text"===a.field.type?this.parent.raw.style.height:"-7px"},left:function(){return 0>this.parent.rect.left-5?0:-5},display:"none",backgroundColor:"#f6f6f6",boxShadow:"0px 6px 10px "+p.hexToRGBA("000000",.32),borderWidth:"1px",borderStyle:"solid",borderColor:"#d1d1d1",borderRadius:"5px",boxSizing:"border-box",padding:"4px 0",$isOpen:{$hasVisibleOptions:{display:"block"}}}}]),list:a.template(["div",{ref:"list",
passStateToChildren:!1,style:{position:"relative",overflow:"scroll",overflowScrolling:"touch"}}]),option:a.template(["div",{style:{display:"none",fontSize:"0",color:"#000000",userSelect:"none",lineHeight:"1em",cursor:"pointer",$visible:{display:"block"},$hover:{color:"#ffffff",backgroundColor:"#4C96FF"}}},a.template(["div",{style:{display:"inline-block",verticalAlign:"top",width:"20px",lineHeight:"20px",fontSize:"13px",textAlign:"center",color:"inherit",stroke:"currentColor",visibility:"hidden",$selected:{visibility:"visible"}}},
c.checkmark]),a.template(["div",{style:{display:"inline-block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",wordWrap:"normal",maxWidth:function(){return"calc(100% - "+this.prev.raw.style.width+")"},paddingRight:"10px",lineHeight:"20px",fontSize:"11px",fontFamily:d.fontFamily,color:"inherit",boxSizing:"border-box"}}])]),scrollIndicatorUp:a.template(["div",{ref:"scrollIndicatorUp",style:{position:"absolute",top:0,left:0,display:"none",width:"100%",height:"20px",backgroundColor:"#f6f6f6",
color:"#000000",textAlign:"center",$visible:{display:"block"}}},["div",{style:{position:"absolute",top:"50%",left:0,right:0,width:"15px",height:"15px",display:"block",margin:"0 auto",transform:"translateY(-50%)"}},c.caretUp]]),scrollIndicatorDown:a.template(["div",{ref:"scrollIndicatorDown",style:{position:"absolute",bottom:0,left:0,display:"none",width:"100%",height:"20px",backgroundColor:"#f6f6f6",color:"#000000",textAlign:"center",$visible:{display:"block"}}},["div",{style:{position:"absolute",
top:"50%",left:0,right:0,width:"15px",height:"15px",display:"block",margin:"0 auto",transform:"translateY(-50%)"}},c.caretDown]]),help:a.template(["div",{ref:"help",style:{display:"none",borderTop:"2px solid rgba(0,0,0,0.05)",padding:"4px 12px 1px",color:"rgba(0,0,0,0.5)",fontWeight:"500",fontSize:"11px",userSelect:"none",$showHelp:{display:"block"}}}])}}}(this)({});g.prototype._defaults=function(a){return function(a){return{maxHeight:300,multiple:!1,storeSelected:!0,lockScroll:!0,help:"",templates:{}}}}(this)({});
g.prototype._settingFilters={maxHeight:function(a){return k.number(a)}};g.prototype._createElements=function(){var a={relatedInstance:this,styleAfterInsert:!0};this.els.container=this._templates.container.spawn(this.settings.templates.container,n({passStateToChildren:!1},a));this.els.list=this._templates.list.spawn(this.settings.templates.list,a).appendTo(this.els.container);this.els.help=this._templates.help.spawn(this.settings.templates.help,a).appendTo(this.els.container);this.els.scrollIndicatorUp=
this._templates.scrollIndicatorUp.spawn(this.settings.templates.scrollIndicatorUp,a).appendTo(this.els.container);this.els.scrollIndicatorDown=this._templates.scrollIndicatorDown.spawn(this.settings.templates.scrollIndicatorDown,a).appendTo(this.els.container);this.options.forEach(function(d){return function(c){c.el=d._templates.option.spawn({options:{props:{title:c.label}}},a).appendTo(d.els.list);c.el.children[1].text=c.label;c.visible=!0;c.selected=!1;return c.unavailable=!1}}(this))};g.prototype._attachBindings=
function(){m("help").of(this.settings).to("text").of(this.els.help).and.to(function(a){return function(d){return a.els.help.state("showHelp",d)}}(this));m("visibleOptionsCount").of(this).to(function(a){return function(d){return a.els.container.state("hasVisibleOptions",!!d)}}(this));m("isOpen",{updateOnBind:!1}).of(this).to(function(a){return function(d){a.els.container.state("isOpen",d);d||(a.currentHighlighted=null);a.settings.lockScroll&&(d?p.lockScroll(a.els.list):p.unlockScroll());if(d)return a.list_setMaxHeight(),
a.list_scrollToSelected()}}(this));m("lastSelected",{updateOnBind:!1,updateEvenIfSame:!0}).of(this).to(function(a){return function(d,c){a.settings.storeSelected&&(a.settings.multiple?d.selected?(d.selected=!1,p.removeItem(a.selected,d)):(d.selected=!0,a.selected.push(d)):(d.selected=!0,d!==c&&null!=c&&(c.selected=!1),a.selected=d));return a._selectedCallback(d,c)}}(this));m("currentHighlighted").of(this).to(function(a){return function(a,c){c&&c.el.state("hover",!1);if(a)return a.el.state("hover",
!0)}}(this));m("focused",{updateOnBind:!1}).of(this.field.state).to(function(a){return function(d){return d?a.field.el.child.input.on("keydown.dropdownNav",function(c){if(a.isOpen)switch(c.keyCode){case u.up:return c.preventDefault(),a.highlightPrev();case u.down:return c.preventDefault(),a.highlightNext();case u.enter:return c.preventDefault(),a.selectHighlighted();case u.esc:return c.preventDefault(),a.isOpen=!1}}):a.field.el.child.input.off("keydown.dropdownNav")}}(this));m("scrollTop",{updateEvenIfSame:!0}).of(this.els.list.raw).to(function(a){return function(d){var c=
a.els.list.raw.scrollHeight-a.els.list.raw.clientHeight>d;a.els.scrollIndicatorUp.state("visible",0<d);return a.els.scrollIndicatorDown.state("visible",c)}}(this)).condition(function(a){return function(){return a.isOpen&&!a.settings.help&&a.els.list.raw.scrollHeight!==a.els.list.raw.clientHeight&&100<=a.els.list.raw.clientHeight}}(this)).updateOn("event:scroll").of(this.els.list.raw).updateOn("isOpen").of(this);this.els.scrollIndicatorUp.on("mouseenter",function(a){return function(){return a.list_startScrolling("up")}}(this));
this.els.scrollIndicatorUp.on("mouseleave",function(a){return function(){return a.list_stopScrolling()}}(this));this.els.scrollIndicatorDown.on("mouseenter",function(a){return function(){return a.list_startScrolling("down")}}(this));this.els.scrollIndicatorDown.on("mouseleave",function(a){return function(){return a.list_stopScrolling()}}(this));return this.options.forEach(function(a){return function(d,c){var g;d.index=c;m("visible").of(d).to(function(c){return a.visibleOptionsCount+=c?1:-1}).and.to(function(c){d.el.state("visible",
c);return c?(a.visibleOptions.push(d),a.visibleOptions.sort(function(a,c){return a.index-c.index})):p.removeItem(a.visibleOptions,d)});m("selected",{updateOnBind:!1}).of(d).to(function(a){return d.el.state("selected",a)});m("unavailable",{updateOnBind:!1}).of(d).to(function(a){return d.el.state("unavailable",a)}).and.to(function(){return a.lastSelected=d}).condition(function(c){return c&&a.settings.multiple&&d.selected});m("event:click").of(d.el).to(function(){return a.lastSelected=d});m("event:mouseenter").of(d.el).to(function(){return a.currentHighlighted=
d});if(null!=(g=d.conditions)&&g.length)return d.unavailable=!0,d.allFields=a.field.allFields,p.initConditions(d,d.conditions,function(){return d.unavailable=!p.validateConditions(d.conditions)})}}(this))};g.prototype.appendTo=function(a){return this.els.container.appendTo(a)};g.prototype.onSelected=function(a){return this._selectedCallback=a};g.prototype.findOption=function(a,d){return this.options.filter(function(c){switch(!1){case !k.object(a):return a===c;case !d:return a===c.label;default:return a===
c.value}})[0]};g.prototype.findOptionAny=function(a){return this.findOption(a)||this.findOption(a,!0)};g.prototype.getLabelOfOption=function(a){var d;return(null!=(d=this.options.filter(function(c){return a===c.value})[0])?d.label:void 0)||""};g.prototype.setOptionFromString=function(a,d){var c;if((c=this.findOptionAny(a,d))&&c!==this.lastSelected&&(!this.settings.multiple||!p.includes(this.selected,c)))return this.lastSelected=c};g.prototype.highlightPrev=function(){var a=this.visibleOptions.indexOf(this.currentHighlighted);
return 0<a?this.currentHighlighted=this.visibleOptions[a-1]:this.currentHighlighted=this.visibleOptions[this.visibleOptions.length-1]};g.prototype.highlightNext=function(){var a=this.visibleOptions.indexOf(this.currentHighlighted);return a<this.visibleOptions.length-1?this.currentHighlighted=this.visibleOptions[a+1]:this.currentHighlighted=this.visibleOptions[0]};g.prototype.selectHighlighted=function(){if(this.currentHighlighted)return this.lastSelected=this.currentHighlighted};g.prototype.list_setMaxHeight=
function(){var a;var d=this.settings.maxHeight;if(a=this.els.container.parentMatching(function(a){a=a.style("overflowY");return"hidden"===a||"scroll"===a})){var c=this.els.container.rect;var g=a.rect;a=c.top+this.settings.maxHeight-g.bottom;c.top>=g.bottom?console.warn("The dropdown for element '"+this.field.ID+"' cannot be displayed as it's hidden by the parent overflow"):0<a&&(c=c.height-this.els.list.rect.height,d=a-c)}this.els.list.style("maxHeight",d);return this.els.list.style("minWidth",this.field.el.child.innerwrap.width+
10)};g.prototype.list_scrollToSelected=function(){if(this.selected&&!this.settings.multiple){var a=this.selected.el.raw.offsetTop;var d=this.selected.el.raw.clientHeight;return this.els.list.raw.scrollTop=a-3*d}};g.prototype.list_startScrolling=function(a){return this.scrollIntervalID=setInterval(function(d){return function(){return d.els.list.raw.scrollTop+="up"===a?-20:20}}(this),50)};g.prototype.list_stopScrolling=function(){return clearInterval(this.scrollIntervalID)};return g};k[45]=function(g){var k=
{exports:g};(function(){var g;var r=0;var p="push pop shift unshift splice reverse sort".split(" ");var n={};var a={};var d=["{{","}}"];var c=Object.create({silent:!1},{placeholder:{get:function(){return d},set:function(a){t.isArray(a)&&2===a.length&&(d=a,J())}}});var h={delay:!1,throttle:!1,simpleSelector:!1,promiseTransforms:!1,dispatchEvents:!1,sendArrayCopies:!1,updateEvenIfSame:!1,updateOnBind:!0};var f=Object.defineProperty;var b=Object.getOwnPropertyDescriptor;var l=null;var D=function(){if(!l){var a=
l=document.createEvent("Event");a.initEvent("change",!0,!1);a._sb=!0}return l};var B=!("className"in Element.prototype)||!b(Element.prototype,"className").get;var w="innerWidth innerHeight outerWidth outerHeight scrollX scrollY pageXOffset pageYOffset screenX screenY screenLeft screenTop".split(" ");var z=function(a,b){return this.updateAllSubs(b||this)};var x=function(){return""+ ++r};var q=function(){return Object.create(null)};var C=function(a,b){return function(v,c,d){return F(v,c,d,a,b)}};var E=
function(a,b){return a.selfUpdater||(a.selfUpdater=new K(function(){return b?a.setValue(a.fetchDirectValue(),a,!0):a.updateAllSubs(a)},"Func",{}))};var y=function(a,b){return a&&-1!==a.indexOf(b)};var t={isDefined:function(a){return void 0!==a},isArray:function(a){return a instanceof Array},isObject:function(a){return"object"===typeof a&&a},isString:function(a){return"string"===typeof a},isNumber:function(a){return"number"===typeof a},isFunction:function(a){return"function"===typeof a},isBindingInterface:function(a){return a instanceof
M},isBinding:function(a){return a instanceof K},isIterable:function(a){return t.isObject(a)&&t.isNumber(a.length)},isDom:function(a){return a.nodeName&&1===a.nodeType},isDomInput:function(a){a=a.nodeName;return"INPUT"===a||"TEXTAREA"===a||"SELECT"===a},isDomRadio:function(a){return"radio"===a.type},isDomCheckbox:function(a){return"checkbox"===a.type},isElCollection:function(a){return a instanceof NodeList||a instanceof HTMLCollection||window.jQuery&&a instanceof jQuery},domElsAreSame:function(a){var b=
a[0].type;return[].filter.call(a,function(a){return a.type===b}).length===a.length},isDomNode:function(a){return t.isDom(a)||a===window||a===document}};var Y=function(a,c,d){var v;if(v=b(a,c))return d&&(v.configurable=!0),v;if(a=Object.getPrototypeOf(a))return Y(a,c,!0)};var P=function(a,b,c){var d;a.origDescriptor||(a.origDescriptor=Y(b,a.property));if(c)p.forEach(function(c){return f(b,c,{configurable:!0,value:function(){var d=Array.prototype[c].apply(b,arguments);a.updateAllSubs(a);return d}})});
else if("Proxy"===a.type){var v=a.origFn=a.value;a.value={result:null,args:null};if(t.isFunction(v)){var e=[].slice;var g=d=function(){var c=e.call(arguments);a.value.args=c=a.selfTransform?a.selfTransform(c):c;a.value.result=c=v.apply(b,c);a.updateAllSubs(a);return c};f(b,a.property,{configurable:a.isLiveProp=!0,get:function(){return g},set:function(b){t.isFunction(b)?b!==v&&(b!==d&&(v=a.origFn=b),g!==d&&(g=d)):g=b}})}}else if(!(y(a.type,"DOM")||a.object===window&&y(w,a.property))){c=a.origDescriptor||
n;c.get&&(a.origGetter=c.get.bind(b));c.set&&(a.origSetter=c.set.bind(b));var h=(h=c.configurable)&&b.constructor!==CSSStyleDeclaration;B&&a.isDom&&a.property in b.cloneNode(!1)&&(a.origDescriptor=h=!1,a.isLiveProp=!0,a.origGetter=function(){return a.object[a.property]},a.origSetter=function(b){return a.object[a.property]=b});if(h){h="Array"===a.type;var l=!a.origSetter&&!h;f(b,a.property,{configurable:a.isLiveProp=!0,enumerable:c.enumerable,get:a.origGetter||function(){return a.value},set:function(b){a.setValue(b,
a,l)}});h&&P(a,b[a.property],!0)}}};var G=function(a,b,c){if(c){var d=[];a=0;for(c=p.length;a<c;a++){var v=p[a];d.push(delete b[v])}return d}c=a.origDescriptor;c.set||c.get||(c.value=a.origFn||a.value);return f(b,a.property,c)};var Q=function(a){var b;var c=q();for(b in a)c[b]=a[b];return c};var S=function(a,b){var c;var d=Object.keys(b);var v=0;for(c=d.length;v<c;v++){var f=d[v];a[f]=b[f]}};var e={get:function(b,c,d,f){if(c)return a[b._sb_ID];if(f&&b[0]._sb_map&&(c=a[b[0]._sb_map[d]],c.groupBinding))return c.groupBinding;
if(b._sb_map&&b._sb_map[d])return a[b._sb_map[d]]},set:function(a,b){if(b)f(a.object,"_sb_ID",{configurable:!0,value:a.ID});else{var c=a.selector;if(a.object._sb_map)a.object._sb_map[c]=a.ID;else{var d={};d[c]=a.ID;f(a.object,"_sb_map",{configurable:!0,value:d})}}}};var A=/[.*+?^${}()|[\]\\]/g;var H=g=null;var J=function(){var a=c.placeholder[0].replace(A,"\\$&");var b=c.placeholder[1].replace(A,"\\$&");var d="[^"+b+"]+";H=new RegExp(a+"("+d+")"+b,"g");g=new RegExp(""+a+d+b,"g")};J();var da=function(a,
b,c){var d,f;var e="";var v=d=0;for(f=a.length;d<f;v=++d){var g=a[v];e+=g;c[v]&&(e+=b[c[v]])}return e};var W=function(a,b,c){null==a[c]&&(a[c]=[]);a[c].push(b)};var X=function(a,b){var c,d,f;var e=Array.prototype.slice.call(a.childNodes);var v=0;for(d=e.length;v<d;v++){var h=e[v];if(3!==h.nodeType)X(h,b);else if(h.textContent.match(g)){var l=h.textContent.split(H);if(3===l.length&&""===l[0]+l[2])W(b,h,l[1]);else{var k=document.createDocumentFragment();var T=c=0;for(f=l.length;c<f;T=++c){var m=l[T];
var n=k.appendChild(document.createTextNode(m));T%2&&W(b,n,m)}h.parentNode.replaceChild(k,h)}}}};var N=function(a){throw Error("SimplyBind: "+(V[a]||a));};var L=function(a,b){if(!c.silent){var d=ba(b);var f=V[a];console.warn("SimplyBind: "+(f+("\n\n"+d)))}};var ea=function(a){N("Invalid argument/s ("+a+")",!0)};var ba=function(a){return(Error().stack||"").split("\n").slice(a+3).join("\n")};var V={invalidParamName:"SimplyBind() and .to() only accept a function, an array, a bound object, a string, or a number.",
fnOnly:"Only functions are allowed for .transform/.condition/All()",badEventArg:"Invalid argument number in .ofEvent()",emptyList:"Empty collection provided",onlyOneDOMElement:"You can only pass a single DOM element to a binding",mixedElList:"'checked' of Mixed list of element cannot be bound"};var F=function(a,b,c,d,f){if(!a&&0!==a||!(t.isString(a)||t.isNumber(a)||t.isFunction(a)||a instanceof Array))t.isBindingInterface(a)||N("invalidParamName");!t.isObject(a)||a instanceof Array?(b=new M(b),b.saveOptions=
c,b.isSub=d,b.completeCallback=f,a=t.isFunction(a)?b.setObject(a,!0):b.setProperty(a)):a=f?f(a):a.selfClone();return a};F.version="1.15.4";F.settings=c;F.defaultOptions=h;F.unBindAll=function(b,c){var d;if(b&&(t.isObject(b)||t.isFunction(b))){t.isIterable(b)&&!b._sb_ID&&b[0]&&t.isDom(b[0])&&(b=b[0]);var f=b._sb_map;b._sb_ID&&a[b._sb_ID].removeAllSubs(c);if(f)for(d in f){var e=f[d];a[e].removeAllSubs(c)}}};var K=function(c,d,f){S(this,f);this.optionsDefault=this.saveOptions?this.options:h;this.type=
d;this.object=c;this.ID=x();this.subs=[];this.subsMeta=q();this.pubsMap=q();this.attachedEvents=[];"Proxy"===this.type&&(this.setValue=z);this.isMultiChoice&&(this.choices=q(),this.object.forEach(function(a){return function(b){var c=a.choices[b.value]=F("checked").of(b)._;c.addSub(a);c.subsMeta[a.ID].transformFn=function(){return c};c.groupBinding=a}}(this)));"Event"===this.type||"Func"===this.type&&this.isSub||("Pholder"===this.type?(d=this.descriptor&&!y(this.descriptor,"multi")?this.descriptor+
":"+this.property:this.property,c=this.parentBinding=F(d).of(c)._,c.scanForPholders(),this.value=c.pholderValues[this.pholder],c.textNodes&&(this.textNodes=c.textNodes[this.pholder])):(this.value=c=this.fetchDirectValue(),"ObjectProp"!==this.type||t.isDefined(c)||b(this.object,this.property)||(this.object[this.property]=c),P(this,this.object)));this.attachEvents();return a[this.ID]=this};K.prototype={addSub:function(a,b,c,d){var f;if(a.isMulti){var e=a.bindings;a=0;for(f=e.length;a<f;a++){var g=e[a];
this.addSub(g,b,c,d)}}else if(this.subsMeta[a.ID])var v=!0;else{a.pubsMap[this.ID]=this;this.subs.unshift(a);f=this.subsMeta[a.ID]=q();f.updateOnce=c;f.opts=Q(b);if(d||"Event"===this.type||"Proxy"===this.type||"Array"===this.type)f.opts.updateEvenIfSame=!0;f.valueRef="Func"===a.type?"valuePassed":"value"}return v},removeSub:function(a,b){var c;if(a.isMulti){var d=a.bindings;var f=0;for(c=d.length;f<c;f++){var e=d[f];this.removeSub(e,b)}}else this.subsMeta[a.ID]&&(this.subs.splice(this.subs.indexOf(a),
1),delete this.subsMeta[a.ID],delete a.pubsMap[this.ID]),b&&(a.removeSub(this),delete this.pubsMap[a.ID]);0===this.subs.length&&0===Object.keys(this.pubsMap).length&&this.destroy()},removeAllSubs:function(a){var b;var c=this.subs.slice();var d=0;for(b=c.length;d<b;d++){var f=c[d];this.removeSub(f,a)}},destroy:function(){var b;delete a[this.ID];this.removePollInterval();if("Event"===this.type){var c=this.attachedEvents;var d=0;for(b=c.length;d<b;d++){var f=c[d];this.unRegisterEvent(f)}}else"Func"===
this.type&&delete this.object._sb_ID;this.isLiveProp&&this.origDescriptor&&G(this,this.object);"Array"===this.type&&G(this,this.value,!0);this.object._sb_map&&(delete this.object._sb_map[this.selector],0===Object.keys(this.object._sb_map).length&&delete this.object._sb_map)},fetchDirectValue:function(){var a;var b=this.type;switch(!1){case "Func"!==b:return this.object();case "DOMAttr"!==b:return this.object.getAttribute(this.property)||"";case !this.isMultiChoice:var c=[];var d=this.choices;for(a in d){var f=
d[a];if(f.object.checked){if("DOMRadio"===b)return a;c.push(a)}}return c;default:return this.object[this.property]}},setValue:function(a,b,d,f){b||(b=this);this.selfTransform&&(a=this.selfTransform(a));if(!d)switch(this.type){case "ObjectProp":if(this.isLiveProp)if(this.isDomInput)if(!f)this.origSetter(a),c.dispatchEvents&&this.object.dispatchEvent(D());else{if(a!==this.origGetter()){var e=this.object.selectionStart;this.origSetter(a);e&&this.object.setSelectionRange(e,e)}}else this.origSetter&&this.origSetter(a);
else a!==this.value&&(this.object[this.property]=a);break;case "Pholder":f=this.parentBinding;f.pholderValues[this.pholder]=a;e=da(f.pholderContexts,f.pholderValues,f.pholderIndexMap);if(this.textNodes&&a!==this.value){var g=this.textNodes;var v=0;for(d=g.length;v<d;v++){var h=g[v];h.textContent=a}}"textContent"!==this.property&&f.setValue(e,b);break;case "Array":a!==this.value&&(t.isArray(a)||(a=Array.prototype.concat(a)),G(this,this.value,!0),P(this,a=a.slice(),!0),this.origSetter&&this.origSetter(a));
break;case "Func":e=this.valuePassed;this.valuePassed=a;a=this.object(a,e);break;case "Event":this.isEmitter=!0;this.emitEvent(a);this.isEmitter=!1;break;case "DOMRadio":if(this.isMultiChoice)if(f=t.isBinding(a)?a:this.choices[a])for(v in a=f.object.value,e=this.choices,e)d=e[v],d.setValue(d.ID===f.ID,b);else a=this.value;else{a=!!a;if(a===this.value)return;this.object.checked!==a&&(this.object.checked=a);a&&c.dispatchEvents&&this.object.dispatchEvent(D())}break;case "DOMCheckbox":if(this.isMultiChoice){v=
!t.isBinding(a);a=[].concat(a);d=f=0;for(g=a.length;f<g;d=++f)h=a[d],a[d]=t.isBinding(h)?h:this.choices[h];g=[];h=this.choices;for(e in h)d=h[e],f=v?y(a,d):d.value,d.setValue(f,b),f&&g.push(e);a=g}else{a=!!a;if(a===this.value)return;this.object.checked!==a&&(this.object.checked=a,c.dispatchEvents&&this.object.dispatchEvent(D()))}break;case "DOMAttr":this.object.setAttribute(this.property,a)}this.value=a;this.updateAllSubs(b)},updateAllSubs:function(a){var b,c;if(c=(b=this.subs).length)for(;c--;)this.updateSub(b[c],
a)},updateSub:function(a,b,c){var d;if(!(b===a||b!==this&&b.subsMeta[a.ID])){var f=this.subsMeta[a.ID];if(!f.disallowList||!f.disallowList[b.ID]){if(f.opts.throttle){c=+new Date;var e=c-f.lastUpdate;if(e<f.opts.throttle)return clearTimeout(f.updateTimer),f.updateTimer=setTimeout(function(c){return function(){return c.updateSub(a,b)}}(this),f.opts.throttle-e);f.lastUpdate=c}else if(f.opts.delay&&!c)return setTimeout(function(c){return function(){return c.updateSub(a,b,!0)}}(this),f.opts.delay);c="Array"===
this.type&&f.opts.sendArrayCopies?this.value.slice():this.value;e=a[f.valueRef];c=(d=f.transformFn)?d(c,e,a.object):c;c===e&&!f.opts.updateEvenIfSame||f.conditionFn&&!f.conditionFn(c,e,a.object)||(f.opts.promiseTransforms&&c&&t.isFunction(c.then)?c.then(function(c){a.setValue(c,b)}):a.setValue(c,b),f.updateOnce&&this.removeSub(a))}}},addModifierFn:function(a,b,c,d){var f,e;if(t.isFunction(c)){var g=0;for(e=b.length;g<e;g++){var h=b[g];var v=h._||h;v.isMulti?this.addModifierFn(a,v.bindings,c,d):(h=
this.subsMeta[v.ID],h[a]=c,d=d&&!h.updateOnce,this.pubsMap[v.ID]&&((f=v.subsMeta[this.ID])[a]||(f[a]=c)),!d&&"Func"!==this.type||"transformFn"!==a||this.updateSub(v,this))}return!0}return L("fnOnly",2)},setSelfTransform:function(a,b){this.selfTransform=a;b&&this.setValue(this.value)},addDisallowRule:function(a,b){var c;(null!=(c=this.subsMeta[a.ID]).disallowList?c.disallowList:c.disallowList=q())[b.ID]=1},scanForPholders:function(){if(!this.pholderValues){this.pholderValues=q();this.pholderIndexMap=
q();this.pholderContexts=[];if(t.isString(this.value)){this.pholderContexts=this.value.split(g);var a=0;this.value=this.value.replace(H,function(b){return function(c,d){b.pholderIndexMap[a++]=d;return b.pholderValues[d]=d}}(this))}this.isDom&&"textContent"===this.property&&X(this.object,this.textNodes=q())}},addPollInterval:function(a){if("Event"!==this.type)return this.removePollInterval(),this.pollInterval=setInterval(function(a){return function(){var b=a.fetchDirectValue();return a.setValue(b)}}(this),
a)},removePollInterval:function(){clearInterval(this.pollInterval);return this.pollInterval=null},addUpdateListener:function(a,b){this.object.addEventListener(a,function(a){return function(c){c._sb||(c=a.selfTransform&&a.isDomInput,a.setValue(a.object[b],null,!c,!0))}}(this),!1)},attachEvents:function(){this.eventName?this.registerEvent(this.eventName):this.isDomInput?(this.addUpdateListener("input","value"),this.addUpdateListener("change","value")):this.isMultiChoice||"DOMRadio"!==this.type&&"DOMCheckbox"!==
this.type||this.addUpdateListener("change","checked")},registerEvent:function(a){this.attachedEvents.push(a);this.eventHandler||(this.eventHandler=ca.bind(this));this.object[this.eventMethods.listen](a,this.eventHandler)},unRegisterEvent:function(a){this.attachedEvents.splice(this.attachedEvents.indexOf(a),1);this.object[this.eventMethods.remove](a,this.eventHandler)},emitEvent:function(a){var b=this.eventName;"dispatchEvent"===this.eventMethods.emit&&(this.eventObject||(this.eventObject=document.createEvent("Event"),
this.eventObject.initEvent(this.eventName,!0,!0)),this.eventObject.bindingData=a,b=this.eventObject);this.object[this.eventMethods.emit](b,a)}};var ca=function(){this.isEmitter||this.setValue(arguments[this.property],null,!0)};var M=function(a,b){var c;if(b)S(this,b),this.stage=1;else for(c in this.stage=0,this.subs=[],this.optionsPassed=a||(a={}),this.options={},h)this.options[c]=null!=a[c]?a[c]:h[c];return this};var Z={selfClone:function(){return new M(null,this)},defineMainProps:function(a){this._=
a;return Object.defineProperties(this,{value:{get:function(){return a.value}},original:{get:function(){return a.objects||a.object}},subscribers:{get:function(){return a.subs.slice().map(function(a){return a.object})}}})},createBinding:function(a,b,c,d){var f;this.object=a;if(f=e.get(a,d,this.selector,this.isMultiChoice))return this.patchCachedBinding(f);a=new K(a,b,c);e.set(a,d);return a},patchCachedBinding:function(a){var b;"ObjectProp"!==a.type||this.property in this.object||P(a,this.object);if(this.saveOptions){var c=
this.optionsPassed;for(f in c){var d=c[f];a.optionsDefault[f]=d}}var f=a.optionsDefault;for(b in f)d=f[b],this.options[b]=t.isDefined(this.optionsPassed[b])?this.optionsPassed[b]:d;return a},setProperty:function(a){t.isNumber(a)&&(a=a.toString());this.selector=this.property=a;if(!this.options.simpleSelector){if(y(a,":")){var b=a.split(":");this.descriptor=b.slice(0,-1).join(":");this.property=b[b.length-1]}y(a,".")&&(b=this.property.split("."),this.property=b[0],this.pholder=b.slice(1).join("."));
y(this.descriptor,"event")&&(y(a,"#")?(b=this.property.split("#"),this.eventName=b[0],this.property=b[1]):(this.eventName=this.property,this.property=0),isNaN(parseInt(this.property))&&L("badEventArg",1))}return this},setObject:function(a,b){var c;this.stage=1;var d=(c=a!==window&&t.isIterable(a)&&!a.nodeType)?a[0]:a;if(!d)c&&t.isElCollection(a)&&N("emptyList");else if(this.isDom=t.isDom(d)){if("checked"===this.property){var f=d&&t.isDomRadio(d);var e=!f&&d&&t.isDomCheckbox(d)}else"value"===this.property&&
(this.isDomInput=t.isDomInput(d));if(c&&!y(this.descriptor,"multi"))if(1===a.length)a=a[0];else if(!f&&!e||t.domElsAreSame(a))f||e?(this.isMultiChoice=!0,a=[].slice.call(a)):(a=a[0],L("onlyOneDOMElement",3));else return L("mixedElList",3)}switch(!1){case !b:e="Func";break;case !this.pholder:e="Pholder";break;case !(y(this.descriptor,"array")&&t.isArray(a[this.property])):e="Array";break;case !y(this.descriptor,"event"):e="Event";this.eventMethods={listen:this.optionsPassed.listenMethod,remove:this.optionsPassed.removeMethod,
emit:this.optionsPassed.emitMethod};a[this.eventMethods.listen]||(this.eventMethods.listen=t.isDomNode(a)?"addEventListener":"on");a[this.eventMethods.remove]||(this.eventMethods.remove=t.isDomNode(a)?"removeEventListener":"removeListener");a[this.eventMethods.emit]||(this.eventMethods.emit=t.isDomNode(a)?"dispatchEvent":"emit");break;case !y(this.descriptor,"func"):e="Proxy";break;case !f:e="DOMRadio";break;case !e:e="DOMCheckbox";break;case !y(this.descriptor,"attr"):e="DOMAttr";break;default:e=
"ObjectProp"}y(this.descriptor,"multi")?(a.length||N("emptyList"),this.defineMainProps(new U(this,a,e))):this.defineMainProps(this.createBinding(a,e,this,b));y(this._.type,"Event")||y(this._.type,"Proxy")?this.options.updateOnBind=!1:y(this._.type,"Func")&&(this.options.updateOnBind=!0);return this.completeCallback?this.completeCallback(this):this},addToPublisher:function(a){var b;a.stage=2;a.subs.push(this);var c=a._.addSub(this._,a.options,a.updateOnce);if(a.updateOnce)delete a.updateOnce;else if(a.options.updateOnBind&&
!c)if(this._.isMulti){var d=this._.bindings;var f=0;for(b=d.length;f<b;f++)c=d[f],a._.updateSub(c,a._)}else a._.updateSub(this._,a._)}};M.prototype=Object.create(Z,{of:{get:function(){if(!this.stage)return ga}},set:{get:function(){if(this.stage)return ha}},chainTo:{get:function(){if(2===this.stage)return ia}},transformSelf:{get:function(){if(1===this.stage)return ja}},transform:{get:function(){if(2===this.stage)return ka}},transformAll:{get:function(){if(2===this.stage)return la}},condition:{get:function(){if(2===
this.stage)return ma}},conditionAll:{get:function(){if(2===this.stage)return na}},bothWays:{get:function(){if(2===this.stage)return oa}},unBind:{get:function(){if(2===this.stage)return pa}},pollEvery:{get:function(){if(this.stage)return qa}},stopPolling:{get:function(){if(this.stage)return ra}},setOption:{get:function(){if(2===this.stage)return sa}},disallowFrom:{get:function(){var a;if(2===this.stage&&(a=this))return C(!1,function(b){a._.addDisallowRule(a.subs[a.subs.length-1]._,b._);return a})}},
updateOn:{get:function(){var a;if(this.stage&&(a=this))return C(!1,function(b){b._!==a._&&(a._.pubsMap[b._.ID]=b._,b._.addSub(E(a._,!0),b.options,!1,!0));return a})}},removeUpdater:{get:function(){var a,b;if(this.stage&&(b=this)&&(a=this._.selfUpdater))return C(!1,function(c){c._.subsMeta[a.ID]&&(delete b._.pubsMap[c._.ID],c._.removeSub(a))})}},to:{get:function(){var a;if(1===this.stage&&(a=this))return C(!0,function(b){b._!==a._&&b.addToPublisher(a);return a})}},and:{get:function(){var a=this.selfClone();
if(2===this.stage)return a;if(1===this.stage){if(!a._.isMulti){var b=a._;a._=a._=new U(a);a._.addBinding(b)}return C(!1,function(b){a._.addBinding(b._);return a})}}},once:{get:function(){if(1===this.stage){var a=this.selfClone();a.updateOnce=!0;return a}}},update:{get:function(){return this.set}},twoWay:{get:function(){return this.bothWays}},pipe:{get:function(){return this.chainTo}}});var ga=function(a){t.isObject(a)||t.isFunction(a)||ea(a);t.isBindingInterface(a)&&(a=a.object);this.stage=1;return this.setObject(a)};
var ia=function(a,b,c){return F(this.subs[this.subs.length-1]).to(a,b,c)};var ha=function(a){this._.setValue(a);return this};var ja=function(a){t.isFunction(a)?this._.setSelfTransform(a,this.options.updateOnBind):L("fnOnly",1);return this};var ka=function(a){this._.addModifierFn("transformFn",this.subs.slice(-1),a,this.options.updateOnBind);return this};var la=function(a){this._.addModifierFn("transformFn",this.subs,a,this.options.updateOnBind);return this};var ma=function(a){this._.addModifierFn("conditionFn",
this.subs.slice(-1),a);return this};var na=function(a){this._.addModifierFn("conditionFn",this.subs,a);return this};var oa=function(a){var b;var c=this.subs[this.subs.length-1];var d=c._;var f=this._.isMulti?this._.bindings:[this._];d.addSub(this._,c.options);c=0;for(b=f.length;c<b;c++){var e=f[c];var g=e.subsMeta[d.ID].transformFn;e=e.subsMeta[d.ID].conditionFn;(g||a)&&(g=t.isFunction(a)?a:g)&&!1!==a&&(d.subsMeta[this._.ID].transformFn=g);e&&(d.subsMeta[this._.ID].conditionFn=e)}return this};var pa=
function(a){var b;var c=this.subs;var d=0;for(b=c.length;d<b;d++){var f=c[d];this._.removeSub(f._,a)}return this};var qa=function(a){this._.addPollInterval(a);return this};var ra=function(){this._.removePollInterval();return this};var sa=function(a,b){this._.subsMeta[this.subs[this.subs.length-1]._.ID].opts[a]=b;return this};var U=function(a,b,c){var d,f;a.selector=a.selector.slice(6);S(this,this["interface"]=a);this.isMulti=!0;this.bindings=d=[];if(b)for(a=0,f=b.length;a<f;a++){var e=b[a];this.addBinding(e,
c)}return Object.defineProperties(this,{type:{get:function(){return d.map(function(a){return a.type})}},value:{get:function(){return d.map(function(a){return a.value})}}})};var aa=U.prototype=Object.create(Z);Object.keys(K.prototype).forEach(function(a){return aa[a]=function(b,c,d,f){var e;var g=this.bindings;var h=0;for(e=g.length;h<e;h++){var l=g[h];"updateSub"===a&&(c=l);l[a](b,c,d,f)}}});aa.addBinding=function(a,b){this.bindings.push(b?this.createBinding(a,b,this["interface"]):a)};return null!=
("undefined"!==typeof k&&null!==k?k.exports:void 0)?k.exports=F:"function"===typeof define&&define.amd?define(["simplybind"],function(){return F}):this.SimplyBind=F})();return k.exports};return r};k=k({},{},{});return function(){var x;var C=k(1);var w=k(2);var r=k(3);var g=k(4);var E=k(5);null==this.console&&(this.console={});null==console.log&&(console.log=function(){});null==console.warn&&(console.warn=console.log);var m=null!=document.createElement("div").style.animation?"":"-webkit-";var u="@"+
m+"keyframes checkmarkAnimateSuccessTip { 0%, 54% { width: 0; left: 0px; top: 3px } 70% { width: 14px; left: -2px; top: 8px } 84% { width: 5px; left: 5px; top: 10px } 100% { width: 8px; left: 3px; top: 10px } } @"+m+"keyframes checkmarkAnimateSuccessLong { 0%, 65% { width: 0; right: 12px; top: 12px } 84% { width: 14px; right: 0px; top: 7px } 100% { width: 12px; right: 2px; top: 8px } } @"+m+"keyframes checkmarkAnimateError { 0%, 65% { "+m+"transform: scale(0.4); opacity: 0 } 84% { "+m+"transform: scale(1.15) } 100% { "+
m+"transform: scale(1) } } @"+m+"keyframes checkmarkRotatePlaceholder { 0%, 5% { "+m+"transform: rotate(-45deg) } 12%, 100% { "+m+"transform: rotate(-405deg) } } @"+m+"keyframes fieldErrorShake { 0%, 50% { "+m+"transform: translateX(-10px) } 25%, 75% { "+m+"transform: translateX(10px) } 100% { "+m+"transform: translateX(0px) } }";var p=function(){var a=document.createElement("style");a.innerHTML=u;document.body.appendChild(a);return p.appended=a};w.field=function(a){return a&&"Field"===a.constructor.name};
w.regex=function(a){return a instanceof RegExp};w.objectable=function(a){return w.object(a)||w["function"](a)};var n=function(a){w.object(a)||(a={});null==a.type&&(a.type="text");if(!x[a.type])throw Error("QuickField: '"+a.type+"' is not a valid/registered field type");p.appended||p();var d=Object.create(x[a.type]);return x.call(d,a)};n.register=function(a,d){var c;if(w.string(a)&&w.object(d)){var g=Object.create(x.prototype);for(c in d){var f=d[c];g[c]=f}f=0;for(c=E.length;f<c;f++){var b=E[f];if(!g[b])throw Error("QuickField Registration: '"+
b+"' method is required in order to register the field");}return x[a]=g}};Object.defineProperty(n,"fields",{get:function(){return g.clone.own.notKeys("instances")(x)}});n.regex=k(9);n.version="1.0.13";n.constants=function(a){return function(a){return{colors:k(15),keyCodes:k(18),reqFieldMethods:k(5)}}}(this)({});n.SVG=k(12);n.Field=x=function(a){return function(a){var c=k(16);C=k(1);w=k(2);g=k(4);var d=0;x=function(a){var b;this.settings=g.deep.clone.deep.transform({conditions:function(a){var b;if(w.objectPlain(a)){var c=
[];for(b in a){var d=a[b];c.push({target:b,value:d})}return c}if(w.array(a))return a.map(function(a){return w.string(a)?{target:a}:a})},choices:function(a){var b;if(w.objectPlain(a)){var c=[];for(b in a){var d=a[b];c.push({label:b,value:d})}return c}if(w.array(a))return a.map(function(a){return w.objectPlain(a)?a:{label:a,value:a}})},validWhenRegex:function(a){return w.string(a)?new RegExp(a):a}})(c,this._defaults,a);this.type=a.type;this.allFields=this.settings.fieldInstances||x.instances;this._value=
null;this.ID=this.settings.ID||d++ +"";this.els={};this._eventCallbacks={};this.state={valid:!0,visible:!0,disabled:!1,focused:!1,hovered:!1,filled:!1,interacted:!1,showError:!1,width:this.settings.width,showHelp:this.settings.alwaysShowHelp,showLabel:this.settings.label,label:this.settings.label,help:this.settings.help};w.defined(this.settings.placeholder)&&(this.state.placeholder=this.settings.placeholder);null!=(b=this.settings.conditions)&&b.length&&(this.state.visible=!1,C.initConditions(this,
this.settings.conditions,function(a){return function(){return a.validateConditions()}}(this)));Object.defineProperty(this,"value",{get:this._getValue,set:this._setValue});this.allFields[this.ID]&&"undefined"!==typeof console&&null!==console&&console.warn("Duplicate field IDs found: '"+this.ID+"'");this._construct();this._createElements();this._attachBindings();this.el.childf.field.onInserted(function(a){return function(){return a.emit("inserted")}}(this));this.settings.ID&&(this.el.raw.id=this.ID);
null!=this.settings.defaultValue&&this._setValue(this.settings.multiple?[].concat(this.settings.defaultValue):this.settings.defaultValue);return this.allFields[this.ID]=this.el.raw._quickField=this};x.instances=Object.create(null);Object.defineProperty(x.prototype,"valueRaw",{get:function(){return this._value}});x.prototype.appendTo=function(a){this.el.appendTo(a);return this};x.prototype.prependTo=function(a){this.el.prependTo(a);return this};x.prototype.insertAfter=function(a){this.el.insertAfter(a);
return this};x.prototype.insertBefore=function(a){this.el.insertBefore(a);return this};x.prototype.validateConditions=function(a){if(a)var b=!1;else a=this.settings.conditions,b=!0;a=C.validateConditions(a);return b?this.state.visible=a:a};x.prototype.on=function(a,b){var c;w.string(a)&&w["function"](b)&&(null==(c=this._eventCallbacks)[a]&&(c[a]=[]),this._eventCallbacks[a].push(b));return this};x.prototype.off=function(a,b){this._eventCallbacks[a]&&(w["function"](b)?C.removeItem(this._eventCallbacks[a],
b):this._eventCallbacks[a]={});return this};x.prototype.emit=function(){var a;var b=arguments[0];var c=2<=arguments.length?slice.call(arguments,1):[];if(this._eventCallbacks[b]){var d=this._eventCallbacks[b];var g=0;for(a=d.length;g<a;g++)b=d[g],b.apply(this,c)}return this};return a=x}}(this)({});n.register("text",k(17));n.register("textarea",function(a){return function(a){k(30);C=k(1);w=k(2);r=k(3);g=k(4);var c=k(45);var d=k(17);a=Object.create(null);a._templates=function(a){r=k(3);k(12);d=k(17);
k(15);return a={field:d._templates.field.extend({options:{style:{verticalAlign:"bottom"}},children:{innerwrap:{options:{style:{overflow:"hidden",height:function(a){return a.settings.minHeight||46},width:function(a){if(!a.settings.autoWidth)return"100%"}}}},label:{options:{style:{left:0,top:"7.6px"}}},input:{type:"textarea",options:{type:null,style:{resize:"none",whiteSpace:"normal",width:"100%",height:function(){return"calc(100% - "+this.styleSafe("marginTop")+" - "+this.styleSafe("marginBottom")+
")"},margin:"0",marginTop:"15px",marginBottom:"12px",padding:"0 12px",$filled:{$showLabel:{transform:function(a){var b;if((b=a.el.child.label)&&"absolute"===b.style("position"))return a=b.height+b.styleParsed("top")-this.styleParsed("marginTop")+1,"translateY("+a+"px)"}}}}}},placeholder:{options:{style:{left:0,padding:function(a){var b=a.el.child.input.styleSafe("paddingLeft");return a.el.child.input.styleSafe("marginTop")+" "+b}}}}}})}}({});a._defaults={placeholder:!0,validWhenRegex:!1,autoWidth:!1,
autoHeight:!0,minHeight:46,maxWidth:"100%",maxHeight:Infinity};g.keys("_getValue _setValue _setValueIfNotSet _getMaxWidth _attachBindings_elState _attachBindings_display _attachBindings_stateTriggers validate selection focus blur".split(" "))(a,d);a._construct=function(){null==this._value&&(this._value="");this.state.height=this.settings.autoHeight?"auto":this.settings.height;this.state.typing=!1;this.cursor={prev:0,current:0}};a._createElements=function(){this.el=this._templates.field.spawn(this.settings.templates.field,
{relatedInstance:this,styleAfterInsert:!0});this.el.state("hasLabel",this.settings.label);this.el.child.innerwrap.raw._quickField=this.el.child.input.raw._quickField=this};a._attachBindings=function(){this._attachBindings_elState();this._attachBindings_display();this._attachBindings_display_autoWidth();this._attachBindings_display_autoHeight();this._attachBindings_value();this._attachBindings_autocomplete();this._attachBindings_stateTriggers()};a._attachBindings_display_autoHeight=function(){c("height",
{updateEvenIfSame:!0}).of(this.state).transformSelf(function(a){return isNaN(a)&&isNaN(parseFloat(a))?"auto":a}).to(function(a){return function(b){return a.el.child.innerwrap.style("height",b)}}(this)).updateOn("event:inserted").of(this);this.settings.autoHeight&&c("_value",{updateEvenIfSame:!0,updateOnBind:!1}).of(this).to("height").of(this.state).transform(function(a){return function(){return a._getInputAutoHeight()}}(this)).updateOn("event:inserted").of(this)};a._attachBindings_display_autoWidth=
function(){c("width",{updateEvenIfSame:!0}).of(this.state).to(function(a){return function(b){return(a.settings.autoWidth?a.el.child.innerwrap:a.el).style("width",b)}}(this));this.settings.autoWidth&&c("_value",{updateEvenIfSame:!0,updateOnBind:!1}).of(this).to("width").of(this.state).transform(function(a){return function(){return a._getInputAutoWidth()}}(this)).updateOn("event:inserted").of(this)};a._attachBindings_value=function(){c("_value").of(this).to("value").of(this.el.child.input.raw).bothWays().and.to("valueRaw").of(this).transform(function(a){return function(b){return a.mask?
a.mask.valueRaw:b}}(this));c("_value").of(this).to(function(a){return function(b){a.state.filled=!!b;b&&(a.state.interacted=!0);a.state.valid=a.validate();return a.emit("input",b)}}(this))};a._attachBindings_autocomplete=function(){};a._getInputAutoHeight=function(){var a=this.el.child.input.raw.style.height;if(this._value){this._setValueIfNotSet();this.el.child.input.style("height",0);var b=this.el.child.input.raw.scrollHeight+2;b+=this.el.child.input.styleParsed("marginTop")+this.el.child.input.styleParsed("marginBottom")}else b=
this.el.child.placeholder.height;this.el.child.input.style("height",a);return Math.min(this.settings.maxHeight,Math.max(b,this.settings.minHeight))};a._getInputAutoWidth=function(){if(this._value){this._setValueIfNotSet();this.el.child.input.style({width:0,whiteSpace:"nowrap"}).raw.scrollLeft=1E10;var a=this.el.child.input.styleParsed("paddingLeft")||this.el.child.input.styleParsed("padding");a=Math.max(this.el.child.input.raw.scrollLeft+this.el.child.input.raw.offsetWidth,this.el.child.input.raw.scrollWidth)+
2+a+1;var b=this.settings.label&&"absolute"===this.el.child.label.styleSafe("position")?this.el.child.label.rect.width:0}else a=this.el.child.placeholder.rect.width,b=0;this.el.child.input.style({width:"100%",whiteSpace:"normal"});return Math.min(this._getMaxWidth(),Math.max(a,b))};return a}}(this)({}));n.register("select",function(a){return function(a){var c=k(30);C=k(1);w=k(2);r=k(3);g=k(4);var d=k(45);var f=k(17);a=Object.create(null);a._templates=function(a){r=k(3);var b=k(12);f=k(17);a=k(15);
return a={field:f._templates.field.extend({children:[null,{children:[{type:"div",options:{type:null,props:{tabIndex:0},style:{marginTop:3,height:"auto",cursor:"default",userSelect:"none",overflow:"scroll",width:function(a){if(!a.settings.autoWidth){var b="";a.el.child.icon&&(b+=" -"+a.el.child.icon.raw.styleSafe("width",!0));a.el.child.caret&&(b+=" -"+a.el.child.caret.styleSafe("width",!0));return"calc(100% + ("+(b||"0px")+"))"}}}}},null,["div",{ref:"caret",style:{position:"relative",zIndex:3,top:function(a){return this.parent.height/
2-this.styleParsed("height")/2},display:"inline-block",width:"29px",height:"17px",paddingRight:"12px",boxSizing:"border-box",verticalAlign:"top",outline:"none",pointerEvents:"none",fill:a.grey}},b.caretDown]]}]})}}({});a._defaults={placeholder:!0,validWhenIsChoice:!1,validWhenRegex:!1,validWhenChoseMin:Infinity,autoWidth:!1,maxWidth:"100%",labelFilter:null,choices:[],multiple:!1,dropdownOptions:{}};g.keys(["_getMaxWidth","_attachBindings_elState","_attachBindings_display","focus","blur"])(a,f);a._construct=
function(){var a;if(null==(a=this.settings.choices)||!a.length)throw Error("Choices were not provided for choice field '"+(this.settings.label||this.ID)+"'");if(this.settings.dropdownOptions.multiple=this.settings.multiple)this.settings.dropdownOptions.help="Tip: press ESC to close this menu";this.dropdown=new c(this.settings.choices,this)};a._getValue=function(){var a;return this.settings.multiple?this.dropdown.selected.map(function(a){return a.value}):null!=(a=this.dropdown.selected)?a.value:void 0};
a._setValue=function(a){var b;if(this.settings.multiple){w.array(a)||(a=[].concat(a));var c=0;for(b=a.length;c<b;c++){var d=a[c];this.dropdown.setOptionFromString(d)}}else this.dropdown.setOptionFromString(a)};a._createElements=function(){this.el=this._templates.field.spawn(this.settings.templates.field,{relatedInstance:this,styleAfterInsert:!0});this.dropdown.appendTo(this.el.child.innerwrap);this.el.child.placeholder.insertBefore(this.el.child.input);this.settings.label&&(this.el.child.label.text=
this.settings.label,this.el.state("hasLabel",!0));this.el.child.innerwrap.raw._quickField=this.el.child.input.raw._quickField=this};a._attachBindings=function(){this._attachBindings_elState();this._attachBindings_value();this._attachBindings_display();this._attachBindings_display_autoWidth();this._attachBindings_dropdown();this._attachBindings_stateTriggers()};a._attachBindings_display_autoWidth=function(){d("width",{updateEvenIfSame:!0}).of(this.state).to(function(a){return function(b){return(a.settings.autoWidth?
a.el.child.input:a.el).style({width:b})}}(this));this.settings.autoWidth&&d("valueLabel",{updateEvenIfSame:!0,updateOnBind:!1}).of(this).to("width").of(this.state).transform(function(a){return function(){return a._getInputAutoWidth()}}(this)).updateOn("event:inserted").of(this)};a._getInputAutoWidth=function(){if(this.valueLabel){this.el.child.input.style("width",0);var a=this.el.child.input.raw.scrollWidth+2;var c="absolute"===this.el.child.label.styleSafe("position")?this.el.child.label.rect.width:
0}else a=this.el.child.placeholder.rect.width,c=0;return Math.max(a,c)};a._attachBindings_value=function(){d("array:selected").of(this.dropdown).to("_value").of(this).and.to("valueLabel").of(this).transform(function(a){return function(b){if(b)return a.settings.multiple?b.map(function(a){return a.label}).join(", "):b.label}}(this));d("valueLabel").of(this).to("text").of(this.el.child.input).transform(function(a){return function(b){return a.settings.labelFormat?a.settings.labelFormat(b):b}}(this)).and.to(function(a){return function(b){a.state.filled=
!!b;b&&(a.state.interacted=!0);return a.state.valid=a.validate()}}(this));d("array:selected",{updateOnBind:!1}).of(this.dropdown).to(function(a){return function(){return a.emit("input",a.value)}}(this))};a._attachBindings_dropdown=function(){d("event:click").of(this.el.child.input).to(function(a){return function(){if(!a.state.disabled){a.dropdown.isOpen=!0;var b=d("event:click").of(document).once.to(function(){return a.dropdown.isOpen=!1}).condition(function(b){return!r(b.target).parentMatching(function(b){return b===
a.el.child.innerwrap})});var c=d("event:keydown").of(document).once.to(function(){return a.dropdown.isOpen=!1}).condition(function(a){return 27===a.keyCode});return d("isOpen",{updateOnBind:!1}).of(a.dropdown).once.to(function(){b.unBind();return c.unBind()}).condition(function(a){return!a})}}}(this));d("focused",{updateOnBind:!1}).of(this.state).to(function(a){return function(b){if(b){var c=[32,37,38,39,40];return a.el.child.input.on("keydown.dropdownTrigger",function(b){var d;if(C.includes(c,b.keyCode)&&
!a.dropdown.isOpen)return a.dropdown.isOpen=!0,null!=(d=a.dropdown.lastSelected)&&d.selected&&(a.dropdown.currentHighlighted=a.dropdown.lastSelected),b.preventDefault();if(9===b.keyCode&&a.dropdown.isOpen)return b.preventDefault()})}return a.el.child.input.off("keydown.dropdownTrigger")}}(this));this.dropdown.onSelected(function(a){return function(b){if(!a.settings.multiple)return a.dropdown.isOpen=!1}}(this))};a._attachBindings_stateTriggers=function(){d("event:mouseenter").of(this.el.child.input).to(function(a){return function(){return a.state.hovered=
!0}}(this));d("event:mouseleave").of(this.el.child.input).to(function(a){return function(){return a.state.hovered=!1}}(this));d("event:focus").of(this.el.child.input).to(function(a){return function(){a.state.focused=!0;if(a.state.disabled)return a.blur()}}(this));d("event:blur").of(this.el.child.input).to(function(a){return function(){return a.state.focused=!1}}(this))};a.validate=function(a){var b,c;null==a&&(a=this.value);switch(!1){case !(this.settings.validWhenRegex&&w.regex(this.settings.validWhenRegex)):switch(!1){case !this.settings.multiple:return function(b){return function(){if(0===
a.length)return!1;var c=a.filter(function(a){return b.settings.validWhenRegex.test(a)});return Infinity!==b.settings.validWhenChoseMin&&w.number(b.settings.validWhenChoseMin)?c.length>=b.settings.validWhenChoseMin:c.length===a.length}}(this)();default:return this.settings.validWhenRegex.test(a)}case !(this.settings.validWhenIsChoice&&null!=(b=this.settings.choices)&&b.length):return b=this.settings.choices.filter(function(b){return b.value===a}),!!b.length;case !(this.settings.multiple&&-1>(c=this.settings.validWhenChoseMin)&&
Infinity>c):return a.length>=this.settings.validWhenChoseMin;case !this.settings.multiple:return a.length;default:return!!a}};a.focus=function(){return this.el.child.input.raw.focus()};a.blur=function(){return this.el.child.input.raw.blur()};return a}}(this)({}));n.register("choice",k(24));n.register("truefalse",k(25));n.register("toggle",function(a){return function(a){g=k(4);var c=k(45);a=k(25);var d=Object.create(null);d._templates=function(a){r=k(3);a=k(15);return a={field:r.template(["div",{ref:"field",
style:{position:"relative",display:"inline-block",width:function(a){return a.state.width},boxSizing:"border-box",fontFamily:function(a){return a.settings.fontFamily},$showError:{animation:"0.2s fieldErrorShake"},$alignedStyle:{paddingRight:function(a){return a.settings.size+20}}}},["div",{ref:"label",style:{display:"none",marginBottom:"12px",fontFamily:"inherit",fontSize:"13px",fontWeight:600,textAlign:"center",color:a.black,cursor:"default",pointerEvents:"none",userSelect:"none",$showLabel:{display:"block"},
$showError:{color:a.red},$alignedStyle:{marginBottom:"0",textAlign:"left"}}}],["div",{ref:"innerwrap",style:{position:"relative",boxSizing:"border-box",fontFamily:"inherit",$alignedStyle:{position:"absolute",right:0,top:"50%",transform:"translateY(-50%)"}}},["div",{ref:"input",style:{position:"relative",zIndex:2,width:function(a){return a.settings.size},height:function(a){return a.settings.size/2},margin:"0 auto",backgroundColor:function(a){return a.settings.background},border:"1px solid "+a.grey_semi_light,
borderRadius:function(a){return a.settings.size},cursor:"pointer"}},["div",{ref:"background",style:{position:"absolute",zIndex:1,left:0,right:0,width:function(a){return a.settings.size/2},height:"100%",borderRadius:function(a){a=a.settings.size;return a+"px 0 0 "+a+"px"},backgroundColor:function(a){return a.settings.color},opacity:0,transition:"opacity 0.2s, width 0.2s",$toggled:{opacity:1,width:function(a){return.7*a.settings.size}}}}],["div",{ref:"ball",style:{position:"absolute",zIndex:2,left:0,
right:0,width:function(a){return a.settings.size/2},height:function(a){return a.settings.size/2},margin:"0 auto",backgroundColor:"white",borderRadius:"50%",border:"1px solid "+a.grey_light,boxSizing:"border-box",transform:"translateX(-55%)",transition:"transform 0.2s",userSelect:"none",$toggled:{transform:"translateX(50%)",border:function(a){return"1px solid "+a.settings.color}}}}]]],["div",{ref:"help",style:{marginTop:"10px",fontFamily:"inherit",fontSize:"11px",color:a.grey,display:"none",$showError:{color:a.red,
display:"block"},$showHelp:{display:"block"}}}]])}}({});d._defaults=function(a){a=k(15);return{validWhenTrue:!0,size:50,style:"centered",color:a.green,background:a.grey_light}}({});g.keys(["_attachBindings_elState","_attachBindings_stateTriggers","_attachBindings_display"])(d,a);d._construct=function(){this._value=!!this._value;this.settings.size=parseFloat(this.settings.size)||d._defaults.size;"centered"!==this.settings.style&&"aligned"!==this.settings.style&&(this.settings.style=d._defaults.style)};
d._getValue=function(){return this._value};d._setValue=function(a){return this._value=!!a};d._createElements=function(){this.el=this._templates.field.spawn(this.settings.templates.field,{relatedInstance:this,styleAfterInsert:!0});this.el.state("alignedStyle","aligned"===this.settings.style).child.innerwrap.raw._quickField=this};d._attachBindings=function(){this._attachBindings_elState();this._attachBindings_stateTriggers();this._attachBindings_display();this._attachBindings_value()};d._attachBindings_value=
function(){c("_value").of(this).to(function(a){return function(b){return a.el.state("toggled",b)}}(this));c("_value",{updateOnBind:!1}).of(this).to(function(a){return function(b){return a.emit("input",b)}}(this));c("event:mouseup touchend").of(this.el.child.input).to(function(a){return function(){return a._value=!a._value}}(this))};d.validate=function(a){null==a&&(a=this._value);return this.settings.validWhenTrue?!!a:!0};return d}}(this)({}));return null!=("undefined"!==typeof module&&null!==module?
module.exports:void 0)?module.exports=n:"function"===typeof define&&define.amd?define(["quickfield"],function(){return n}):this.QuickField=n}()}})(this)();
