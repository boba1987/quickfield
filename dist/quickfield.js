var slice=[].slice;
(function(ta){return function(){var l;l=function(l,z,r,n){n=function(g){return r[g]?z[g]:(r[g]=1,z[g]={},z[g]=l[g](z[g]))};l[1]=function(g){var l,u,d,t,m;u=n(2);l=n(3);d=n(46);m=n(9);return t={noop:function(){},includes:function(a,b){return a&&-1!==a.indexOf(b)},removeItem:function(a,b){var c;c=a.indexOf(b);if(-1!==c)return a.splice(c,1)},find:function(a,b){return a.filter(b)[0]},diff:function(a,b){var c,e,k,h,d;h=[];k=Math.max(a.length,b.length);for(e=-1;++e<k;)d=a[e],c=b[e],d!==c&&(u.defined(d)&&
!t.includes(b,d)&&h.push(d),u.defined(c)&&!t.includes(a,c)&&h.push(c));return h},hexToRGBA:function(a,b){var c,e,k;"#"===a[0]&&(a=a.slice(1));k=parseInt(a.slice(0,2),16);e=parseInt(a.slice(2,4),16);c=parseInt(a.slice(4,6),16);return"rgba("+k+", "+e+", "+c+", "+b+")"},unlockScroll:function(a){window._isLocked=!1;return l(window).off("wheel.lock")},lockScroll:function(a){if(!window._isLocked)return window._isLocked=!0,l(window).on("wheel.lock",function(b){if(b.target===a.raw||l(b.target).parentMatching(function(b){return b===
a})){if(0<b.wheelDelta&&0===a.raw.scrollTop||0>b.wheelDelta&&a.raw.scrollHeight-a.raw.scrollTop===a.raw.clientHeight)return b.preventDefault()}else return b.preventDefault()})},fuzzyMatch:function(a,b,c){var e,k,h,d,m;d=a.length;e=b.length;c||(a=a.toUpperCase(),b=b.toUpperCase());if(d>e)return!1;if(d===e)return a===b;for(h=c=k=0;h<d;)for(m=a[h++];c<e;)if(b[c++]===m){k++;break}return k===d},getIndexOfFirstDiff:function(a,b){var c,e;c=0;for(e=Math.max(a.length,b.length);c<e;){if(a[c]!==b[c])return c;
c++}return null},testCondition:function(a){var b,c,e;if(!a||!a.target)throw Error("Invalid condition provided: "+JSON.stringify(a));if(!a.target.state.visible)return!1;b=function(){switch(!1){case !u.objectPlain(a.value):return a.value;case !u.regex(a.value):return{$regex:a.value};case !("valid"===a.value&&!a.property||!u.defined(a.value)):return"valid";default:return{$eq:a.value}}}();if("valid"===b)return a.target.validate();e=function(){var b,c;c=a.property.split(".");switch(!1){case 1!==c.length:return a.target[a.property];
case !u.defined(a.target[a.property]):return a.target[a.property];default:for(b=a.target;u.object(b);)b=b[c.pop()];return b}}();c=Object.keys(b);return c.filter(function(a){var c;c=b[a];switch(a){case "$eq":return e===c;case "$ne":return e!==c;case "$gt":return e>c;case "$gte":return e>=c;case "$lt":return e<c;case "$lte":return e<=c;case "$ct":return t.includes(e,c);case "$nct":return!t.includes(e,c);case "$regex":return c.test(e);case "$nregex":return!c.test(e);case "$mask":return t.testMask(e,
c);default:return!1}}).length===c.length},validateConditions:function(a){var b;if(a)return b=a.filter(function(a){return t.testCondition(a)}),b.length===a.length},initConditions:function(a,b,c){return setTimeout(function(e){return function(){b.forEach(function(b){var e;if(e=u.string(b.target)?a.allFields[b.target]:u.field(b.target)?b.target:void 0)b.target=e;else return console.warn("Condition target not found for the provided ID '"+b.target+"'",a);b=u.array(e._value)?"array:_value":"_value";return d(b,
{updateOnBind:!1}).of(e).and("visible").of(e.state).to(c)});return c()}}(this))},parseCssShorthandValue:function(a){var b;b=a.split(m.whiteSpace).map(parseFloat);a={};switch(b.length){case 1:a.top=a.right=a.bottom=a.left=b[0];break;case 2:a.top=a.bottom=b[0];a.right=a.left=b[1];break;case 3:a.top=b[0];a.right=a.left=b[1];a.bottom=b[2];break;case 4:a.top=b[0],a.right=b[1],a.bottom=b[2],a.left=b[3]}return a}}};l[2]=function(g){var l;return l=g={defined:function(g){return void 0!==g},array:function(g){return g instanceof
Array},object:function(g){return"object"===typeof g&&g},objectPlain:function(g){return l.object(g)&&"[object Object]"===Object.prototype.toString.call(g)},string:function(g){return"string"===typeof g},number:function(g){return"number"===typeof g},"function":function(g){return"function"===typeof g},iterable:function(g){return l.object(g)&&l.number(g.length)}}};l[3]=function(g){var l={exports:g};(function(){var g,d,t,m,a,b,c,e,k,h,x,H,A,M,v,X,R,p,F,E,I,C,r,K,z,q;g=function(f){var a={exports:f};(function(){var f,
b,c,w,e,h,k,d;w=["webkit","moz","ms","o"];h="backgroundPositionX backgroundPositionY blockSize borderWidth columnRuleWidth cx cy fontSize gridColumnGap gridRowGap height inlineSize lineHeight minBlockSize minHeight minInlineSize minWidth maxHeight maxWidth outlineOffset outlineWidth perspective shapeMargin strokeDashoffset strokeWidth textIndent width wordSpacing top bottom left right x y".split(" ");["margin","padding","border","borderRadius"].forEach(function(f){var a,b,c,e,w;h.push(f);e=["Top",
"Bottom","Left","Right"];w=[];b=0;for(c=e.length;b<c;b++)a=e[b],w.push(h.push(f+a));return w});d=document.createElement("div").style;f=/^\d+(?:[a-z]|\%)+$/i;b=/\d+$/;c=/\s/;k={includes:function(f,a){return f&&-1!==f.indexOf(a)},isIterable:function(f){return f&&"object"===typeof f&&"number"===typeof f.length&&!f.nodeType},isPropSupported:function(f){return"undefined"!==typeof d[f]},toTitleCase:function(f){return f[0].toUpperCase()+f.slice(1)},normalizeProperty:function(f){var a,b,c;if(this.isPropSupported(f))return f;
c=this.toTitleCase(f);f=0;for(a=w.length;f<a;f++)if(b=w[f],b=""+b+c,this.isPropSupported(b))return b},normalizeValue:function(a,e){this.includes(h,a)&&null!==e&&(e=""+e,!b.test(e)||f.test(e)||c.test(e)||(e+="px"));return e}};e=function(f,a,b){var c,w,h;if(k.isIterable(f))for(c=0,w=f.length;c<w;c++)h=f[c],e(h,a,b);else if("object"===typeof a)for(c in a)b=a[c],e(f,c,b);else{a=k.normalizeProperty(a);if("undefined"===typeof b)return getComputedStyle(f)[a];a&&(f.style[a]=k.normalizeValue(a,b))}};e.version=
"1.0.5";return null!=("undefined"!==typeof a&&null!==a?a.exports:void 0)?a.exports=e:"function"===typeof define&&define.amd?define(["quickdom"],function(){return e}):this.Css=e})();return a.exports}.call(this,{});v=n(4);H="id name type href selected checked className".split(" ");x="id ref type name text style class className url href selected checked props attrs passStateToChildren stateTriggers".split(" ");p={includes:function(f,a){return f&&-1!==f.indexOf(a)},removeItem:function(f,a){var b;b=f.indexOf(a);
-1!==b&&f.splice(b,1);return f},normalizeGivenEl:function(f){switch(!1){case !d.domNode(f):return a(f);case !d.string(f):return a.text(f);default:return f}},isStateStyle:function(f){return"$"===f[0]||"@"===f[0]}};d=n(2);d=v.clone(d,{domDoc:function(f){return f&&9===f.nodeType},domEl:function(f){return f&&1===f.nodeType},domText:function(f){return f&&3===f.nodeType},domNode:function(f){return d.domEl(f)||d.domText(f)},quickDomEl:function(f){return f&&"QuickElement"===f.constructor.name},template:function(f){return f&&
"QuickTemplate"===f.constructor.name}});b=function(){function f(f,a){this.type=f;this.options=a;this.el=this.options.existing||("text"===this.type?document.createTextNode(this.options.text):"*"===this.type[0]?document.createElementNS("http://www.w3.org/2000/svg",this.type.slice(1)):document.createElement(this.type));"text"===this.type&&(this.append=this.prepend=this.attr=function(){});this._parent=null;this._state=[];this._children=[];this._insertedCallbacks=[];this._eventCallbacks={__refs:{}};this._normalizeOptions();
this._applyOptions();this._attachStateEvents();this._proxyParent();this.el._quickElement=this}f.prototype.toJSON=function(){var f,a,b,c,e;e=[this.type,v.clone.keys(x)(this.options)];a=this.children;b=0;for(c=a.length;b<c;b++)f=a[b],e.push(f.toJSON());return e};return f}();Object.defineProperties(b.prototype,{raw:{get:function(){return this.el}},0:{get:function(){return this.el}},css:{get:function(){return this.style}},replaceWith:{get:function(){return this.replace}}});b.prototype.parentsUntil=function(f){return h(this,
f)};b.prototype.parentMatching=function(f){var a;if(d["function"](f))for(a=this.parent;a;){if(f(a))return a;a=a.parent}};Object.defineProperties(b.prototype,{children:{get:function(){var f,b,c,e;if(this.el.childNodes.length!==this._children.length)for(this._children.length=0,e=this.el.childNodes,b=0,c=e.length;b<c;b++)f=e[b],4>f.nodeType&&this._children.push(a(f));return this._children}},parent:{get:function(){this._parent&&this._parent.el===this.el.parentNode||d.domDoc(this.el.parentNode)||(this._parent=
a(this.el.parentNode));return this._parent}},parents:{get:function(){return h(this)}},next:{get:function(){return a(this.el.nextSibling)}},prev:{get:function(){return a(this.el.previousSibling)}},nextAll:{get:function(){var f,b;b=[];for(f=a(this.el.nextSibling);f;)b.push(f),f=f.next;return b}},prevAll:{get:function(){var f,b;b=[];for(f=a(this.el.previousSibling);f;)b.push(f),f=f.prev;return b}},siblings:{get:function(){return this.prevAll.reverse().concat(this.nextAll)}},child:{get:function(){return this._childRefs||
k(this)}},childf:{get:function(){return k(this,!0)}}});h=function(f,a){var b,c;d["function"](a)||(a=void 0);c=[];for(b=f.parent;b;)c.push(b),b=b.parent,a&&a(b)&&(b=null);return c};k=function(f,a){var b;if(a||!f._childRefs)f._childRefs={};b=f._childRefs;f.ref&&(b[f.ref]=f);b=f.children;b.length&&v.apply(null,[f._childRefs].concat(slice.call(b.map(function(f){return k(f,a)}))));return f._childRefs};b.prototype._normalizeOptions=function(){var f;null==(f=this.options).style&&(f.style={});this.options.styleShared=
{};this.options["class"]&&(this.options.className=this.options["class"]);this.options.url&&(this.options.href=this.options.url);null==(f=this.options).relatedInstance&&(f.relatedInstance=this);null==(f=this.options).unpassableStates&&(f.unpassableStates=[]);null==(f=this.options).passStateToChildren&&(f.passStateToChildren=!0);this.options.stateTriggers=v.deep({hover:{on:"mouseenter",off:"mouseleave"},focus:{on:"focus",off:"blur"}},this.options.stateTriggers);this._normalizeStyle()};b.prototype._normalizeStyle=
function(){var f,a,b,c,e;a=Object.keys(this.options.style);b=a.filter(function(f){return p.isStateStyle(f)});c=p.removeItem(b.slice(),"$base");this._mediaStates=b.filter(function(f){return"@"===f[0]});this._providedStates=b.map(function(f){return f.slice(1)});!p.includes(b,"$base")&&a.length&&(this.options=v.clone(this.options),b.length?(a=a.filter(function(f){return!p.isStateStyle(f)}),this.options.style.$base=v.clone.keys(a)(this.options.style)):this.options.style={$base:this.options.style});f=
function(a){return function(b,c){var e,h,k,w,d,m;h=Object.keys(b).filter(function(f){return p.isStateStyle(f)});if(h.length)for(a.hasSharedStateStyle=!0,null==a._stateShared&&(a._stateShared=[]),k=0,w=h.length;k<w;k++)e=h[k],d=c.concat(e.slice(1)),m=d.join("+"),a.options.styleShared[m]=a.options.style["$"+m]=b[e],f(b[e],d),delete b[e]}}(this);a=0;for(b=c.length;a<b;a++)e=c[a],f(this.options.style[e],[e.slice(1)])};b.prototype._applyOptions=function(){var f,a,b;(a=this.options.id||this.options.ref)&&
this.attr("data-ref",this.ref=a);this.options.id&&(this.el.id=this.options.id);this.options.className&&(this.el.className=this.options.className);this.options.href&&(this.el.href=this.options.href);this.options.type&&(this.el.type=this.options.type);this.options.name&&(this.el.name=this.options.name);this.options.value&&(this.el.value=this.options.value);this.options.selected&&(this.el.selected=this.options.selected);this.options.checked&&(this.el.checked=this.options.checked);if(this.options.props)for(f in b=
this.options.props,b)a=b[f],this.prop(f,a);if(this.options.attrs)for(f in b=this.options.attrs,b)a=b[f],this.attr(f,a);this.options.styleAfterInsert||this.style(this.options.style.$base);this.onInserted(function(f){return function(){var a,b;f.options.styleAfterInsert&&f.style(v.clone.apply(v,[f.options.style.$base].concat(slice.call(f._getStateStyles(f._getActiveStates())))));a=f._inserted=f;b=f._mediaStates;if(b.length)return f._mediaStates=new function(){var f,c,e;f=0;for(c=b.length;f<c;f++)e=b[f],
e=e.slice(1),this[e]=t.register(a,e);return this}}}(this))};b.prototype._attachStateEvents=function(){var f,a,b,c;a=this.options.stateTriggers;f=function(f){return function(a,b){var c,e;e=d.string(b)?b:b.on;d.object(b)&&(c=b.off);f._listenTo(e,function(){return f.state(a,!0)});if(c)return f._listenTo(c,function(){return f.state(a,!1)})}}(this);for(b in a)c=a[b],f(b,c)};b.prototype._proxyParent=function(){var f;f=void 0;return Object.defineProperty(this,"_parent",{get:function(){return f},set:function(a){var b;
if(f=a)if(b=this.parents.slice(-1)[0],b.raw===document.documentElement)this._unproxyParent(a);else f.onInserted(function(b){return function(){if(f===a)return b._unproxyParent(a)}}(this))}})};b.prototype._unproxyParent=function(f){var a,b,c;delete this._parent;this._parent=f;c=this._insertedCallbacks;a=0;for(b=c.length;a<b;a++)f=c[a],f(this)};r=/\s+/;b.prototype.on=function(f,a){var b,c;d.string(f)&&d["function"](a)&&(c=f.split("."),b=c[1],f=c[0],f.split(r).forEach(function(f){return function(c){f._eventCallbacks[c]||
(f._eventCallbacks[c]=[],f._listenTo(c,function(a){var b,e,h,k;k=f._eventCallbacks[c];e=0;for(h=k.length;e<h;e++)b=k[e],b.call(f.el,a)}));b&&(f._eventCallbacks.__refs[b]=a);return f._eventCallbacks[c].push(a)}}(this)));return this};b.prototype.off=function(f,a){var b,c;if(d.string(f))c=f.split("."),b=c[1],f=c[0],f.split(r).forEach(function(f){return function(c){if(f._eventCallbacks[c]){null==a&&(a=f._eventCallbacks.__refs[b]);if(d["function"](a))return p.removeItem(f._eventCallbacks[c],a);if(!b)return f._eventCallbacks[c].length=
0}}}(this));else for(c in this._eventCallbacks)this.off(c);return this};b.prototype.emit=function(f,a,b){var c;null==a&&(a=!0);null==b&&(b=!0);f&&d.string(f)&&(c=document.createEvent("Event"),c.initEvent(f,a,b),this.el.dispatchEvent(c));return this};b.prototype.onInserted=function(f,a){null==a&&(a=!0);if(d["function"](f))return this._inserted?a&&f(this):this._insertedCallbacks.push(f),this};b.prototype._listenTo=function(f,a){this.el[this.el.addEventListener?"addEventListener":"attachEvent"](this.el.addEventListener?
f:"on"+f,a);return this};b.prototype.updateOptions=function(f){d.object(f)&&(this.options=f,this._normalizeOptions(),this._applyOptions(this.options));return this};b.prototype.state=function(f,a,b){var c,e,h,k,w,m,x,g,A;if(1===arguments.length)return p.includes(this._state,f);if(this._statePipeTarget&&b!==this)return this._statePipeTarget.state(f,a,this),this;if(d.string(f)){"$"===f[0]&&(f=f.slice(1));h=!!a;if("base"===f)return this;e=this._getActiveStates(f,!1);c=this._getStateStyles(e);if(this.state(f)!==
h){if(w=this.options.style["$"+f]||this.options.style["@"+f])A=this._providedStates.indexOf(f),e=e.filter(function(f){return function(a){return f._providedStates.indexOf(a)>A}}(this)),m=this._getStateStyles(e);h?(this._state.push(f),w&&this.style(v.clone.keys(w).apply(null,[w].concat(slice.call(m))))):(p.removeItem(this._state,f),w&&(k=v.clone.keys(w).apply(null,[this.options.style.$base].concat(slice.call(c))),w=v.transform(function(){return null}).clone(w),this.style(v(w,k))))}if(this.hasSharedStateStyle)for(x=
Object.keys(this.options.styleShared),x=x.filter(function(a){return p.includes(a,f)}),e=0,m=x.length;e<m;e++)if(g=x[e],k=g.split("+"),w=k.length===k.filter(function(a){return function(b){return b===f||a.state(b)}}(this)).length)w=this.options.styleShared[g],h?(p.includes(this._stateShared,g)||this._stateShared.push(g),k=this.options.styleShared[p.removeItem(k,f).join("+")],this.style(v.clone(k,w))):(p.removeItem(this._stateShared,g),k=v.clone.keys(w).apply(null,[this.options.style.$base].concat(slice.call(c))),
w=v.transform(function(){return null}).clone(w),this.style(v(w,k)));if(this.options.passStateToChildren&&!p.includes(this.options.unpassableStates,f))for(e=this._children,h=0,w=e.length;h<w;h++)c=e[h],c.state(f,a,b||this);return this}};b.prototype.resetState=function(){var a,b,c,e;e=this._state.slice();b=0;for(c=e.length;b<c;b++)a=e[b],this.state(a,!1);return this};b.prototype.pipeState=function(a){var f,b,c,e;if(a){if(a=p.normalizeGivenEl(a),d.quickDomEl(a)&&a!==this)for(this._statePipeTarget=a,
e=this._state,b=0,c=e.length;b<c;b++)f=e[b],a.state(f,!0)}else!1===a&&delete this._statePipeTarget;return this};b.prototype.style=function(){var a,b;if("text"!==this.type){a=arguments;if(d.string(a[0])){if(b=g(this.el,a[0],a[1]),!d.defined(a[1]))return this._inserted?b:b?"":b}else d.object(a[0])&&g(this.el,v.allowNull.transform(function(a){return function(f){return"function"===typeof f?f.call(a,a.options.relatedInstance):f}}(this)).clone(a[0]));return this}};b.prototype.styleSafe=function(a,b){var f,
c;if("text"!==this.type)return f=arguments,c=this.style(a),d.string(c)?(b&&(c=0),c||this.el.style[f[0]]||this.options.style.$base[f[0]]||""):this};b.prototype.styleParsed=function(a){return parseFloat(this.styleSafe(a))};b.prototype._getActiveStates=function(a,b){var f;null==b&&(b=!0);f=this._providedStates.filter(function(f){return function(b){return p.includes(f._state,b)&&b!==a}}(this));return b&&this.hasSharedStateStyle?f.concat(this._stateShared):f};b.prototype._getStateStyles=function(a){return a.map(function(a){return function(f){return a.options.style["$"+
f]||a.options.style["@"+f]}}(this))};Object.defineProperties(b.prototype,{rect:{get:function(){return this.el.getBoundingClientRect()}},width:{get:function(){return parseFloat(this.style("width"))}},height:{get:function(){return parseFloat(this.style("height"))}},orientation:F={get:function(){return this.width>this.height?"landscape":"portrait"}},aspectRatio:A={get:function(){return this.width/this.height}}});b.prototype.attr=function(a,b){switch(b){case void 0:return this.el.getAttribute(a);case null:return this.el.removeAttribute(a);
default:return this.el.setAttribute(a,b),this}};b.prototype.prop=function(a,b){switch(b){case void 0:return this.el[a];default:return this.el[a]=b,this}};b.prototype.toTemplate=function(){return a.template(this)};b.prototype.clone=function(){var a,c,e,h,k,d,m;e=this.el.cloneNode(!1);e=v.clone(this.options,{existing:e});e=new b(this.type,e);d=this._state;c=0;for(k=d.length;c<k;c++)a=d[c],e.state(a,!0);d=this.children;c=0;for(k=d.length;c<k;c++)a=d[c],e.append(a.clone());m=this._eventCallbacks;for(h in m)for(c=
m[h],d=0,k=c.length;d<k;d++)a=c[d],e.on(h,a);return e};b.prototype.append=function(a){var f;a&&(a=p.normalizeGivenEl(a),d.quickDomEl(a)&&((f=a.parent)&&f._removeChild(a),this._children.push(a),this.el.appendChild(a.el),a.parent));return this};b.prototype.appendTo=function(a){a&&(a=p.normalizeGivenEl(a),d.quickDomEl(a)&&a.append(this));return this};b.prototype.prepend=function(a){var b;a&&(a=p.normalizeGivenEl(a),d.quickDomEl(a)&&((b=a.parent)&&b._removeChild(a),this._children.unshift(a),this.el.insertBefore(a.el,
this.el.firstChild),a.parent));return this};b.prototype.prependTo=function(a){a&&(a=p.normalizeGivenEl(a),d.quickDomEl(a)&&a.prepend(this));return this};b.prototype.after=function(a){var b;a&&this.parent&&(a=p.normalizeGivenEl(a),d.quickDomEl(a)&&(b=this.parent._children.indexOf(this),this.parent._children.splice(b+1,0,a),this.el.parentNode.insertBefore(a.el,this.el.nextSibling),a.parent));return this};b.prototype.insertAfter=function(a){a&&(a=p.normalizeGivenEl(a),d.quickDomEl(a)&&a.after(this));
return this};b.prototype.before=function(a){var b;a&&this.parent&&(a=p.normalizeGivenEl(a),d.quickDomEl(a)&&(b=this.parent._children.indexOf(this),this.parent._children.splice(b,0,a),this.el.parentNode.insertBefore(a.el,this.el),a.parent));return this};b.prototype.insertBefore=function(a){a&&(a=p.normalizeGivenEl(a),d.quickDomEl(a)&&a.before(this));return this};b.prototype.detach=function(){var a;null!=(a=this.parent)&&a._removeChild(this);return this};b.prototype.remove=function(){var a;this.detach();
this.resetState();for(a in this._eventCallbacks)this._eventCallbacks[a].length=0;return this};b.prototype.empty=function(){var a,b,c,e;e=this.children.slice();b=0;for(c=e.length;b<c;b++)a=e[b],this._removeChild(a);return this};b.prototype.wrap=function(a){var b;a&&(a=p.normalizeGivenEl(a),b=this.parent,d.quickDomEl(a)&&a!==this&&a!==this.parent&&(b&&b._removeChild(this,a.parent?void 0:a),a.append(this)));return this};b.prototype.unwrap=function(){var b,c,e,h;if(c=this.parent)if(e=a.batch(c.children),
h=c.next,b=c.parent)c.detach(),h?e.insertBefore(h):e.appendTo(b);return this};b.prototype.replace=function(a){var b;a&&(a=p.normalizeGivenEl(a),d.quickDomEl(a)&&a!==this&&(a.detach(),null!=(b=this.parent)&&b._removeChild(this,a)));return this};b.prototype._removeChild=function(a,b){var c;c=this._children.indexOf(a);-1!==c&&(b?(this.el.replaceChild(b.el,a.el),this._children.splice(c,1,b)):(this.el.removeChild(a.el),this._children.splice(c,1)));return this};Object.defineProperties(b.prototype,{html:{get:function(){return this.el.innerHTML},
set:function(a){return this.el.innerHTML=a}},text:{get:function(){return this.el.textContent},set:function(a){return this.el.textContent=a}}});e={type:"window",el:window,raw:window,_eventCallbacks:{__refs:{}}};e.on=b.prototype.on;e.off=b.prototype.off;e.emit=b.prototype.emit;e._listenTo=b.prototype._listenTo;Object.defineProperties(e,{width:{get:function(){return window.innerWidth}},height:{get:function(){return window.innerHeight}},orientation:F,aspectRatio:A});t=new function(){var a,b;a=[];window.addEventListener("resize",
function(){var b,c,f;c=0;for(f=a.length;c<f;c++)b=a[c],b()});this.parseQuery=function(a,b){var c,f;c=b.split("(");f=c[0];f=function(){switch(f){case "window":return e;case "parent":return a.parent;case "self":return a;default:return a.parentMatching(function(a){return a.ref===f.slice(1)})}}();c=c[1].slice(0,-1).split(K).map(function(a){var b,c,e,h;e=a.split(":");a=parseFloat(e[1]);isNaN(a)&&(a=e[1]);c=e[0];b=c.slice(0,4);e="max-"===b;h=!e&&"min-"===b;if(e||h)c=c.slice(4);b=function(){switch(c){case "orientation":return function(){return f.orientation};
case "aspect-ratio":return function(){return f.aspectRatio};case "width":case "height":return function(){return f[c]};default:return function(){var a,b;b=f.style(c);a=parseFloat(b);return isNaN(a)?b:a}}}();return{key:c,value:a,min:h,max:e,getter:b}});return{source:f,rules:c}};this.register=function(c,f){var e,h;h=this.parseQuery(c,f);h.source&&(a.push(e=function(){return b(c,h,f)}),e());return h};b=function(a,b,c){var f,e,h,k,d;h=!0;k=b.rules;b=0;for(e=k.length;b<e&&(d=k[b],f=d.getter(),h=function(){switch(!1){case !d.min:return f>=
d.value;case !d.max:return f<=d.value;default:return f===d.value}}(),h);b++);return a.state(c,h)};return this};K=/,\s*/;a=function(){var c,h,k,m,x;c=1<=arguments.length?slice.call(arguments,0):[];switch(!1){case !d.array(c[0]):return a.apply(null,c[0]);case !d.template(c[0]):return c[0].spawn();case !d.quickDomEl(c[0]):return c[1]?c[0].updateOptions(c[1]):c[0];case !(d.domNode(c[0])||d.domDoc(c[0])):if(c[0]._quickElement)return c[0]._quickElement;k=c[0].nodeName.toLowerCase().replace("#","");h=c[1]||
{};h.existing=c[0];return new b(k,h);case c[0]!==window:return e;case !d.string(c[0]):k=c[0].toLowerCase();h="text"===k?d.object(c[1])?c[1]:{text:c[1]||""}:d.object(c[1])?c[1]:{};c=c.slice(2);k=new b(k,h);m=0;for(x=c.length;m<x;m++)h=c[m],d.string(h)&&(h=a.text(h)),d.template(h)&&(h=a(h)),d.array(h)&&(h=a.apply(null,h)),d.quickDomEl(h)&&h.appendTo(k);return k}};a.template=function(a){return new c(a,!0)};m=function(b,c){this.elements=b;this.returnResults=c;this.elements=this.elements.map(function(b){return a(b)});
return this};m.prototype.reverse=function(){this.elements=this.elements.reverse();return this};m.prototype["return"]=function(a){return a?(this.returnResults=!0,this):this.lastResults};Object.keys(b.prototype).concat("css","replaceWith","html","text").forEach(function(a){return m.prototype[a]=function(b){var c,f;f=this.lastResults=function(){var f,e,h,k;h=this.elements;k=[];f=0;for(e=h.length;f<e;f++)c=h[f],"html"===a||"text"===a?b?k.push(c[a]=b):k.push(c[a]):k.push(c[a].apply(c,arguments));return k}.apply(this,
arguments);return this.returnResults?f:this}});a.batch=function(a,b){if(!d.iterable(a))throw Error("Batch: expected an iterable, got "+String(a));if(!a.length)throw Error("Batch: expected a non-empty element collection");return new m(a,b)};R=function(a,b,e){var f,h,k,m,x,g,A,p;e&&(h={options:function(a){return v(a,e)}});d.array(b)&&(b=C(b,!1));h=v.deep.notKeys("children").notDeep("relatedInstance").transform(h).clone(a,b);a=a.children;b=(null!=b?b.children:void 0)||[];h.children=[];if(d.array(b))for(k=
m=0,p=Math.max(a.length,b.length);0<=p?m<p:m>p;k=0<=p?++m:--m)x=A=!1,f=a[k],g=b[k],k=function(){switch(!1){case !d.template(g):return g;case !d.array(g):return x=C(g,!1);case !d.string(g):return x={type:"text",options:{text:g}};case !(!g&&!e):return A=!0;default:return x=g||!0}}(),A?k=f:x&&(k=f?f.extend(k,e):new c(v.deep.clone(M,k))),h.children.push(k);else if(d.object(b))for(f in h.children=X(b,a,e),b)g=b[f],k=d.objectPlain(k)?g:C(g),h.children.push(new c(v.deep.clone(M,k))),delete b[f];return h};
X=function(a,b,c){var f,e,h,k,d;if(b.length){d=[];e=0;for(h=b.length;e<h;e++)f=b[e],(k=a[f.ref])?(k=f.extend(k,c),delete a[f.ref]):k=c?f.extend(null,c):f,k._config.children=X(a,k.children),d.push(k);return d}return b};C=function(b,c){var e;switch(!1){case !d.array(b):e={};if(d.string(b[0]))e.type=b[0];else throw Error(I+" string for 'type', got '"+String(b[0])+"'");if(1<b.length&&!d.object(b[1])&&null!==b[1])throw Error(I+" object for 'options', got '"+String(b[1])+"'");e.options=b[1]?v.deep.clone(b[1]):
null;b[1]&&(e.ref=b[1].id||b[1].ref);e.children=b.slice(2);!1===c?3===b.length&&d.objectPlain(b[2])&&!d.template(b[2])&&(e.children=b[2]):e.children=e.children.map(a.template);return e;case !(d.string(b)||d.domText(b)):return{type:"text",options:{text:b.textContent||b},children:M.children};case !d.domEl(b):return{type:b.nodeName.toLowerCase(),ref:b.id,options:v.clone.keys(H)(b),children:M.children.map.call(b.childNodes,a.template)};case !d.quickDomEl(b):return{type:b.type,ref:b.ref,options:v.clone.deep.notKeys("relatedInstance")(b.options),
children:b.children.map(a.template)};case !d.template(b):return R(b._config);default:throw Error(I+" (array || string || domEl || quickDomEl || template), got "+String(b));}};I="Template Parse Error: expected";M={type:"div",ref:void 0,options:{},children:[]};c=function(){function b(a,b){this._config=b?C(a):a}b.prototype.spawn=function(b,c){var e;e=b||c?R(this._config,b,c):this._config;return a.apply(null,[e.type,e.options].concat(slice.call(e.children)))};b.prototype.extend=function(a,c){return new b(R(this._config,
a,c))};return b}();Object.keys(M).forEach(function(a){return Object.defineProperty(c.prototype,a,{get:function(){return this._config[a]}})});Object.defineProperty(c.prototype,"child",{get:function(){return this._childRefs||k(this)}});q="link:a anchor:a a text div span h1 h2 h3 h4 h5 h6 header footer section button br ul ol li fieldset input textarea select option form frame hr iframe img picture main nav meta object pre style table tbody th tr td tfoot video".split(" ");A=function(b){var c,e;c=e=
b;p.includes(b,":")&&(b=b.split(":"),c=b[0],e=b[1]);return a[c]=function(){return a.apply(null,[e].concat(slice.call(arguments)))}};F=0;for(E=q.length;F<E;F++)z=q[F],A(z);a.version="1.0.29";return null!=("undefined"!==typeof l&&null!==l?l.exports:void 0)?l.exports=a:"function"===typeof define&&define.amd?define(["quickdom"],function(){return a}):this.Dom=a})();return l.exports};l[4]=function(g){var l={exports:g};(function(g){return function(){var d;d=function(d,m,a,b){b=function(b){return a[b]?m[b]:
(a[b]=1,m[b]={},m[b]=d[b](m[b]))};d[1]=function(a){var c,k,h,d,m;k=b(2);m=function(a){var b,c,e;c={};for(b in a)e=a[b],c[b]=e;return c};d=function(a){if(a)return"object"!==typeof a||Array.isArray(a)?[].concat(a):Object.keys(a)};c=function(a){var b;b=a.target?function(){for(var a=arguments.length,c=-1,e=Array(a);++c<a;)e[c]=arguments[c];return k(b.options,b.options.target,e)}:function(a){for(var c=arguments.length,e=0,h=Array(c);++e<c;)h[e]=arguments[e];return k(b.options,a,h)};b.options=a;Object.defineProperties(b,
h);return b};h={deep:{get:function(){var a;a=m(this.options);a.deep=!0;return c(a)}},own:{get:function(){var a;a=m(this.options);a.own=!0;return c(a)}},allowNull:{get:function(){var a;a=m(this.options);a.allowNull=!0;return c(a)}},concat:{get:function(){var a;a=m(this.options);a.concat=!0;return c(a)}},clone:{get:function(){var a;a=m(this.options);a.target={};return c(a)}},notDeep:{get:function(){var a;a=m(this.options);return function(b){a.notDeep=d(b);return c(a)}}},keys:{get:function(){var a;a=
m(this.options);return function(b){a.keys=d(b);return c(a)}}},notKeys:{get:function(){var a;a=m(this.options);return function(b){a.notKeys=d(b);return c(a)}}},transform:{get:function(){var a;a=m(this.options);return function(b){"function"===typeof b?a.globalTransform=b:b&&"object"===typeof b&&(a.transforms=b);return c(a)}}},filter:{get:function(){var a;a=m(this.options);return function(b){"function"===typeof b?a.globalFilter=b:b&&"object"===typeof b&&(a.filters=b);return c(a)}}}};return c({})};d[2]=
function(a){var b,c,h,d;c=function(a){return Array.isArray(a)};h=function(a){return a&&"[object Object]"===Object.prototype.toString.call(a)||c(a)};d=function(a,b){return b.notDeep?-1!==b.notDeep.indexOf(a):!1};return b=function(a,e,k){var m,g,x,p,l,A;if(!e||"object"!==typeof e&&"function"!==typeof e)e={};m=0;for(x=k.length;m<x;m++)if(p=k[m],null!=p)for(g in p)if(l=p[g],A=e[g],!(l===e||void 0===l||null===l&&!a.allowNull||a.keys&&-1===a.keys.indexOf(g)||a.notKeys&&-1!==a.notKeys.indexOf(g)||a.own&&
!p.hasOwnProperty(g)||a.globalFilter&&!a.globalFilter(l,g,p)||a.filters&&a.filters[g]&&!a.filters[g](l,g,p)))switch(a.globalTransform&&(l=a.globalTransform(l,g,p)),a.transforms&&a.transforms[g]&&(l=a.transforms[g](l,g,p)),!1){case !(a.concat&&c(l)&&c(A)):e[g]=A.concat(l);break;case !(a.deep&&h(l)&&!d(g,a)):A=h(A)?A:c(l)?[]:{};e[g]=b(a,A,[l]);break;default:e[g]=l}return e}};return b};d=d({},{},{});return function(){var g;g=d(1);null!=("undefined"!==typeof l&&null!==l?l.exports:void 0)?l.exports=g:
"function"===typeof define&&define.amd?define(["smart-extend"],function(){return g}):window.extend=g}()}})(this)();return l.exports};l[5]=function(g){return"_construct _getValue _setValue _createElements _attachBindings validate".split(" ")};l[9]=function(g){return{whiteSpace:/\s+/,numeric:/^\d$/,letter:/^[a-zA-Z]$/,widenumeric:/^[0-9\!#\$\%\*\+\/\=\?\^\{\|\}\(\)\~\-\.]$/,alphanumeric:/^[0-9A-Za-z\!#\$\%\&\'\*\+\/\=\?\^\_\`\{\|\}\(\)\~\-\ ]$/}};l[12]=function(g){g=n(3);return{checkmark:g.template(["*svg",
{attrs:{width:"12px",height:"12px",viewBox:"5 7 12 12",tabindex:-1,focusable:!1},style:{width:"9px",height:"9px"}},["*polyline",{attrs:{"stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",fill:"none",points:"7 13.8888889 9.66666667 17 15 9",tabindex:-1,focusable:!1}}]]),angleDown:g.template(["*svg",{attrs:{width:"1792px",height:"1792px",viewBox:"0 0 1792 1792",tabindex:-1,focusable:!1},style:{width:"100%",height:"100%",outline:"none"}},["*path",{attrs:{tabindex:-1,focusable:!1,d:"M1395 736q0 13-10 23l-466 466q-10 10-23 10t-23-10l-466-466q-10-10-10-23t10-23l50-50q10-10 23-10t23 10l393 393 393-393q10-10 23-10t23 10l50 50q10 10 10 23z"}}]]),
caretUp:g.template(["*svg",{attrs:{viewBox:"0 0 512 512",tabindex:-1,focusable:!1},style:{width:"100%",height:"100%"}},["*path",{attrs:{tabindex:-1,focusable:!1,d:"M402 347c0 5-2 10-5 13-4 4-8 6-13 6h-256c-5 0-9-2-13-6-3-3-5-8-5-13s2-9 5-12l128-128c4-4 8-6 13-6s9 2 13 6l128 128c3 3 5 7 5 12z"}}]]),caretDown:g.template(["*svg",{attrs:{viewBox:"0 0 512 512",tabindex:-1,focusable:!1},style:{width:"100%",height:"100%"}},["*path",{attrs:{tabindex:-1,focusable:!1,d:"M402 201c0 5-2 9-5 13l-128 128c-4 4-8 5-13 5s-9-1-13-5l-128-128c-3-4-5-8-5-13s2-9 5-13c4-3 8-5 13-5h256c5 0 9 2 13 5 3 4 5 8 5 13z"}}]])}};
l[15]=function(g){return{red:"#cc4820",green:"#72c322",orange:"#ff9c00",black:"#181818",grey:"#909090",grey_semi_light:"#bebebe",grey_light:"#d3d3d3"}};l[16]=function(g){return{fontFamily:"system-ui, sans-serif",templates:{},label:!1,alwaysShowHelp:!1,help:"",defaultValue:null,width:"100%"}};l[17]=function(g){var l,u,d,t,m,a,b;u=n(32);m=function(a){return function(a){var b,c,e,d,g,l;c=n(9);b=n(2);e=n(1);d=function(a){"use strict";var b=[],c=[];return a=function(a,e){if(a===e)return 0;var h=a.length,
k=e.length;if(0===h)return k;if(0===k)return h;for(var d,m,g,x,l=0,f=0;l<h;)c[l]=a.charCodeAt(l),b[l]=++l;for(;f<k;)for(d=e.charCodeAt(f),g=f++,m=f,l=0;l<h;l++)x=d===c[l]?g:g+1,g=b[l],m=b[l]=g>m?x>m?m+1:x:x>g?g+1:x;return m}}.call(this,{});l="1#aA*^".split("");m=function(a,b,c){this.pattern=a;this.placeholder=b;this.guide=c;this.optionalsOffset=this.minRequiredCount=0;this.lastValid=null;this.lastInput="";this.valid=!1;this.valueStrict=this.valueRaw=this.value="";this.prev={};this.literals=[];this.optionals=
[];this.repeatables=[];this._normalizePattern();this.setValue("");return this};m.prototype._normalizePattern=function(){var a,b,c,h,k,d,m,g;d="";for(a=k=g=h=0;g<this.pattern.length;){m=this.pattern[g];switch(!1){case !b:b=!1;this.literals.push(g-k);d+=m;0===h&&a++;break;case "\\"!==m:b=!0;k++;break;case "["!==m:c=!0;k++;break;case "]"!==m:c=!1;k++;break;case "+"!==m:k++;break;default:e.includes(l,m)?c?this.optionals.push(g-k):h++:(this.literals.push(g-k),0===h&&a++),"+"===this.pattern[g+1]&&this.repeatables.push(g-
k),d+=m}g++}this.minRequiredCount=h;this.firstNonLiteral=a;return this.pattern=d};m.prototype.setValue=function(a){var b,c,h,k,m,x,v,A,n,u,q,f,H,t,E,r;c=e.getIndexOfFirstDiff(this.value,a);b=d(this.value,a);m=1===a.length&&0===this.valueRaw.length?!1:this.value.length>a.length;(x=!m)&&(n=a.slice(c,c+b));H=f=q="";E=this.pattern.length;k=r=0;if(!(!b&&this.value||m&&e.includes(this.literals,c-this.optionalsOffset)&&c-this.optionalsOffset>this.firstNonLiteral)){for(;r<E;){m=r;t=this.pattern[r];h=a[k];
v=e.includes(this.literals,r);A=e.includes(this.optionals,r);c=e.includes(this.repeatables,r);if(a&&!h&&!this.guide)break;switch(!1){case !v:q+=t;H+=t;t===h?e.includes(l,t)&&x||b>=this.literals.length&&1<b&&this.valueRaw.length||k++:1===b&&a[k+1]===t&&(k+=2);r++;break;case !e.includes(l,t):if(v=h&&this.testCharAtPos(k,h,t)){if("A"===t||"^"===t)h=h.toUpperCase();q+=h;f+=h;if(!A&&!c||u!==r)H+=h;u=a[k+1]&&g(a[k+1],t);k++;u&&c||r++;c&&!u&&e.includes(this.literals,r)&&a[k]!==this.pattern[r]&&k++}else x&&
1===b&&this.testCharAtPos(k+1,a[k+1],t)?A&&k++:(r++,!A&&this.guide&&(q+=this.placeholder,H+=this.placeholder)),A||k++}u=m}this.prev.value=this.value;this.prev.valueRaw=this.valueRaw;this.prev.valueStrict=this.valueStrict;this.value=q;this.valueRaw=f;this.valueStrict=H;n&&(this.lastInput=n);this.optionalsOffset=d(q,H);this.valid=this.validate(a,!0)}};m.prototype.getNearestLiteral=function(a){var b,c,e,h;h=this.literals;c=0;for(e=h.length;c<e;c++)if(b=h[c],b>=a)return this.pattern[b]};m.prototype.validate=
function(a,c){var h,k,d,m,x,v,A,n;if(!b.string(a)||a.length<this.minRequiredCount)return!1;A=this.pattern.length;for(k=n=0;n<A;)switch(v=this.pattern[n],h=a[k],d=e.includes(this.literals,n),m=e.includes(this.optionals,n),x=e.includes(this.repeatables,n),!1){case !d:n++;v===h&&null!=a[k+1]&&k++;break;case !e.includes(l,v):if(h=h&&g(h,v))m=a[k+1]&&g(a[k+1],v),k++,m&&x||n++;else if(m)n++;else return c&&(this.lastValid=0>k-1?null:k-1),!1}c&&(this.lastValid=k);return!0};m.prototype.normalizeCursorPos=
function(a,b){var c,h,k,d,m,g;k=b>a;a<=this.firstNonLiteral&&(c=1<=this.firstNonLiteral-a&&!k||1===this.firstNonLiteral?1:0,a=this.firstNonLiteral+c);d=0;m=this.value.slice(0,a);g=this.valueStrict.slice(0,a);c=e.getIndexOfFirstDiff(this.value,this.prev.value);for(h=0;h<a;)m[h]!==g[h-d]&&d++,h++;if(k){if(a===this.firstNonLiteral)return a;if(e.includes(this.literals,a-1)||this.value[a-1]===this.placeholder)return a-(0===d?1:0)}else{if(null===c)return e.includes(this.literals,a-d-1)&&g[a-d-1]===this.lastInput?
a:Math.max(a-1,this.firstNonLiteral);if(e.includes(this.repeatables,a-d)||e.includes(this.repeatables,c-d))return a;if(e.includes(this.literals,a-d))return a+(0===d?1:0);if(e.includes(this.literals,c-1)&&c===a)return a+1}return a};m.prototype.isLiteralAtPos=function(a){return e.includes(this.literals,a)};m.prototype.isRepeatableAtPos=function(a){0!==a&&(a-=this.optionalsOffset+1);return e.includes(this.repeatables,a)};m.prototype.testCharAtPos=function(a,b,c){return this.getNearestLiteral(a)===b?
!1:g(b,c)};g=function(a,b){switch(b){case "1":return c.numeric.test(a);case "#":return c.widenumeric.test(a);case "a":case "A":return c.letter.test(a);case "*":case "^":return c.alphanumeric.test(a);default:return!1}};return a=m}}(this)({});t=n(18);b=n(1);d=n(2);l=n(3);a=n(46);g=Object.create(null);g._templates=function(a){return function(a){l=n(3);a=n(15);b=n(1);return a={field:l.template(["div",{ref:"field",style:{position:"relative",display:"none",boxSizing:"border-box",fontFamily:function(a){return a.settings.fontFamily},
$visible:{display:"inline-block"},$showError:{animation:"0.2s fieldErrorShake"}}},["div",{ref:"label",style:{position:"absolute",zIndex:1,top:function(a){return parseFloat(a.el.child.innerwrap.styleSafe("height"))/6},left:function(a){var b;return parseFloat(null!=(b=a.el.child.icon)?b.styleSafe("width"):void 0)||0},padding:"0 12px",fontFamily:"inherit",fontSize:"11px",fontWeight:600,lineHeight:"1em",color:a.grey,opacity:0,transition:"opacity 0.2s, color 0.2s",whiteSpace:"nowrap",userSelect:"none",
cursor:"default",pointerEvents:"none",$filled:{$showLabel:{opacity:1}},$focus:{color:a.orange},$showError:{color:a.red}}}],["div",{ref:"innerwrap",style:{position:"relative",height:"46px",backgroundColor:"white",borderWidth:"1px",borderStyle:"solid",borderColor:a.grey_light,borderRadius:"2px",boxSizing:"border-box",fontFamily:"inherit",transition:"border-color 0.2s",$focus:{borderColor:a.orange},$showError:{borderColor:a.red},$disabled:{borderColor:a.grey_light,backgroundColor:a.grey_light}}},["input",
{ref:"input",type:"text",style:{position:"relative",zIndex:3,display:"inline-block",verticalAlign:"top",width:function(a){var b;if(!a.settings.autoWidth)return b="",a.el.child.icon&&(b+=" -"+a.el.child.icon.raw.styleSafe("width",!0)),a.el.child.checkmark&&(b+=" -"+a.el.child.checkmark.styleSafe("width",!0)),"calc(100% + ("+(b||"0px")+"))"},height:function(){return this.parent.styleSafe("height")},margin:"0",padding:"12px",backgroundColor:"transparent",appearance:"none",border:"none",outline:"none",
fontFamily:"inherit",fontSize:"14px",color:a.black,boxSizing:"border-box",whiteSpace:"nowrap",transform:"translateY(0)",transition:"transform 0.2s, -webkit-transform 0.2s",$filled:{$showLabel:{transform:function(a){var c;if((c=a.el.child.label)&&"absolute"===c.style("position"))return a=this._inserted?this.styleParsed("paddingTop"):b.parseCssShorthandValue(this.styleSafe("padding")).top,c=c.height+c.styleParsed("top")-a-2,"translateY("+c+"px)"}}},$showCheckmark:{padding:"0 44px 0 12px"}}}],["div",
{ref:"placeholder",style:{position:"absolute",zIndex:2,top:"0px",left:function(a){var b;return(null!=(b=a.el.child.icon)?b.styleSafe("width"):void 0)||0},fontFamily:function(a){return a.el.child.input.styleSafe("fontFamily")},fontSize:function(a){return a.el.child.input.styleSafe("fontSize")},padding:function(a){var b;b=a.el.child.input.styleParsed("paddingLeft");return a.el.child.input.styleParsed("paddingTop")+3+"px "+b+"px"},color:a.black,opacity:.5,userSelect:"none",whiteSpace:"nowrap",transform:"translateY(0)",
transition:"transform 0.2s, -webkit-transform 0.2s",$filled:{visibility:"hidden",$showLabel:{transform:function(a){return a.el.child.input.raw.style.transform}}}}}]],["div",{ref:"help",style:{position:"absolute",top:function(a){return this.parent.styleParsed("height")+4},left:"0px",fontFamily:"inherit",fontSize:"11px",color:a.grey,display:"none",$showError:{color:a.red,display:"block"},$showHelp:{display:"block"}}}]]),checkmark:l.template(["div",{ref:"checkmark",style:{position:"relative",zIndex:4,
display:"none",width:"38px",height:"100%",paddingTop:function(){return this.parent.styleParsed("height")/2-13},paddingRight:"12px",verticalAlign:"top",boxSizing:"border-box",$filled:{display:"inline-block"}}},["div",{ref:"checkmark_innerwrap",style:{width:"20px",height:"20px",borderRadius:"50%",backgroundColor:"white",borderWidth:"3px",borderStyle:"solid",borderColor:a.green,transform:"scale(0.8)",$showError:{borderColor:a.red}}},["div",{ref:"checkmark_mask1",style:{position:"absolute",top:"-4px",
left:"-10px",width:"15px",height:"30px",borderRadius:"30px 0 0 30px",backgroundColor:function(){return this.parent.raw.style.backgroundColor},transform:"rotate(-45deg)",transformOrigin:"15px 15px 0"}}],["div",{ref:"checkmark_mask2",style:{position:"absolute",top:"-5px",left:"8px",width:"15px",height:"30px",borderRadius:"0 30px 30px 0",backgroundColor:function(){return this.parent.raw.style.backgroundColor},transform:"rotate(-45deg)",transformOrigin:"0 15px 0",$filled:{animation:"4.25s ease-in checkmarkRotatePlaceholder",
$invalid:{animation:""}}}}],["div",{ref:"checkmark_lineWrapper",style:{$filled:{$invalid:{position:"relative",zIndex:2,animation:"0.55s checkmarkAnimateError",transformOrigin:"50% 10px"}}}},["div",{ref:"checkmark_lineShort",style:{position:"absolute",zIndex:2,top:"10px",left:"3px",display:"block",width:"8px",height:"3px",borderRadius:"2px",backgroundColor:a.green,transform:"rotate(45deg)",$filled:{animation:"0.75s checkmarkAnimateSuccessTip"},$invalid:{backgroundColor:a.red,left:"4px",top:"8px",width:"12px",
$filled:{animation:""}}}}],["div",{ref:"checkmark_lineLong",style:{position:"absolute",zIndex:2,top:"8px",right:"2px",display:"block",width:"12px",height:"3px",borderRadius:"2px",backgroundColor:a.green,transform:"rotate(-45deg)",$filled:{animation:"0.75s checkmarkAnimateSuccessLong"},$invalid:{backgroundColor:a.red,top:"8px",left:"4px",right:"auto",$filled:{animation:""}}}}]],["div",{ref:"checkmark_placeholder",style:{position:"absolute",zIndex:2,top:"-4px",left:"-3px",width:"20px",height:"20px",
borderRadius:"50%",borderWidth:"3px",borderStyle:"solid",borderColor:b.hexToRGBA(a.green,.4),$invalid:{borderColor:b.hexToRGBA(a.red,.4)}}}],["div",{ref:"checkmark_patch",style:{position:"absolute",zIndex:1,top:"-2px",left:"6px",width:"4px",height:"28px",backgroundColor:function(){return this.parent.raw.style.backgroundColor},transform:"rotate(-45deg)"}}]]])}}}(this)({});g._defaults=function(a){return function(a){return{mask:!1,maskPlaceholder:" ",maskGuide:!0,placeholder:!0,validWhenIsChoice:!1,
validWhenRegex:!1,autoWidth:!1,maxWidth:"100%",checkmark:!0,keyboard:"text",dropdownOptions:{storeSelected:!1,lockScroll:!1},choices:null}}}(this)({});g._construct=function(){null==this._value&&(this._value="");this.state.typing=!1;this.cursor={prev:0,current:0};if(!this.settings.mask){var a=this.settings,b;a:{switch(this.settings.keyboard){case "number":case "phone":case "tel":b="1+";break a;case "email":b="*+@*+.aa+";break a}b=void 0}a.mask=b}this.settings.mask&&(this.mask=new m(this.settings.mask,
this.settings.maskPlaceholder,this.settings.maskGuide))};g._getValue=function(){return this._value};g._setValue=function(a){if(d.string(a)||d.number(a))return this._value=a};g._createElements=function(){var a,b;a={relatedInstance:this,styleAfterInsert:!0};this.el=this._templates.field.spawn(this.settings.templates.field,a);this.settings.choices&&(this.dropdown=new u(this.settings.choices,this),this.dropdown.appendTo(this.el.child.innerwrap));this.settings.icon&&(d.string(this.settings.icon)&&(b=this.settings.icon),
this._templates.icon.spawn(this.settings.templates.icon,a,b).insertBefore(this.el.child.input));this.settings.checkmark&&this._templates.checkmark.spawn(this.settings.templates.checkmark,a).insertAfter(this.el.child.input);this.el.child.input.prop("type",function(){switch(this.settings.keyboard){case "number":case "tel":case "phone":return"tel";case "password":return"password";case "url":return"url";default:return"text"}}.call(this));this.el.state("hasLabel",this.settings.label);this.el.child.innerwrap.raw._quickField=
this.el.child.input.raw._quickField=this};g._attachBindings=function(){this._attachBindings_elState();this._attachBindings_display();this._attachBindings_display_autoWidth();this._attachBindings_value();this._attachBindings_autocomplete();this._attachBindings_stateTriggers()};g._attachBindings_elState=function(){a("visible").of(this.state).to(function(a){return function(b){return a.el.state("visible",b)}}(this));a("hovered").of(this.state).to(function(a){return function(b){return a.el.state("hover",
b)}}(this));a("focused").of(this.state).to(function(a){return function(b){return a.el.state("focus",b)}}(this));a("filled").of(this.state).to(function(a){return function(b){return a.el.state("filled",b)}}(this));a("disabled").of(this.state).to(function(a){return function(b){return a.el.state("disabled",b)}}(this));a("showLabel").of(this.state).to(function(a){return function(b){return a.el.state("showLabel",b)}}(this));a("showError").of(this.state).to(function(a){return function(b){return a.el.state("showError",
b)}}(this));a("showHelp").of(this.state).to(function(a){return function(b){return a.el.state("showHelp",b)}}(this));a("valid").of(this.state).to(function(a){return function(b){a.el.state("valid",b);return a.el.state("invalid",!b)}}(this))};g._attachBindings_display=function(){a("showError",{updateOnBind:!1}).of(this.state).to(function(a){return function(b,c){switch(!1){case !d.string(b):return a.state.help=b;case !d.string(c):return a.state.help=a.settings.help}}}(this));a("label").of(this.state).to("text").of(this.el.child.label).and.to("showLabel").of(this.state);
a("help").of(this.state).to("text").of(this.el.child.help);a("placeholder").of(this.state).to("text").of(this.el.child.placeholder).transform(function(a){return function(b){switch(!1){case !(!0===b&&a.settings.label):return a.settings.label;case !d.string(b):return b;default:return""}}}(this))};g._attachBindings_display_autoWidth=function(){a("width",{updateEvenIfSame:!0}).of(this.state).to(function(a){return function(b){return(a.settings.autoWidth?a.el.child.input:a.el).style({width:b})}}(this));
this.settings.autoWidth&&a("_value",{updateEvenIfSame:!0,updateOnBind:!1}).of(this).to("width").of(this.state).transform(function(a){return function(){return a._getInputAutoWidth()+"px"}}(this)).updateOn("event:inserted").of(this)};g._attachBindings_value=function(){a("value").of(this.el.child.input.raw).transformSelf(function(a){return function(b){a.mask&&(a.mask.setValue(b),a.cursor.current=a.selection().start,b=a.mask.valueRaw?a.mask.value:"");return b}}(this));a("_value").of(this).to("value").of(this.el.child.input.raw).bothWays().and.to("valueRaw").of(this).transform(function(a){return function(b){return a.mask?
a.mask.valueRaw:b}}(this));a("valueRaw").of(this).to(function(a){return function(b){a.state.filled=!!b;b&&(a.state.interacted=!0);a.state.valid=a.validate();return a.emit("input")}}(this));this.settings.mask&&(a("value",{updateEvenIfSame:!0}).of(this.el.child.input.raw).to(function(a){return function(b){if(a.state.focused)return a._scheduleCursorReset()}}(this)),a("event:keydown").of(this.el.child.input).to(function(a){return function(b){b=a.selection().start;return a.selection({start:b+1,end:b+1})}}(this)).condition(function(a){return function(b){var c;
c=a.selection();return a._value&&c.start===c.end&&b.keyCode!==t["delete"]&&!t.anyArrow(b.keyCode)&&a.mask.isLiteralAtPos(c.start)&&!a.mask.isRepeatableAtPos(c.start)}}(this)))};g._attachBindings_autocomplete=function(){this.dropdown&&(a("typing",{updateEvenIfSame:!0}).of(this.state).to(function(b){return function(c){if(c){if(b.valueRaw)return b.dropdown.isOpen=!0,a("event:click").of(document).once.to(function(){return b.dropdown.isOpen=!1}).condition(function(a){return!l(a.target).parentMatching(function(a){return a===
b.el.child.innerwrap})})}else return setTimeout(function(){return b.dropdown.isOpen=!1},300)}}(this)),a("valueRaw",{updateOnBind:!1}).of(this).to(function(a){return function(c){var e,h,d,m,g;m=a.dropdown.options;e=0;for(h=m.length;e<h;e++)d=m[e],g=c?b.fuzzyMatch(c,d.value):!0,d.visible!==g&&(d.visible=g);a.dropdown.isOpen&&!c&&(a.dropdown.isOpen=!1)}}(this)),this.dropdown.onSelected(function(a){return function(b){a._value=b.label;b.value!==b.label&&(a.valueRaw=b.value);a.dropdown.isOpen=!1;return a.selection(a.el.child.input.raw.value.length)}}(this)))};
g._attachBindings_stateTriggers=function(){a("event:mouseenter").of(this.el.child.input).to(function(a){return function(){return a.state.hovered=!0}}(this));a("event:mouseleave").of(this.el.child.input).to(function(a){return function(){return a.state.hovered=!1}}(this));a("event:focus").of(this.el.child.input).to(function(a){return function(){a.state.focused=!0;if(a.state.disabled)return a.blur()}}(this));a("event:blur").of(this.el.child.input).to(function(a){return function(){return a.state.typing=
a.state.focused=!1}}(this));a("event:input").of(this.el.child.input).to(function(a){return function(){return a.state.typing=!0}}(this));a("event:keydown").of(this.el.child.input).to(function(a){return function(){return a.cursor.prev=a.selection().end}}(this))};g._scheduleCursorReset=function(){var a,e;b.getIndexOfFirstDiff(this.mask.value,this.mask.prev.value);a=this.cursor.current;e=this.mask.normalizeCursorPos(a,this.cursor.prev);e!==a&&this.selection(e)};g._getInputAutoWidth=function(){var a,b;
this._value?(this.el.child.input.style("width",0),this.el.child.input.raw.scrollLeft=1E10,a=Math.max(this.el.child.input.raw.scrollLeft+this.el.child.input.raw.offsetWidth,this.el.child.input.raw.scrollWidth)+2,b=this.settings.label&&"absolute"===this.el.child.label.styleSafe("position")?this.el.child.label.rect.width:0):(a=this.el.child.placeholder.rect.width,b=0);return Math.min(this._getMaxWidth(),Math.max(a,b))};g._getMaxWidth=function(){var a,e;"number"===typeof this.settings.maxWidth?a=this.settings.maxWidth:
"string"===typeof this.settings.maxWidth&&(a=parseFloat(this.settings.maxWidth),b.includes(this.settings.maxWidth,"%")&&((e=this.el.parent)?(e=e.styleParsed("width")-e.styleParsed("paddingLeft")-e.styleParsed("paddingRight")-2,a=a/100*e):a=0));return a||Infinity};g.validate=function(a){var b;null==a&&(a=this._value);switch(!1){case !(this.settings.validWhenRegex&&d.regex(this.settings.validWhenRegex)):return this.settings.validWhenRegex.test(a);case !(this.settings.validWhenIsChoice&&null!=(b=this.settings.choices)&&
b.length):return b=this.settings.choices.filter(function(b){return b.value===a}),!!b.length;case !this.mask:return this.mask.validate(a);default:return!!a}};g.selection=function(a){var b,c;d.object(a)?(c=a.start,b=a.end):c=a;if(null!=c){if(!b||b<c)b=c;this.el.child.input.raw.setSelectionRange(c,b)}else return{start:this.el.child.input.raw.selectionStart,end:this.el.child.input.raw.selectionEnd}};g.focus=function(){return this.el.child.input.raw.focus()};g.blur=function(){return this.el.child.input.raw.blur()};
return g};l[18]=function(g){var l;return g=l={"delete":8,enter:13,esc:27,ctrl:17,alt:18,shift:16,"super":91,super2:93,up:38,left:37,right:39,down:40,anyArrow:function(g){return g===l.up||g===l.down||g===l.left||g===l.right},anyModifier:function(g){return g===l.ctrl||g===l.alt||g===l.shift||g===l["super"]||g===l.super2}}};l[24]=function(g){var l,u,d,t;t=n(1);u=n(2);l=n(3);d=n(46);g=Object.create(null);g._templates=function(d){return function(a){l=n(3);a=n(15);return a={field:l.template(["div",{ref:"field",
style:{position:"relative",display:"none",width:function(a){return a.state.width},boxSizing:"border-box",fontFamily:function(a){return a.settings.fontFamily},$visible:{$hasVisibleOptions:{display:"inline-block"}},$showError:{animation:"0.2s fieldErrorShake"}}},["div",{ref:"label",style:{display:"none",marginBottom:"12px",fontFamily:"inherit",fontSize:"13px",fontWeight:600,textAlign:"left",color:a.black,cursor:"default",pointerEvents:"none",userSelect:"none",$showLabel:{display:"block"},$showError:{color:a.red}}}],
["div",{ref:"innerwrap",style:{position:"relative",boxSizing:"border-box",fontFamily:"inherit"}}],["div",{ref:"help",style:{marginTop:"10px",fontFamily:"inherit",fontSize:"11px",color:a.grey,display:"none",$showError:{color:a.red,display:"block"},$showHelp:{display:"block"}}}]]),choiceGroup:l.template(["div",{ref:"choiceGroup",style:{marginBottom:function(a){return a.settings.spacing},userSelect:"none",fontSize:"0",whiteSpace:"nowrap"}}]),choice:l.template(["div",{ref:"choice",style:{position:"relative",
display:"inline-block",width:"auto",marginLeft:function(a){if(this.index)return"calc(100% - (100% - "+a.settings.spacing+"px))"},padding:"0 12px",borderRadius:"2px",backgroundColor:"white",fontFamily:"inherit",textAlign:"center",color:a.black,boxSizing:"border-box",verticalAlign:"top",cursor:"pointer",$definedWidth:{width:function(a){return"calc((100% - "+a.settings.spacing*(a.settings.perGroup-1)+"px) / "+a.settings.perGroup+")"}},$selected:{color:a.orange},$unavailable:{display:"none"}}},["div",
{ref:"border",style:{position:"absolute",zIndex:2,top:"0",left:"0",width:"100%",height:"100%",borderWidth:"1px",borderStyle:"solid",borderColor:a.grey_light,borderRadius:"2px",boxSizing:"border-box",$selected:{borderColor:"inherit",borderWidth:"2px"},$disabled:{backgroundColor:a.grey_light}}}],["div",{ref:"label",style:{position:"relative",display:"block",padding:"15px 0px",fontFamily:"inherit",fontSize:"14px",fontWeight:"500"}}]]),choiceIcon:l.template(["div",{ref:"icon",style:{position:"absolute",
top:"50%",display:"block",fontSize:"20px",opacity:.16,transform:"translateY(-50%)"}}])}}}(this)({});g._defaults=function(d){return function(a){return{validWhenSelected:!1,validWhenIsChoice:!1,showSelectAll:!1,perGroup:7,spacing:8,choices:[]}}}(this)({});g._construct=function(){var d;if(null==(d=this.settings.choices)||!d.length)throw Error("Choices were not provided for choice field '"+(this.settings.label||this.ID)+"'");this._value=this.settings.multiple?[]:null;this.lastSelected=null;this.visibleOptionsCount=
0;this.choices=this.settings.choices;this.settings.perGroup=Math.min(this.settings.perGroup,this.choices.length+(this.settings.multiple&&this.settings.showSelectAll?1:0))};g._getValue=function(){var d;return this.settings.multiple?this._value.map(function(a){return a.value}):null!=(d=this._value)?d.value:void 0};g._setValue=function(d){var a,b,c;if(this.settings.multiple)for(u.array(d)||(d=[].concat(d)),a=0,b=d.length;a<b;a++)c=d[a],this.setOptionFromString(c);else this.setOptionFromString(d)};g._createElements=
function(){var d,a,b;a={relatedInstance:this,styleAfterInsert:!0};this.el=this._templates.field.spawn(this.settings.templates.field,a);d=this.settings.choices;b=this.settings.perGroup;Array(Math.ceil(d.length/b)).fill().map(function(a,e){return d.slice(e*b,e*b+b)}).forEach(function(b){return function(c,d){var h;h=b._templates.choiceGroup.spawn(b.settings.templates.choiceGroup,a).appendTo(b.el.child.innerwrap);return c.forEach(function(c,e){var k;c.el=b._templates.choice.spawn(b.settings.templates.choice,
a).appendTo(h);c.icon&&(k=b._templates.choiceIcon.spawn(b.settings.templates.choiceIcon,a).insertBefore(c.child.label),k.text=c.icon);c.index=e;c.el.index=e;c.el.totalIndex=e*d;c.el.prop("title",c.label);c.el.child.label.text=c.label;c.visible=!0;c.selected=!1;return c.unavailable=!1})}}(this));this.el.child.innerwrap.raw._quickField=this};g._attachBindings=function(){this._attachBindings_elState();this._attachBindings_stateTriggers();this._attachBindings_display();this._attachBindings_value();this._attachBindings_choices()};
g._attachBindings_elState=function(){d("visible").of(this.state).to(function(d){return function(a){return d.el.state("visible",a)}}(this));d("hovered").of(this.state).to(function(d){return function(a){return d.el.state("hover",a)}}(this));d("filled").of(this.state).to(function(d){return function(a){return d.el.state("filled",a)}}(this));d("disabled").of(this.state).to(function(d){return function(a){return d.el.state("disabled",a)}}(this));d("showLabel").of(this.state).to(function(d){return function(a){return d.el.state("showLabel",
a)}}(this));d("showError").of(this.state).to(function(d){return function(a){return d.el.state("showError",a)}}(this));d("showHelp").of(this.state).to(function(d){return function(a){return d.el.state("showHelp",a)}}(this));d("valid").of(this.state).to(function(d){return function(a){d.el.state("valid",a);return d.el.state("invalid",!a)}}(this))};g._attachBindings_stateTriggers=function(){d("event:mouseenter").of(this.el).to(function(d){return function(){return d.state.hovered=!0}}(this));d("event:mouseleave").of(this.el).to(function(d){return function(){return d.state.hovered=
!1}}(this))};g._attachBindings_display=function(){d("width").of(this.state).to(function(d){return function(a){return d.el.style("width",a).state("definedWidth","auto"!==a)}}(this));d("showError",{updateOnBind:!1}).of(this.state).to(function(d){return function(a,b){switch(!1){case !u.string(a):return d.state.help=a;case !u.string(b):return d.state.help=d.settings.help}}}(this));d("label").of(this.state).to("text").of(this.el.child.label).and.to("showLabel").of(this.state);d("help").of(this.state).to("text").of(this.el.child.help);
d("visibleOptionsCount").of(this).to(function(d){return function(a){return d.el.state("hasVisibleOptions",!!a)}}(this))};g._attachBindings_value=function(){d("_value").of(this).to(function(d){return function(a){d.state.filled=!(null==a||!a.length);d.state.filled&&(d.state.interacted=!0);return d.state.valid=d.validate()}}(this));d("array:_value",{updateOnBind:!1}).of(this).to(function(d){return function(){return d.emit("input")}}(this));d("lastSelected",{updateOnBind:!1,updateEvenIfSame:!0}).of(this).to(function(d){return function(a,
b){if(d.settings.multiple){if(a.selected)return a.selected=!1,t.removeItem(d._value,a);a.selected=!0;return d._value.push(a)}if(a!==b)return a.selected=!0,null!=b&&(b.selected=!1),d._value=a}}(this))};g._attachBindings_choices=function(){this.choices.forEach(function(g){return function(a){var b;d("visible").of(a).to(function(b){return a.el.state("visible",b)}).and.to(function(a){return g.visibleOptionsCount+=a?1:-1});d("selected",{updateOnBind:!1}).of(a).to(function(b){return a.el.state("selected",
b)});d("unavailable",{updateOnBind:!1}).of(a).to(function(b){return a.el.state("unavailable",b)}).and.to(function(){return g.lastSelected=a}).condition(function(b){return b&&g.settings.multiple&&a.selected});d("event:click",{listenMethod:"on"}).of(a.el).to(function(){return g.lastSelected=a});if(null!=(b=a.conditions)&&b.length)return a.unavailable=!0,a.allFields=g.allFields,t.initConditions(a,a.conditions,function(){return a.unavailable=!t.validateConditions(a.conditions)})}}(this))};g.validate=
function(d){null==d&&(d=this._value);this.settings.multiple?(u.array(d)||(d=[].concat(d)),u.object(d[0])||(d=d.map(function(a){return a.value}))):u.object(d)&&(d=d.value);switch(!1){case "number"!==typeof this.settings.validWhenSelected:return(null!=d?d.length:void 0)>=this.settings.validWhenSelected;case !this.settings.validWhenIsChoice:return this.settings.multiple?t.includes(d,this.settings.validWhenIsChoice):d===this.settings.validWhenIsChoice;default:return!(null==d||!d.length)}};g.findChoice=
function(d,a){return this.choices.filter(function(b){return d===(a?b.label:b.value)})[0]};g.findChoiceAny=function(d){return this.findChoice(d)||this.findChoice(d,!0)};g.setOptionFromString=function(d,a){var b;if((b=this.findChoiceAny(d,a))&&b!==this.lastSelected&&(!this.settings.multiple||!t.includes(this._value,b)))return this.lastSelected=b};return g};l[25]=function(g){var l,u;u=n(4);n(46);l=n(24);g=Object.create(null);g._templates=function(d){return function(d){u=n(4);l=n(24);return d=u.clone.transform(function(d){return d.extend()})(l._templates)}}(this)({});
g._defaults=function(d){return function(d){return{validWhenSelected:!1,validWhenIsChoice:!1,validWhenTrue:!0,choiceLabels:["True","False"],choices:[{value:!0},{value:!1}],spacing:8}}}(this)({});u.keys("_createElements _attachBindings _attachBindings_elState _attachBindings_stateTriggers _attachBindings_display _attachBindings_value _attachBindings_choices".split(" "))(g,l);g._construct=function(){this.lastSelected=null;this.visibleOptionsCount=2;this.choices=this.settings.choices;this.choices[0].label=
this.settings.choiceLabels[0];this.choices[1].label=this.settings.choiceLabels[1];this.settings.perGroup=2};g._getValue=function(){return null===this._value?null:0===this._value.index?!0:!1};g._setValue=function(d){if(null===d)this._value=null,null!=(d=this.lastSelected)&&(d.selected=!1);else return"string"===typeof d&&(d=d.toLowerCase(),"false"===d&&(d=!1)),this.lastSelected=d?this.choices[0]:this.choices[1]};g.validate=function(d){null==d&&(d=this._value);"string"===typeof d&&(d=this.findOption(d));
switch(!1){case !this.settings.validWhenIsChoice:return d?this.settings.validWhenIsChoice===d.value:!1;case !this.settings.validWhenSelected:return!!d;case !this.settings.validWhenTrue:return 0===(null!=d?d.index:void 0);default:return!1}};return g};l[32]=function(g){var l,u,d,t,m;l=n(2);d=n(46);u=n(18);m=n(1);t=n(4);g=function(a,b){this.options=a;this.field=b;this.isOpen=!1;this.settings=t.deep.clone.keys(this._defaults).filter(this._settingFilters)(this._defaults,this.field.settings.dropdownOptions);
this.selected=this.settings.multiple?[]:null;this.currentHighlighted=this.lastSelected=null;this.visibleOptionsCount=0;this.visibleOptions=[];this.els={};this._selectedCallback=m.noop;this._createElements();this._attachBindings();return this};g.prototype._templates=function(a){return function(a){var b,d;a=n(3);b=n(12);m=n(1);d=n(16);return a={container:a.template(["div",{ref:"dropdown",style:{position:"absolute",zIndex:10,overflow:"hidden",top:function(a){return"text"===a.field.type?this.parent.raw.style.height:
"-7px"},left:function(){return 0>this.parent.rect.left-5?0:-5},display:"none",backgroundColor:"#f6f6f6",boxShadow:"0px 6px 10px "+m.hexToRGBA("000000",.32),borderWidth:"1px",borderStyle:"solid",borderColor:"#d1d1d1",borderRadius:"5px",boxSizing:"border-box",padding:"4px 0",$isOpen:{$hasVisibleOptions:{display:"block"}}}}]),list:a.template(["div",{ref:"list",passStateToChildren:!1,style:{position:"relative",overflow:"scroll",overflowScrolling:"touch"}}]),option:a.template(["div",{style:{display:"none",
fontSize:"0",color:"#000000",userSelect:"none",cursor:"pointer",$visible:{display:"block"},$hover:{color:"#ffffff",backgroundColor:"#4C96FF"}}},a.template(["div",{style:{display:"inline-block",verticalAlign:"top",width:"20px",lineHeight:"20px",fontSize:"13px",textAlign:"center",color:"inherit",stroke:"currentColor",visibility:"hidden",$selected:{visibility:"visible"}}},b.checkmark]),a.template(["div",{style:{display:"inline-block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",wordWrap:"normal",
maxWidth:function(){return"calc(100% - "+this.prev.raw.style.width+")"},paddingRight:"10px",lineHeight:"20px",fontSize:"11px",fontFamily:d.fontFamily,color:"inherit",boxSizing:"border-box"}}])]),scrollIndicatorUp:a.template(["div",{ref:"scrollIndicatorUp",style:{position:"absolute",top:0,left:0,display:"none",width:"100%",height:"20px",backgroundColor:"#f6f6f6",color:"#000000",textAlign:"center",$visible:{display:"block"}}},["div",{style:{position:"absolute",top:"50%",left:0,right:0,width:"15px",
height:"15px",display:"block",margin:"0 auto",transform:"translateY(-50%)"}},b.caretUp]]),scrollIndicatorDown:a.template(["div",{ref:"scrollIndicatorDown",style:{position:"absolute",bottom:0,left:0,display:"none",width:"100%",height:"20px",backgroundColor:"#f6f6f6",color:"#000000",textAlign:"center",$visible:{display:"block"}}},["div",{style:{position:"absolute",top:"50%",left:0,right:0,width:"15px",height:"15px",display:"block",margin:"0 auto",transform:"translateY(-50%)"}},b.caretDown]]),help:a.template(["div",
{ref:"help",style:{display:"none",borderTop:"2px solid rgba(0,0,0,0.05)",padding:"4px 12px 1px",color:"rgba(0,0,0,0.5)",fontWeight:"500",fontSize:"11px",userSelect:"none",$showHelp:{display:"block"}}}])}}}(this)({});g.prototype._defaults=function(a){return function(a){return{maxHeight:300,multiple:!1,storeSelected:!0,lockScroll:!0,help:"",templates:{}}}}(this)({});g.prototype._settingFilters={maxHeight:function(a){return l.number(a)}};g.prototype._createElements=function(){var a;a={relatedInstance:this,
styleAfterInsert:!0};this.els.container=this._templates.container.spawn(this.settings.templates.container,t({passStateToChildren:!1},a));this.els.list=this._templates.list.spawn(this.settings.templates.list,a).appendTo(this.els.container);this.els.help=this._templates.help.spawn(this.settings.templates.help,a).appendTo(this.els.container);this.els.scrollIndicatorUp=this._templates.scrollIndicatorUp.spawn(this.settings.templates.scrollIndicatorUp,a).appendTo(this.els.container);this.els.scrollIndicatorDown=
this._templates.scrollIndicatorDown.spawn(this.settings.templates.scrollIndicatorDown,a).appendTo(this.els.container);this.options.forEach(function(b){return function(c){c.el=b._templates.option.spawn({options:{props:{title:c.label}}},a).appendTo(b.els.list);c.el.children[1].text=c.label;c.visible=!0;c.selected=!1;return c.unavailable=!1}}(this))};g.prototype._attachBindings=function(){d("help").of(this.settings).to("text").of(this.els.help).and.to(function(a){return function(b){return a.els.help.state("showHelp",
b)}}(this));d("visibleOptionsCount").of(this).to(function(a){return function(b){return a.els.container.state("hasVisibleOptions",!!b)}}(this));d("isOpen",{updateOnBind:!1}).of(this).to(function(a){return function(b){a.els.container.state("isOpen",b);b||(a.currentHighlighted=null);a.settings.lockScroll&&(b?m.lockScroll(a.els.list):m.unlockScroll());if(b)return a.list_setMaxHeight(),a.list_scrollToSelected()}}(this));d("lastSelected",{updateOnBind:!1,updateEvenIfSame:!0}).of(this).to(function(a){return function(b,
c){a.settings.storeSelected&&(a.settings.multiple?b.selected?(b.selected=!1,m.removeItem(a.selected,b)):(b.selected=!0,a.selected.push(b)):(b.selected=!0,b!==c&&null!=c&&(c.selected=!1),a.selected=b));return a._selectedCallback(b,c)}}(this));d("currentHighlighted").of(this).to(function(a){return function(a,c){c&&c.el.state("hover",!1);if(a)return a.el.state("hover",!0)}}(this));d("focused",{updateOnBind:!1}).of(this.field.state).to(function(a){return function(b){return b?a.field.el.child.input.on("keydown.dropdownNav",
function(b){if(a.isOpen)switch(b.keyCode){case u.up:return b.preventDefault(),a.highlightPrev();case u.down:return b.preventDefault(),a.highlightNext();case u.enter:return b.preventDefault(),a.selectHighlighted();case u.esc:return b.preventDefault(),a.isOpen=!1}}):a.field.el.child.input.off("keydown.dropdownNav")}}(this));d("scrollTop",{updateEvenIfSame:!0}).of(this.els.list.raw).to(function(a){return function(b){var c;c=a.els.list.raw.scrollHeight-a.els.list.raw.clientHeight>b;a.els.scrollIndicatorUp.state("visible",
0<b);return a.els.scrollIndicatorDown.state("visible",c)}}(this)).condition(function(a){return function(){return a.isOpen&&!a.settings.help&&a.els.list.raw.scrollHeight!==a.els.list.raw.clientHeight&&100<=a.els.list.raw.clientHeight}}(this)).updateOn("event:scroll").of(this.els.list.raw).updateOn("isOpen").of(this);this.els.scrollIndicatorUp.on("mouseenter",function(a){return function(){return a.list_startScrolling("up")}}(this));this.els.scrollIndicatorUp.on("mouseleave",function(a){return function(){return a.list_stopScrolling()}}(this));
this.els.scrollIndicatorDown.on("mouseenter",function(a){return function(){return a.list_startScrolling("down")}}(this));this.els.scrollIndicatorDown.on("mouseleave",function(a){return function(){return a.list_stopScrolling()}}(this));return this.options.forEach(function(a){return function(b,c){var e;b.index=c;d("visible").of(b).to(function(b){return a.visibleOptionsCount+=b?1:-1}).and.to(function(c){b.el.state("visible",c);return c?(a.visibleOptions.push(b),a.visibleOptions.sort(function(a,b){return a.index-
b.index})):m.removeItem(a.visibleOptions,b)});d("selected",{updateOnBind:!1}).of(b).to(function(a){return b.el.state("selected",a)});d("unavailable",{updateOnBind:!1}).of(b).to(function(a){return b.el.state("unavailable",a)}).and.to(function(){return a.lastSelected=b}).condition(function(c){return c&&a.settings.multiple&&b.selected});d("event:click").of(b.el).to(function(){return a.lastSelected=b});d("event:mouseenter").of(b.el).to(function(){return a.currentHighlighted=b});if(null!=(e=b.conditions)&&
e.length)return b.unavailable=!0,b.allFields=a.field.allFields,m.initConditions(b,b.conditions,function(){return b.unavailable=!m.validateConditions(b.conditions)})}}(this))};g.prototype.appendTo=function(a){return this.els.container.appendTo(a)};g.prototype.onSelected=function(a){return this._selectedCallback=a};g.prototype.findOption=function(a,b){return this.options.filter(function(c){return a===(b?c.label:c.value)})[0]};g.prototype.findOptionAny=function(a){return this.findOption(a)||this.findOption(a,
!0)};g.prototype.getLabelOfOption=function(a){var b;return(null!=(b=this.options.filter(function(b){return a===b.value})[0])?b.label:void 0)||""};g.prototype.setOptionFromString=function(a,b){var c;if((c=this.findOptionAny(a,b))&&c!==this.lastSelected&&(!this.settings.multiple||!m.includes(this.selected,c)))return this.lastSelected=c};g.prototype.highlightPrev=function(){var a;a=this.visibleOptions.indexOf(this.currentHighlighted);return 0<a?this.currentHighlighted=this.visibleOptions[a-1]:this.currentHighlighted=
this.visibleOptions[this.visibleOptions.length-1]};g.prototype.highlightNext=function(){var a;a=this.visibleOptions.indexOf(this.currentHighlighted);return a<this.visibleOptions.length-1?this.currentHighlighted=this.visibleOptions[a+1]:this.currentHighlighted=this.visibleOptions[0]};g.prototype.selectHighlighted=function(){if(this.currentHighlighted)return this.lastSelected=this.currentHighlighted};g.prototype.list_setMaxHeight=function(){var a,b,c,d;d=this.settings.maxHeight;if(a=this.els.container.parentMatching(function(a){a=
a.style("overflowY");return"hidden"===a||"scroll"===a}))c=this.els.container.rect,b=a.rect,a=c.top+this.settings.maxHeight-b.bottom,c.top>=b.bottom?console.warn("The dropdown for element '"+this.field.ID+"' cannot be displayed as it's hidden by the parent overflow"):0<a&&(c=c.height-this.els.list.rect.height,d=a-c);this.els.list.style("maxHeight",d);return this.els.list.style("minWidth",this.field.el.child.innerwrap.width+10)};g.prototype.list_scrollToSelected=function(){var a,b;if(this.selected&&
!this.settings.multiple)return a=this.selected.el.raw.offsetTop,b=this.selected.el.raw.clientHeight,this.els.list.raw.scrollTop=a-3*b};g.prototype.list_startScrolling=function(a){return this.scrollIntervalID=setInterval(function(b){return function(){return b.els.list.raw.scrollTop+="up"===a?-20:20}}(this),50)};g.prototype.list_stopScrolling=function(){return clearInterval(this.scrollIntervalID)};return g};l[46]=function(g){var l={exports:g};(function(){var g,d,n,m,a,b,c,e,k,h,x,r,A,z,v,D,E,p,F,ia,
I,C,Y,K,S,q,f,w,T,ja,P,L,ka,Z,aa,la,U,ba,ma,G,N,na,ca,oa,V,W,da,ea,pa,fa,ga,qa,J,B,Q,ra,O,sa;ja=0;I="push pop shift unshift splice reverse sort".split(" ");ka={};C={};da=["{{","}}"];J=Object.create({silent:!1},{placeholder:{get:function(){return da},set:function(a){q.isArray(a)&&2===a.length&&(da=a,ga())}}});P={delay:!1,throttle:!1,simpleSelector:!1,promiseTransforms:!1,dispatchEvents:!1,sendArrayCopies:!1,updateEvenIfSame:!1,updateOnBind:!0};L=Object.defineProperty;ca=Object.getOwnPropertyDescriptor;
K=null;S=function(){var a;K||(a=K=document.createEvent("Event"),a.initEvent("change",!0,!1),a._sb=!0);return K};pa=!("className"in Element.prototype)||!ca(Element.prototype,"className").get;sa="innerWidth innerHeight outerWidth outerHeight scrollX scrollY pageXOffset pageYOffset screenX screenY screenLeft screenTop".split(" ");qa=function(a,b){return this.updateAllSubs(b||this)};ma=function(){return""+ ++ja};G=function(){return Object.create(null)};N=function(a,b){return function(y,c,d){return p(y,
c,d,a,b)}};na=function(a,b){return a.selfUpdater||(a.selfUpdater=new g(function(){return b?a.setValue(a.fetchDirectValue(),a,!0):a.updateAllSubs(a)},"Func",{}))};B=function(a,b){return a&&-1!==a.indexOf(b)};q={isDefined:function(a){return void 0!==a},isArray:function(a){return a instanceof Array},isObject:function(a){return"object"===typeof a&&a},isString:function(a){return"string"===typeof a},isNumber:function(a){return"number"===typeof a},isFunction:function(a){return"function"===typeof a},isBindingInterface:function(a){return a instanceof
d},isBinding:function(a){return a instanceof g},isIterable:function(a){return q.isObject(a)&&q.isNumber(a.length)},isDom:function(a){return a.nodeName&&1===a.nodeType},isDomInput:function(a){a=a.nodeName;return"INPUT"===a||"TEXTAREA"===a||"SELECT"===a},isDomRadio:function(a){return"radio"===a.type},isDomCheckbox:function(a){return"checkbox"===a.type},isElCollection:function(a){return a instanceof NodeList||a instanceof HTMLCollection||window.jQuery&&a instanceof jQuery},domElsAreSame:function(a){var b;
b=a[0].type;return[].filter.call(a,function(a){return a.type===b}).length===a.length},isDomNode:function(a){return q.isDom(a)||a===window||a===document}};ba=function(a,b,c){var y;if(y=ca(a,b))return c&&(y.configurable=!0),y;if(a=Object.getPrototypeOf(a))return ba(a,b,!0)};w=function(a,b,c){var y,d,f,h,e,k;a.origDescriptor||(a.origDescriptor=ba(b,a.property));c?I.forEach(function(c){return L(b,c,{configurable:!0,value:function(){var y;y=Array.prototype[c].apply(b,arguments);a.updateAllSubs(a);return y}})}):
"Proxy"===a.type?(d=a.origFn=a.value,a.value={result:null,args:null},q.isFunction(d)&&(k=[].slice,y=f=function(){var c;c=k.call(arguments);a.value.args=c=a.selfTransform?a.selfTransform(c):c;a.value.result=c=d.apply(b,c);a.updateAllSubs(a);return c},L(b,a.property,{configurable:a.isLiveProp=!0,get:function(){return y},set:function(b){q.isFunction(b)?b!==d&&(b!==f&&(d=a.origFn=b),y!==f&&(y=f)):y=b}}))):B(a.type,"DOM")||a.object===window&&B(sa,a.property)||(c=a.origDescriptor||ka,c.get&&(a.origGetter=
c.get.bind(b)),c.set&&(a.origSetter=c.set.bind(b)),e=(e=c.configurable)&&b.constructor!==CSSStyleDeclaration,pa&&a.isDom&&a.property in b.cloneNode(!1)&&(a.origDescriptor=e=!1,a.isLiveProp=!0,a.origGetter=function(){return a.object[a.property]},a.origSetter=function(b){return a.object[a.property]=b}),e&&(e="Array"===a.type,h=!a.origSetter&&!e,L(b,a.property,{configurable:a.isLiveProp=!0,enumerable:c.enumerable,get:a.origGetter||function(){return a.value},set:function(b){a.setValue(b,a,h)}}),e&&w(a,
b[a.property],!0)))};T=function(a,b,c){var y,d;if(c){d=[];a=0;for(c=I.length;a<c;a++)y=I[a],d.push(delete b[y]);return d}c=a.origDescriptor;c.set||c.get||(c.value=a.origFn||a.value);return L(b,a.property,c)};f=function(a){var b,c;b=G();for(c in a)b[c]=a[c];return b};U=function(a,b){var c,y,d,e;e=Object.keys(b);c=0;for(d=e.length;c<d;c++)y=e[c],a[y]=b[y]};Y={get:function(a,b,c,d){if(b)return C[a._sb_ID];if(d&&a[0]._sb_map&&(b=C[a[0]._sb_map[c]],b.groupBinding))return b.groupBinding;if(a._sb_map&&a._sb_map[c])return C[a._sb_map[c]]},
set:function(a,b){var c,d;b?L(a.object,"_sb_ID",{configurable:!0,value:a.ID}):(d=a.selector,a.object._sb_map?a.object._sb_map[d]=a.ID:(c={},c[d]=a.ID,L(a.object,"_sb_map",{configurable:!0,value:c})))}};aa=/[.*+?^${}()|[\]\\]/g;V=W=null;ga=function(){var a,b,c;c=J.placeholder[0].replace(aa,"\\$&");a=J.placeholder[1].replace(aa,"\\$&");b="[^"+a+"]+";V=new RegExp(c+"("+b+")"+a,"g");W=new RegExp(""+c+b+a,"g")};ga();ia=function(a,b,c){var d,y,e,f,h;h="";y=e=0;for(f=a.length;e<f;y=++e)d=a[y],h+=d,c[y]&&
(h+=b[c[y]]);return h};F=function(a,b,c){null==a[c]&&(a[c]=[]);a[c].push(b)};fa=function(a,b){var c,d,y,e,f,h,k,g,l,ha,m;c=Array.prototype.slice.call(a.childNodes);y=0;for(f=c.length;y<f;y++)if(l=c[y],3!==l.nodeType)fa(l,b);else if(l.textContent.match(W))if(m=l.textContent.split(V),3===m.length&&""===m[0]+m[2])F(b,l,m[1]);else{k=document.createDocumentFragment();d=e=0;for(h=m.length;e<h;d=++e)ha=m[d],g=k.appendChild(document.createTextNode(ha)),d%2&&F(b,g,ha);l.parentNode.replaceChild(k,l)}};Q=function(a){throw Error("SimplyBind: "+
(Z[a]||a));};O=function(a,b){var c,d;J.silent||(c=oa(b),d=Z[a],console.warn("SimplyBind: "+(d+("\n\n"+c))))};ra=function(a){Q("Invalid argument/s ("+a+")",!0)};oa=function(a){return(Error().stack||"").split("\n").slice(a+3).join("\n")};Z={invalidParamName:"SimplyBind() and .to() only accept a function, an array, a bound object, a string, or a number.",fnOnly:"Only functions are allowed for .transform/.condition/All()",badEventArg:"Invalid argument number in .ofEvent()",emptyList:"Empty collection provided",
onlyOneDOMElement:"You can only pass a single DOM element to a binding",mixedElList:"'checked' of Mixed list of element cannot be bound"};p=function(a,b,c,e,f){if(!a&&0!==a||!(q.isString(a)||q.isNumber(a)||q.isFunction(a)||a instanceof Array))q.isBindingInterface(a)||Q("invalidParamName");!q.isObject(a)||a instanceof Array?(b=new d(b),b.saveOptions=c,b.isSub=e,b.completeCallback=f,a=q.isFunction(a)?b.setObject(a,!0):b.setProperty(a)):a=f?f(a):a.selfClone();return a};p.version="1.15.3";p.settings=
J;p.defaultOptions=P;p.unBindAll=function(a,b){var c,d,e;if(a&&(q.isObject(a)||q.isFunction(a))&&(q.isIterable(a)&&!a._sb_ID&&a[0]&&q.isDom(a[0])&&(a=a[0]),e=a._sb_map,a._sb_ID&&C[a._sb_ID].removeAllSubs(b),e))for(d in e)c=e[d],C[c].removeAllSubs(b)};g=function(a,b,c){U(this,c);this.optionsDefault=this.saveOptions?this.options:P;this.type=b;this.object=a;this.ID=ma();this.subs=[];this.subsMeta=G();this.pubsMap=G();this.attachedEvents=[];"Proxy"===this.type&&(this.setValue=qa);this.isMultiChoice&&
(this.choices=G(),this.object.forEach(function(a){return function(b){var c;c=a.choices[b.value]=p("checked").of(b)._;c.addSub(a);c.subsMeta[a.ID].transformFn=function(){return c};c.groupBinding=a}}(this)));"Event"===this.type||"Func"===this.type&&this.isSub||("Pholder"===this.type?(b=this.descriptor&&!B(this.descriptor,"multi")?this.descriptor+":"+this.property:this.property,a=this.parentBinding=p(b).of(a)._,a.scanForPholders(),this.value=a.pholderValues[this.pholder],a.textNodes&&(this.textNodes=
a.textNodes[this.pholder])):(this.value=a=this.fetchDirectValue(),"ObjectProp"!==this.type||q.isDefined(a)||(this.object[this.property]=a),w(this,this.object)));this.attachEvents();return C[this.ID]=this};g.prototype={addSub:function(a,b,c,d){var e,h,y,k;if(a.isMulti)for(y=a.bindings,a=0,h=y.length;a<h;a++)k=y[a],this.addSub(k,b,c,d);else if(this.subsMeta[a.ID])e=!0;else{a.pubsMap[this.ID]=this;this.subs.unshift(a);h=this.subsMeta[a.ID]=G();h.updateOnce=c;h.opts=f(b);if(d||"Event"===this.type||"Proxy"===
this.type||"Array"===this.type)h.opts.updateEvenIfSame=!0;h.valueRef="Func"===a.type?"valuePassed":"value"}return e},removeSub:function(a,b){var c,d,e,h;if(a.isMulti)for(e=a.bindings,c=0,d=e.length;c<d;c++)h=e[c],this.removeSub(h,b);else this.subsMeta[a.ID]&&(this.subs.splice(this.subs.indexOf(a),1),delete this.subsMeta[a.ID],delete a.pubsMap[this.ID]),b&&(a.removeSub(this),delete this.pubsMap[a.ID]);0===this.subs.length&&0===Object.keys(this.pubsMap).length&&this.destroy()},removeAllSubs:function(a){var b,
c,d,e;d=this.subs.slice();b=0;for(c=d.length;b<c;b++)e=d[b],this.removeSub(e,a)},destroy:function(){var a,b,c,d;delete C[this.ID];this.removePollInterval();if("Event"===this.type)for(d=this.attachedEvents,b=0,c=d.length;b<c;b++)a=d[b],this.unRegisterEvent(a);else"Func"===this.type&&delete this.object._sb_ID;this.isLiveProp&&this.origDescriptor&&T(this,this.object);"Array"===this.type&&T(this,this.value,!0);this.object._sb_map&&(delete this.object._sb_map[this.selector],0===Object.keys(this.object._sb_map).length&&
delete this.object._sb_map)},fetchDirectValue:function(){var a,b,c,d,e;e=this.type;switch(!1){case "Func"!==e:return this.object();case "DOMAttr"!==e:return this.object.getAttribute(this.property)||"";case !this.isMultiChoice:d=[];c=this.choices;for(b in c)if(a=c[b],a.object.checked){if("DOMRadio"===e)return b;d.push(b)}return d;default:return this.object[this.property]}},setValue:function(a,b,c,d){var e,h,f,k;b||(b=this);this.selfTransform&&(a=this.selfTransform(a));if(!c)switch(this.type){case "ObjectProp":this.isLiveProp?
this.isDomInput?d?a!==this.origGetter()&&(e=this.object.selectionStart,this.origSetter(a),e&&this.object.setSelectionRange(e,e)):(this.origSetter(a),J.dispatchEvents&&this.object.dispatchEvent(S())):this.origSetter&&this.origSetter(a):a!==this.value&&(this.object[this.property]=a);break;case "Pholder":d=this.parentBinding;d.pholderValues[this.pholder]=a;e=ia(d.pholderContexts,d.pholderValues,d.pholderIndexMap);if(this.textNodes&&a!==this.value)for(f=this.textNodes,h=0,c=f.length;h<c;h++)k=f[h],k.textContent=
a;"textContent"!==this.property&&d.setValue(e,b);break;case "Array":a!==this.value&&(q.isArray(a)||(a=Array.prototype.concat(a)),T(this,this.value,!0),w(this,a=a.slice(),!0),this.origSetter&&this.origSetter(a));break;case "Func":e=this.valuePassed;this.valuePassed=a;a=this.object(a,e);break;case "Event":this.isEmitter=!0;this.emitEvent(a);this.isEmitter=!1;break;case "DOMRadio":if(this.isMultiChoice)if(d=q.isBinding(a)?a:this.choices[a])for(h in a=d.object.value,e=this.choices,e)c=e[h],c.setValue(c.ID===
d.ID,b);else a=this.value;else{a=!!a;if(a===this.value)return;this.object.checked!==a&&(this.object.checked=a);a&&J.dispatchEvents&&this.object.dispatchEvent(S())}break;case "DOMCheckbox":if(this.isMultiChoice){h=!q.isBinding(a);a=[].concat(a);c=d=0;for(f=a.length;d<f;c=++d)k=a[c],a[c]=q.isBinding(k)?k:this.choices[k];f=[];k=this.choices;for(e in k)c=k[e],d=h?B(a,c):c.value,c.setValue(d,b),d&&f.push(e);a=f}else{a=!!a;if(a===this.value)return;this.object.checked!==a&&(this.object.checked=a,J.dispatchEvents&&
this.object.dispatchEvent(S()))}break;case "DOMAttr":this.object.setAttribute(this.property,a)}this.value=a;this.updateAllSubs(b)},updateAllSubs:function(a){var b,c;if(c=(b=this.subs).length)for(;c--;)this.updateSub(b[c],a)},updateSub:function(a,b,c){var d,e,h;if(!(b===a||b!==this&&b.subsMeta[a.ID]||(d=this.subsMeta[a.ID],d.disallowList&&d.disallowList[b.ID]))){if(d.opts.throttle){c=+new Date;e=c-d.lastUpdate;if(e<d.opts.throttle)return clearTimeout(d.updateTimer),d.updateTimer=setTimeout(function(c){return function(){return c.updateSub(a,
b)}}(this),d.opts.throttle-e);d.lastUpdate=c}else if(d.opts.delay&&!c)return setTimeout(function(c){return function(){return c.updateSub(a,b,!0)}}(this),d.opts.delay);c="Array"===this.type&&d.opts.sendArrayCopies?this.value.slice():this.value;e=a[d.valueRef];c=(h=d.transformFn)?h(c,e,a.object):c;c===e&&!d.opts.updateEvenIfSame||d.conditionFn&&!d.conditionFn(c,e,a.object)||(d.opts.promiseTransforms&&c&&q.isFunction(c.then)?c.then(function(c){a.setValue(c,b)}):a.setValue(c,b),d.updateOnce&&this.removeSub(a))}},
addModifierFn:function(a,b,c,d){var e,h,f,k,g;if(q.isFunction(c)){h=0;for(f=b.length;h<f;h++)k=b[h],g=k._||k,g.isMulti?this.addModifierFn(a,g.bindings,c,d):(k=this.subsMeta[g.ID],k[a]=c,d=d&&!k.updateOnce,this.pubsMap[g.ID]&&((e=g.subsMeta[this.ID])[a]||(e[a]=c)),!d&&"Func"!==this.type||"transformFn"!==a||this.updateSub(g,this));return!0}return O("fnOnly",2)},setSelfTransform:function(a,b){this.selfTransform=a;b&&this.setValue(this.value)},addDisallowRule:function(a,b){var c;(null!=(c=this.subsMeta[a.ID]).disallowList?
c.disallowList:c.disallowList=G())[b.ID]=1},scanForPholders:function(){var a;this.pholderValues||(this.pholderValues=G(),this.pholderIndexMap=G(),this.pholderContexts=[],q.isString(this.value)&&(this.pholderContexts=this.value.split(W),a=0,this.value=this.value.replace(V,function(b){return function(c,d){b.pholderIndexMap[a++]=d;return b.pholderValues[d]=d}}(this))),this.isDom&&"textContent"===this.property&&fa(this.object,this.textNodes=G()))},addPollInterval:function(a){if("Event"!==this.type)return this.removePollInterval(),
this.pollInterval=setInterval(function(a){return function(){var b;b=a.fetchDirectValue();return a.setValue(b)}}(this),a)},removePollInterval:function(){clearInterval(this.pollInterval);return this.pollInterval=null},addUpdateListener:function(a,b){this.object.addEventListener(a,function(a){return function(c){c._sb||(c=a.selfTransform&&a.isDomInput,a.setValue(a.object[b],null,!c,!0))}}(this),!1)},attachEvents:function(){this.eventName?this.registerEvent(this.eventName):this.isDomInput?(this.addUpdateListener("input",
"value"),this.addUpdateListener("change","value")):this.isMultiChoice||"DOMRadio"!==this.type&&"DOMCheckbox"!==this.type||this.addUpdateListener("change","checked")},registerEvent:function(a){this.attachedEvents.push(a);this.eventHandler||(this.eventHandler=la.bind(this));this.object[this.eventMethods.listen](a,this.eventHandler)},unRegisterEvent:function(a){this.attachedEvents.splice(this.attachedEvents.indexOf(a),1);this.object[this.eventMethods.remove](a,this.eventHandler)},emitEvent:function(a){var b;
b=this.eventName;"dispatchEvent"===this.eventMethods.emit&&(this.eventObject||(this.eventObject=document.createEvent("Event"),this.eventObject.initEvent(this.eventName,!0,!0)),this.eventObject.bindingData=a,b=this.eventObject);this.object[this.eventMethods.emit](b,a)}};la=function(){this.isEmitter||this.setValue(arguments[this.property],null,!0)};d=function(a,b){var c;if(b)U(this,b),this.stage=1;else for(c in this.stage=0,this.subs=[],this.optionsPassed=a||(a={}),this.options={},P)this.options[c]=
null!=a[c]?a[c]:P[c];return this};n={selfClone:function(){return new d(null,this)},defineMainProps:function(a){this._=a;return Object.defineProperties(this,{value:{get:function(){return a.value}},original:{get:function(){return a.objects||a.object}},subscribers:{get:function(){return a.subs.slice().map(function(a){return a.object})}}})},createBinding:function(a,b,c,d){var e;this.object=a;if(e=Y.get(a,d,this.selector,this.isMultiChoice))return this.patchCachedBinding(e);a=new g(a,b,c);Y.set(a,d);return a},
patchCachedBinding:function(a){var b,c,d,e;"ObjectProp"!==a.type||this.property in this.object||w(a,this.object);if(this.saveOptions)for(c in d=this.optionsPassed,d)e=d[c],a.optionsDefault[c]=e;c=a.optionsDefault;for(b in c)e=c[b],this.options[b]=q.isDefined(this.optionsPassed[b])?this.optionsPassed[b]:e;return a},setProperty:function(a){var b;q.isNumber(a)&&(a=a.toString());this.selector=this.property=a;this.options.simpleSelector||(B(a,":")&&(b=a.split(":"),this.descriptor=b.slice(0,-1).join(":"),
this.property=b[b.length-1]),B(a,".")&&(b=this.property.split("."),this.property=b[0],this.pholder=b.slice(1).join(".")),B(this.descriptor,"event")&&(B(a,"#")?(b=this.property.split("#"),this.eventName=b[0],this.property=b[1]):(this.eventName=this.property,this.property=0),isNaN(parseInt(this.property))&&O("badEventArg",1)));return this},setObject:function(a,b){var c,d,e,h;this.stage=1;h=(e=a!==window&&q.isIterable(a)&&!a.nodeType)?a[0]:a;if(!h)e&&q.isElCollection(a)&&Q("emptyList");else if(this.isDom=
q.isDom(h))if("checked"===this.property?(d=h&&q.isDomRadio(h),c=!d&&h&&q.isDomCheckbox(h)):"value"===this.property&&(this.isDomInput=q.isDomInput(h)),e&&!B(this.descriptor,"multi"))if(1===a.length)a=a[0];else if(!d&&!c||q.domElsAreSame(a))d||c?(this.isMultiChoice=!0,a=[].slice.call(a)):(a=a[0],O("onlyOneDOMElement",3));else return O("mixedElList",3);switch(!1){case !b:c="Func";break;case !this.pholder:c="Pholder";break;case !(B(this.descriptor,"array")&&q.isArray(a[this.property])):c="Array";break;
case !B(this.descriptor,"event"):c="Event";this.eventMethods={listen:this.optionsPassed.listenMethod,remove:this.optionsPassed.removeMethod,emit:this.optionsPassed.emitMethod};a[this.eventMethods.listen]||(this.eventMethods.listen=q.isDomNode(a)?"addEventListener":"on");a[this.eventMethods.remove]||(this.eventMethods.remove=q.isDomNode(a)?"removeEventListener":"removeListener");a[this.eventMethods.emit]||(this.eventMethods.emit=q.isDomNode(a)?"dispatchEvent":"emit");break;case !B(this.descriptor,
"func"):c="Proxy";break;case !d:c="DOMRadio";break;case !c:c="DOMCheckbox";break;case !B(this.descriptor,"attr"):c="DOMAttr";break;default:c="ObjectProp"}B(this.descriptor,"multi")?(a.length||Q("emptyList"),this.defineMainProps(new m(this,a,c))):this.defineMainProps(this.createBinding(a,c,this,b));B(this._.type,"Event")||B(this._.type,"Proxy")?this.options.updateOnBind=!1:B(this._.type,"Func")&&(this.options.updateOnBind=!0);return this.completeCallback?this.completeCallback(this):this},addToPublisher:function(a){var b,
c,d,e;a.stage=2;a.subs.push(this);b=a._.addSub(this._,a.options,a.updateOnce);if(a.updateOnce)delete a.updateOnce;else if(a.options.updateOnBind&&!b)if(this._.isMulti)for(e=this._.bindings,c=0,d=e.length;c<d;c++)b=e[c],a._.updateSub(b,a._);else a._.updateSub(this._,a._)}};d.prototype=Object.create(n,{of:{get:function(){if(!this.stage)return k}},set:{get:function(){if(this.stage)return x}},chainTo:{get:function(){if(2===this.stage)return b}},transformSelf:{get:function(){if(1===this.stage)return D}},
transform:{get:function(){if(2===this.stage)return z}},transformAll:{get:function(){if(2===this.stage)return v}},condition:{get:function(){if(2===this.stage)return c}},conditionAll:{get:function(){if(2===this.stage)return e}},bothWays:{get:function(){if(2===this.stage)return a}},unBind:{get:function(){if(2===this.stage)return E}},pollEvery:{get:function(){if(this.stage)return h}},stopPolling:{get:function(){if(this.stage)return A}},setOption:{get:function(){if(2===this.stage)return r}},disallowFrom:{get:function(){var a;
if(2===this.stage&&(a=this))return N(!1,function(b){a._.addDisallowRule(a.subs[a.subs.length-1]._,b._);return a})}},updateOn:{get:function(){var a;if(this.stage&&(a=this))return N(!1,function(b){b._!==a._&&(a._.pubsMap[b._.ID]=b._,b._.addSub(na(a._,!0),b.options,!1,!0));return a})}},removeUpdater:{get:function(){var a,b;if(this.stage&&(b=this)&&(a=this._.selfUpdater))return N(!1,function(c){c._.subsMeta[a.ID]&&(delete b._.pubsMap[c._.ID],c._.removeSub(a))})}},to:{get:function(){var a;if(1===this.stage&&
(a=this))return N(!0,function(b){b._!==a._&&b.addToPublisher(a);return a})}},and:{get:function(){var a,b;b=this.selfClone();if(2===this.stage)return b;if(1===this.stage)return b._.isMulti||(a=b._,b._=b._=new m(b),b._.addBinding(a)),N(!1,function(a){b._.addBinding(a._);return b})}},once:{get:function(){var a;if(1===this.stage)return a=this.selfClone(),a.updateOnce=!0,a}},update:{get:function(){return this.set}},twoWay:{get:function(){return this.bothWays}},pipe:{get:function(){return this.chainTo}}});
k=function(a){q.isObject(a)||q.isFunction(a)||ra(a);q.isBindingInterface(a)&&(a=a.object);this.stage=1;return this.setObject(a)};b=function(a,b,c){return p(this.subs[this.subs.length-1]).to(a,b,c)};x=function(a){this._.setValue(a);return this};D=function(a){q.isFunction(a)?this._.setSelfTransform(a,this.options.updateOnBind):O("fnOnly",1);return this};z=function(a){this._.addModifierFn("transformFn",this.subs.slice(-1),a,this.options.updateOnBind);return this};v=function(a){this._.addModifierFn("transformFn",
this.subs,a,this.options.updateOnBind);return this};c=function(a){this._.addModifierFn("conditionFn",this.subs.slice(-1),a);return this};e=function(a){this._.addModifierFn("conditionFn",this.subs,a);return this};a=function(a){var b,c,d,e,h,f;d=this.subs[this.subs.length-1];f=d._;c=this._.isMulti?this._.bindings:[this._];f.addSub(this._,d.options);d=0;for(e=c.length;d<e;d++)b=c[d],h=b.subsMeta[f.ID].transformFn,b=b.subsMeta[f.ID].conditionFn,(h||a)&&(h=q.isFunction(a)?a:h)&&!1!==a&&(f.subsMeta[this._.ID].transformFn=
h),b&&(f.subsMeta[this._.ID].conditionFn=b);return this};E=function(a){var b,c,d,e;d=this.subs;b=0;for(c=d.length;b<c;b++)e=d[b],this._.removeSub(e._,a);return this};h=function(a){this._.addPollInterval(a);return this};A=function(){this._.removePollInterval();return this};r=function(a,b){this._.subsMeta[this.subs[this.subs.length-1]._.ID].opts[a]=b;return this};m=function(a,b,c){var d,e,h;a.selector=a.selector.slice(6);U(this,this["interface"]=a);this.isMulti=!0;this.bindings=d=[];if(b)for(a=0,e=
b.length;a<e;a++)h=b[a],this.addBinding(h,c);return Object.defineProperties(this,{type:{get:function(){return d.map(function(a){return a.type})}},value:{get:function(){return d.map(function(a){return a.value})}}})};ea=m.prototype=Object.create(n);Object.keys(g.prototype).forEach(function(a){return ea[a]=function(b,c,d,e){var h,f,k,g;g=this.bindings;f=0;for(k=g.length;f<k;f++)h=g[f],"updateSub"===a&&(c=h),h[a](b,c,d,e)}});ea.addBinding=function(a,b){this.bindings.push(b?this.createBinding(a,b,this["interface"]):
a)};return null!=("undefined"!==typeof l&&null!==l?l.exports:void 0)?l.exports=p:"function"===typeof define&&define.amd?define(["simplybind"],function(){return p}):this.SimplyBind=p})();return l.exports};return n};l=l({},{},{});return function(){var D,z,r,n,g,E,u,d,t,m;t=l(1);r=l(2);D=l(3);d=l(4);g=l(5);null==this.console&&(this.console={});null==console.log&&(console.log=function(){});null==console.warn&&(console.warn=console.log);m=null!=document.createElement("div").style.animation?"":"-webkit-";
E="@"+m+"keyframes checkmarkAnimateSuccessTip { 0%, 54% { width: 0; left: 0px; top: 3px } 70% { width: 14px; left: -2px; top: 8px } 84% { width: 5px; left: 5px; top: 10px } 100% { width: 8px; left: 3px; top: 10px } } @"+m+"keyframes checkmarkAnimateSuccessLong { 0%, 65% { width: 0; right: 12px; top: 12px } 84% { width: 14px; right: 0px; top: 7px } 100% { width: 12px; right: 2px; top: 8px } } @"+m+"keyframes checkmarkAnimateError { 0%, 65% { "+m+"transform: scale(0.4); opacity: 0 } 84% { "+m+"transform: scale(1.15) } 100% { "+
m+"transform: scale(1) } } @"+m+"keyframes checkmarkRotatePlaceholder { 0%, 5% { "+m+"transform: rotate(-45deg) } 12%, 100% { "+m+"transform: rotate(-405deg) } } @"+m+"keyframes fieldErrorShake { 0%, 50% { "+m+"transform: translateX(-10px) } 25%, 75% { "+m+"transform: translateX(10px) } 100% { "+m+"transform: translateX(0px) } }";u=function(){var a;a=document.createElement("style");a.innerHTML=E;document.body.appendChild(a);return u.appended=a};r.field=function(a){return a&&"Field"===a.constructor.name};
r.regex=function(a){return a instanceof RegExp};r.objectable=function(a){return r.object(a)||r["function"](a)};n=function(a){var b;r.object(a)||(a={});null==a.type&&(a.type="text");if(!z[a.type])throw Error("QuickField: '"+a.type+"' is not a valid/registered field type");u.appended||u();b=Object.create(z[a.type]);return z.call(b,a)};n.register=function(a,b){var c,d,k,h;if(r.string(a)&&r.object(b)){k=Object.create(z.prototype);for(d in b)c=b[d],k[d]=c;c=0;for(d=g.length;c<d;c++)if(h=g[c],!k[h])throw Error("QuickField Registration: '"+
h+"' method is required in order to register the field");return z[a]=k}};Object.defineProperty(n,"fields",{get:function(){return d.clone.own.notKeys("instances")(z)}});n.regex=l(9);n.version="1.0.8-beta";n.constants=function(a){return function(a){return{colors:l(15),keyCodes:l(18),reqFieldMethods:l(5)}}}(this)({});n.SVG=l(12);n.Field=z=function(a){return function(a){var b,e;e=l(16);t=l(1);r=l(2);d=l(4);b=0;z=function(a){var c;this.settings=d.deep.clone.deep.transform({conditions:function(a){var b,
c,d;if(r.objectPlain(a)){b=[];for(c in a)d=a[c],b.push({target:c,value:d});return b}if(r.array(a))return a.map(function(a){return r.string(a)?{target:a}:a})},choices:function(a){var b,c,d;if(r.objectPlain(a)){c=[];for(b in a)d=a[b],c.push({label:b,value:d});return c}if(r.array(a))return a.map(function(a){return r.objectPlain(a)?a:{label:a,value:a}})},validWhenRegex:function(a){return r.string(a)?new RegExp(a):a}})(e,this._defaults,a);this.type=a.type;this.allFields=this.settings.fieldInstances||z.instances;
this._value=null;this.ID=this.settings.ID||b++ +"";this.els={};this._eventCallbacks={};this.state={valid:!0,visible:!0,disabled:!1,focused:!1,hovered:!1,filled:!1,interacted:!1,showError:!1,width:this.settings.width,showHelp:this.settings.alwaysShowHelp,showLabel:this.settings.label,label:this.settings.label,help:this.settings.help};r.defined(this.settings.placeholder)&&(this.state.placeholder=this.settings.placeholder);null!=(c=this.settings.conditions)&&c.length&&(this.state.visible=!1,t.initConditions(this,
this.settings.conditions,function(a){return function(){return a.validateConditions()}}(this)));Object.defineProperty(this,"value",{get:this._getValue,set:this._setValue});this.allFields[this.ID]&&"undefined"!==typeof console&&null!==console&&console.warn("Duplicate field IDs found: '"+this.ID+"'");this._construct();this._createElements();this._attachBindings();this.el.childf.field.onInserted(function(a){return function(){return a.emit("inserted")}}(this));this.settings.ID&&(this.el.raw.id=this.ID);
null!=this.settings.defaultValue&&this._setValue(this.settings.multiple?[].concat(this.settings.defaultValue):this.settings.defaultValue);return this.allFields[this.ID]=this.el.raw._quickField=this};z.instances=Object.create(null);Object.defineProperty(z.prototype,"valueRaw",{get:function(){return this._value}});z.prototype.appendTo=function(a){this.el.appendTo(a);return this};z.prototype.prependTo=function(a){this.el.prependTo(a);return this};z.prototype.insertAfter=function(a){this.el.insertAfter(a);
return this};z.prototype.insertBefore=function(a){this.el.insertBefore(a);return this};z.prototype.validateConditions=function(a){var b;a?b=!1:(a=this.settings.conditions,b=!0);a=t.validateConditions(a);return b?this.state.visible=a:a};z.prototype.on=function(a,b){var c;r.string(a)&&r["function"](b)&&(null==(c=this._eventCallbacks)[a]&&(c[a]=[]),this._eventCallbacks[a].push(b));return this};z.prototype.off=function(a,b){this._eventCallbacks[a]&&(r["function"](b)?t.removeItem(this._eventCallbacks[a],
b):this._eventCallbacks[a]={});return this};z.prototype.emit=function(){var a,b,c,d,e;b=arguments[0];a=2<=arguments.length?slice.call(arguments,1):[];if(this._eventCallbacks[b])for(e=this._eventCallbacks[b],c=0,d=e.length;c<d;c++)b=e[c],b.apply(null,[this].concat(slice.call(a)));return this};return a=z}}(this)({});n.register("text",l(17));n.register("textarea",function(a){return function(a){var b,e;l(32);t=l(1);r=l(2);D=l(3);d=l(4);b=l(46);e=l(17);a=Object.create(null);a._templates=function(a){D=
l(3);l(12);e=l(17);l(15);return a={field:e._templates.field.extend({options:{style:{verticalAlign:"bottom"}},children:{innerwrap:{options:{style:{overflow:"hidden",height:function(a){return a.settings.minHeight||46},width:function(a){if(!a.settings.autoWidth)return"100%"}}}},label:{options:{style:{left:0,top:"7.6px"}}},input:{type:"textarea",options:{type:null,style:{resize:"none",whiteSpace:"normal",width:"100%",height:function(){return"calc(100% - "+this.styleSafe("marginTop")+" - "+this.styleSafe("marginBottom")+
")"},margin:"0",marginTop:"15px",marginBottom:"12px",padding:"0 12px",$filled:{$showLabel:{transform:function(a){var b;if((b=a.el.child.label)&&"absolute"===b.style("position"))return a=b.height+b.styleParsed("top")-this.styleParsed("marginTop")+1,"translateY("+a+"px)"}}}}}},placeholder:{options:{style:{left:0,padding:function(a){var b;b=a.el.child.input.styleSafe("paddingLeft");return a.el.child.input.styleSafe("marginTop")+" "+b}}}}}})}}({});a._defaults={placeholder:!0,validWhenRegex:!1,autoWidth:!1,
autoHeight:!0,minHeight:46,maxWidth:"100%",maxHeight:Infinity};d.keys("_getValue _setValue _getMaxWidth _attachBindings_elState _attachBindings_display _attachBindings_stateTriggers validate selection focus blur".split(" "))(a,e);a._construct=function(){null==this._value&&(this._value="");this.state.height=this.settings.autoHeight?"auto":this.settings.height;this.state.typing=!1;this.cursor={prev:0,current:0}};a._createElements=function(){this.el=this._templates.field.spawn(this.settings.templates.field,
{relatedInstance:this,styleAfterInsert:!0});this.el.state("hasLabel",this.settings.label);this.el.child.innerwrap.raw._quickField=this.el.child.input.raw._quickField=this};a._attachBindings=function(){this._attachBindings_elState();this._attachBindings_display();this._attachBindings_display_autoWidth();this._attachBindings_display_autoHeight();this._attachBindings_value();this._attachBindings_autocomplete();this._attachBindings_stateTriggers()};a._attachBindings_display_autoHeight=function(){b("height",
{updateEvenIfSame:!0}).of(this.state).transformSelf(function(a){return isNaN(a)&&isNaN(parseFloat(a))?"auto":a}).to(function(a){return function(b){return a.el.child.innerwrap.style("height",b)}}(this)).updateOn("event:inserted").of(this);this.settings.autoHeight&&b("_value",{updateEvenIfSame:!0,updateOnBind:!1}).of(this).to("height").of(this.state).transform(function(a){return function(){return a._getInputAutoHeight()}}(this)).updateOn("event:inserted").of(this)};a._attachBindings_display_autoWidth=
function(){b("width",{updateEvenIfSame:!0}).of(this.state).to(function(a){return function(b){return(a.settings.autoWidth?a.el.child.innerwrap:a.el).style("width",b)}}(this));this.settings.autoWidth&&b("_value",{updateEvenIfSame:!0,updateOnBind:!1}).of(this).to("width").of(this.state).transform(function(a){return function(){return a._getInputAutoWidth()}}(this)).updateOn("event:inserted").of(this)};a._attachBindings_value=function(){b("_value").of(this).to("value").of(this.el.child.input.raw).bothWays().and.to("valueRaw").of(this).transform(function(a){return function(b){return a.mask?
a.mask.valueRaw:b}}(this));b("_value").of(this).to(function(a){return function(b){a.state.filled=!!b;b&&(a.state.interacted=!0);a.state.valid=a.validate();return a.emit("input")}}(this))};a._attachBindings_autocomplete=function(){};a._getInputAutoHeight=function(){var a,b;b=this.el.child.input.raw.style.height;this._value?(this.el.child.input.style("height",0),a=this.el.child.input.raw.scrollHeight+2,a+=this.el.child.input.styleParsed("marginTop")+this.el.child.input.styleParsed("marginBottom")):
a=this.el.child.placeholder.height;this.el.child.input.style("height",b);return Math.min(this.settings.maxHeight,Math.max(a,this.settings.minHeight))};a._getInputAutoWidth=function(){var a,b;this._value?(this.el.child.input.style({width:0,whiteSpace:"nowrap"}).raw.scrollLeft=1E10,a=this.el.child.input.styleParsed("paddingLeft")||this.el.child.input.styleParsed("padding"),a=Math.max(this.el.child.input.raw.scrollLeft+this.el.child.input.raw.offsetWidth,this.el.child.input.raw.scrollWidth)+2+a+1,b=
this.settings.label&&"absolute"===this.el.child.label.styleSafe("position")?this.el.child.label.rect.width:0):(a=this.el.child.placeholder.rect.width,b=0);this.el.child.input.style({width:"100%",whiteSpace:"normal"});return Math.min(this._getMaxWidth(),Math.max(a,b))};return a}}(this)({}));n.register("select",function(a){return function(a){var b,e,g;b=l(32);t=l(1);r=l(2);D=l(3);d=l(4);e=l(46);g=l(17);a=Object.create(null);a._templates=function(a){var b;D=l(3);b=l(12);g=l(17);a=l(15);return a={field:g._templates.field.extend({children:[null,
{children:[{type:"div",options:{type:null,props:{tabIndex:0},style:{marginTop:3,height:"auto",cursor:"default",userSelect:"none",overflow:"scroll",width:function(a){var b;if(!a.settings.autoWidth)return b="",a.el.child.icon&&(b+=" -"+a.el.child.icon.raw.styleSafe("width",!0)),a.el.child.caret&&(b+=" -"+a.el.child.caret.styleSafe("width",!0)),"calc(100% + ("+(b||"0px")+"))"}}}},null,["div",{ref:"caret",style:{position:"relative",zIndex:3,top:function(a){return this.parent.height/2-this.styleParsed("height")/
2},display:"inline-block",width:"29px",height:"17px",paddingRight:"12px",boxSizing:"border-box",verticalAlign:"top",outline:"none",pointerEvents:"none",fill:a.grey}},b.caretDown]]}]})}}({});a._defaults={placeholder:!0,validWhenIsChoice:!1,validWhenRegex:!1,validWhenChoseMin:Infinity,autoWidth:!1,maxWidth:"100%",labelFilter:null,choices:[],multiple:!1,dropdownOptions:{}};d.keys(["_getMaxWidth","_attachBindings_elState","_attachBindings_display","focus","blur"])(a,g);a._construct=function(){var a;if(null==
(a=this.settings.choices)||!a.length)throw Error("Choices were not provided for choice field '"+(this.settings.label||this.ID)+"'");if(this.settings.dropdownOptions.multiple=this.settings.multiple)this.settings.dropdownOptions.help="Tip: press ESC to close this menu";this.dropdown=new b(this.settings.choices,this)};a._getValue=function(){var a;return this.settings.multiple?this.dropdown.selected.map(function(a){return a.value}):null!=(a=this.dropdown.selected)?a.value:void 0};a._setValue=function(a){var b,
c,d;if(this.settings.multiple)for(r.array(a)||(a=[].concat(a)),b=0,c=a.length;b<c;b++)d=a[b],this.dropdown.setOptionFromString(d);else this.dropdown.setOptionFromString(a)};a._createElements=function(){this.el=this._templates.field.spawn(this.settings.templates.field,{relatedInstance:this,styleAfterInsert:!0});this.dropdown.appendTo(this.el.child.innerwrap);this.el.child.placeholder.insertBefore(this.el.child.input);this.settings.label&&(this.el.child.label.text=this.settings.label,this.el.state("hasLabel",
!0));this.el.child.innerwrap.raw._quickField=this.el.child.input.raw._quickField=this};a._attachBindings=function(){this._attachBindings_elState();this._attachBindings_value();this._attachBindings_display();this._attachBindings_display_autoWidth();this._attachBindings_dropdown();this._attachBindings_stateTriggers()};a._attachBindings_display_autoWidth=function(){e("width",{updateEvenIfSame:!0}).of(this.state).to(function(a){return function(b){return(a.settings.autoWidth?a.el.child.input:a.el).style({width:b})}}(this));
this.settings.autoWidth&&e("valueLabel",{updateEvenIfSame:!0,updateOnBind:!1}).of(this).to("width").of(this.state).transform(function(a){return function(){return a._getInputAutoWidth()}}(this)).updateOn("event:inserted").of(this)};a._getInputAutoWidth=function(){var a,b;this.valueLabel?(this.el.child.input.style("width",0),a=this.el.child.input.raw.scrollWidth+2,b="absolute"===this.el.child.label.styleSafe("position")?this.el.child.label.rect.width:0):(a=this.el.child.placeholder.rect.width,b=0);
return Math.max(a,b)};a._attachBindings_value=function(){e("array:selected").of(this.dropdown).to("_value").of(this).and.to("valueLabel").of(this).transform(function(a){return function(b){if(b)return a.settings.multiple?b.map(function(a){return a.label}).join(", "):b.label}}(this));e("valueLabel").of(this).to("text").of(this.el.child.input).transform(function(a){return function(b){return a.settings.labelFormat?a.settings.labelFormat(b):b}}(this)).and.to(function(a){return function(b){a.state.filled=
!!b;b&&(a.state.interacted=!0);return a.state.valid=a.validate()}}(this));e("array:selected",{updateOnBind:!1}).of(this).to(function(a){return function(){return a.emit("input")}}(this))};a._attachBindings_dropdown=function(){e("event:click").of(this.el.child.input).to(function(a){return function(){var b,c;if(!a.state.disabled)return a.dropdown.isOpen=!0,b=e("event:click").of(document).once.to(function(){return a.dropdown.isOpen=!1}).condition(function(b){return!D(b.target).parentMatching(function(b){return b===
a.el.child.innerwrap})}),c=e("event:keydown").of(document).once.to(function(){return a.dropdown.isOpen=!1}).condition(function(a){return 27===a.keyCode}),e("isOpen",{updateOnBind:!1}).of(a.dropdown).once.to(function(){b.unBind();return c.unBind()}).condition(function(a){return!a})}}(this));e("focused",{updateOnBind:!1}).of(this.state).to(function(a){return function(b){var c;return b?(c=[32,37,38,39,40],a.el.child.input.on("keydown.dropdownTrigger",function(b){var d;if(t.includes(c,b.keyCode)&&!a.dropdown.isOpen)return a.dropdown.isOpen=
!0,null!=(d=a.dropdown.lastSelected)&&d.selected&&(a.dropdown.currentHighlighted=a.dropdown.lastSelected),b.preventDefault();if(9===b.keyCode&&a.dropdown.isOpen)return b.preventDefault()})):a.el.child.input.off("keydown.dropdownTrigger")}}(this));this.dropdown.onSelected(function(a){return function(b){if(!a.settings.multiple)return a.dropdown.isOpen=!1}}(this))};a._attachBindings_stateTriggers=function(){e("event:mouseenter").of(this.el.child.input).to(function(a){return function(){return a.state.hovered=
!0}}(this));e("event:mouseleave").of(this.el.child.input).to(function(a){return function(){return a.state.hovered=!1}}(this));e("event:focus").of(this.el.child.input).to(function(a){return function(){a.state.focused=!0;if(a.state.disabled)return a.blur()}}(this));e("event:blur").of(this.el.child.input).to(function(a){return function(){return a.state.focused=!1}}(this))};a.validate=function(a){var b,c;null==a&&(a=this.value);switch(!1){case !(this.settings.validWhenRegex&&r.regex(this.settings.validWhenRegex)):switch(!1){case !this.settings.multiple:return function(b){return function(){var c;
if(0===a.length)return!1;c=a.filter(function(a){return b.settings.validWhenRegex.test(a)});return Infinity!==b.settings.validWhenChoseMin&&r.number(b.settings.validWhenChoseMin)?c.length>=b.settings.validWhenChoseMin:c.length===a.length}}(this)();default:return this.settings.validWhenRegex.test(a)}case !(this.settings.validWhenIsChoice&&null!=(b=this.settings.choices)&&b.length):return b=this.settings.choices.filter(function(b){return b.value===a}),!!b.length;case !(this.settings.multiple&&-1>(c=
this.settings.validWhenChoseMin)&&Infinity>c):return a.length>=this.settings.validWhenChoseMin;case !this.settings.multiple:return a.length;default:return!!a}};a.focus=function(){return this.el.child.input.raw.focus()};a.blur=function(){return this.el.child.input.raw.blur()};return a}}(this)({}));n.register("choice",l(24));n.register("truefalse",l(25));n.register("toggle",function(a){return function(a){var b,e;d=l(4);b=l(46);a=l(25);e=Object.create(null);e._templates=function(a){D=l(3);a=l(15);return a=
{field:D.template(["div",{ref:"field",style:{position:"relative",display:"inline-block",width:function(a){return a.state.width},boxSizing:"border-box",fontFamily:function(a){return a.settings.fontFamily},$showError:{animation:"0.2s fieldErrorShake"},$alignedStyle:{paddingRight:function(a){return a.settings.size+20}}}},["div",{ref:"label",style:{display:"none",marginBottom:"12px",fontFamily:"inherit",fontSize:"13px",fontWeight:600,textAlign:"center",color:a.black,cursor:"default",pointerEvents:"none",
userSelect:"none",$showLabel:{display:"block"},$showError:{color:a.red},$alignedStyle:{marginBottom:"0",textAlign:"left"}}}],["div",{ref:"innerwrap",style:{position:"relative",boxSizing:"border-box",fontFamily:"inherit",$alignedStyle:{position:"absolute",right:0,top:"50%",transform:"translateY(-50%)"}}},["div",{ref:"input",style:{position:"relative",zIndex:2,width:function(a){return a.settings.size},height:function(a){return a.settings.size/2},margin:"0 auto",backgroundColor:function(a){return a.settings.background},
border:"1px solid "+a.grey_semi_light,borderRadius:function(a){return a.settings.size},cursor:"pointer"}},["div",{ref:"background",style:{position:"absolute",zIndex:1,left:0,right:0,width:function(a){return a.settings.size/2},height:"100%",borderRadius:function(a){a=a.settings.size;return a+"px 0 0 "+a+"px"},backgroundColor:function(a){return a.settings.color},opacity:0,transition:"opacity 0.2s, width 0.2s",$toggled:{opacity:1,width:function(a){return.7*a.settings.size}}}}],["div",{ref:"ball",style:{position:"absolute",
zIndex:2,left:0,right:0,width:function(a){return a.settings.size/2},height:function(a){return a.settings.size/2},margin:"0 auto",backgroundColor:"white",borderRadius:"50%",border:"1px solid "+a.grey_light,boxSizing:"border-box",transform:"translateX(-55%)",transition:"transform 0.2s",userSelect:"none",$toggled:{transform:"translateX(50%)",border:function(a){return"1px solid "+a.settings.color}}}}]]],["div",{ref:"help",style:{marginTop:"10px",fontFamily:"inherit",fontSize:"11px",color:a.grey,display:"none",
$showError:{color:a.red,display:"block"},$showHelp:{display:"block"}}}]])}}({});e._defaults=function(a){a=l(15);return{validWhenTrue:!0,size:50,style:"centered",color:a.green,background:a.grey_light}}({});d.keys(["_attachBindings_elState","_attachBindings_stateTriggers","_attachBindings_display"])(e,a);e._construct=function(){this._value=!!this._value;this.settings.size=parseFloat(this.settings.size)||e._defaults.size;"centered"!==this.settings.style&&"aligned"!==this.settings.style&&(this.settings.style=
e._defaults.style)};e._getValue=function(){return this._value};e._setValue=function(a){return this._value=!!a};e._createElements=function(){this.el=this._templates.field.spawn(this.settings.templates.field,{relatedInstance:this,styleAfterInsert:!0});this.el.state("alignedStyle","aligned"===this.settings.style).child.innerwrap.raw._quickField=this};e._attachBindings=function(){this._attachBindings_elState();this._attachBindings_stateTriggers();this._attachBindings_display();this._attachBindings_value()};
e._attachBindings_value=function(){b("_value").of(this).to(function(a){return function(b){return a.el.state("toggled",b)}}(this));b("_value",{updateOnBind:!1}).of(this).to(function(a){return function(){return a.emit("input")}}(this));b("event:mouseup touchend").of(this.el.child.input).to(function(a){return function(){return a._value=!a._value}}(this))};e.validate=function(a){null==a&&(a=this._value);return this.settings.validWhenTrue?!!a:!0};return e}}(this)({}));return null!=("undefined"!==typeof module&&
null!==module?module.exports:void 0)?module.exports=n:"function"===typeof define&&define.amd?define(["quickfield"],function(){return n}):this.QuickField=n}()}})(this)();
