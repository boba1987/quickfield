var slice=[].slice;
(function(sa){return function(){var l;l=function(l,z,w,p){p=function(k){return w[k]?z[k]:(w[k]=1,z[k]={},z[k]=l[k](z[k]))};l[1]=function(k){var l,r,h,y,f;r=p(2);l=p(3);h=p(45);f=p(9);return y={noop:function(){},includes:function(a,b){return a&&-1!==a.indexOf(b)},removeItem:function(a,b){var c;c=a.indexOf(b);if(-1!==c)return a.splice(c,1)},find:function(a,b){return a.filter(b)[0]},diff:function(a,b){var c,e,m,g,h;g=[];m=Math.max(a.length,b.length);for(e=-1;++e<m;)h=a[e],c=b[e],h!==c&&(r.defined(h)&&
!y.includes(b,h)&&g.push(h),r.defined(c)&&!y.includes(a,c)&&g.push(c));return g},hexToRGBA:function(a,b){var c,e,m;"#"===a[0]&&(a=a.slice(1));m=parseInt(a.slice(0,2),16);e=parseInt(a.slice(2,4),16);c=parseInt(a.slice(4,6),16);return"rgba("+m+", "+e+", "+c+", "+b+")"},unlockScroll:function(a){window._isLocked=!1;return l(window).off("wheel.lock")},lockScroll:function(a){if(!window._isLocked)return window._isLocked=!0,l(window).on("wheel.lock",function(b){if(b.target===a.raw||l(b.target).parentMatching(function(b){return b===
a})){if(0<b.wheelDelta&&0===a.raw.scrollTop||0>b.wheelDelta&&a.raw.scrollHeight-a.raw.scrollTop===a.raw.clientHeight)return b.preventDefault()}else return b.preventDefault()})},fuzzyMatch:function(a,b,c){var e,m,g,h,f;h=a.length;e=b.length;c||(a=a.toUpperCase(),b=b.toUpperCase());if(h>e)return!1;if(h===e)return a===b;for(g=c=m=0;g<h;)for(f=a[g++];c<e;)if(b[c++]===f){m++;break}return m===h},getIndexOfFirstDiff:function(a,b){var c,e;c=0;for(e=Math.max(a.length,b.length);c<e;){if(a[c]!==b[c])return c;
c++}return null},testCondition:function(a){var b,c,e;if(!a||!a.target)throw Error("Invalid condition provided: "+JSON.stringify(a));if(!a.target.state.visible)return!1;b=function(){switch(!1){case !r.objectPlain(a.value):return a.value;case !r.regex(a.value):return{$regex:a.value};case !("valid"===a.value&&!a.property||!r.defined(a.value)):return"valid";default:return{$eq:a.value}}}();if("valid"===b)return a.target.validate();e=function(){var b,c;c=a.property.split(".");switch(!1){case 1!==c.length:return a.target[a.property];
case !r.defined(a.target[a.property]):return a.target[a.property];default:for(b=a.target;r.object(b);)b=b[c.pop()];return b}}();c=Object.keys(b);return c.filter(function(a){var c;c=b[a];switch(a){case "$eq":return e===c;case "$ne":return e!==c;case "$gt":return e>c;case "$gte":return e>=c;case "$lt":return e<c;case "$lte":return e<=c;case "$ct":return y.includes(e,c);case "$nct":return!y.includes(e,c);case "$regex":return c.test(e);case "$nregex":return!c.test(e);case "$mask":return y.testMask(e,
c);default:return!1}}).length===c.length},validateConditions:function(a){var b;if(a)return b=a.filter(function(a){return y.testCondition(a)}),b.length===a.length},initConditions:function(a,b,c){return setTimeout(function(e){return function(){b.forEach(function(b){var e;if(e=r.string(b.target)?a.allFields[b.target]:r.field(b.target)?b.target:void 0)b.target=e;else return console.warn("Condition target not found for the provided ID '"+b.target+"'",a);b=r.array(e.value)?"array:value":"value";return h(b,
{updateOnBind:!1}).of(e).and("visible").of(e.state).to(c)});return c()}}(this))},parseCssShorthandValue:function(a){var b;b=a.split(f.whiteSpace).map(parseFloat);a={};switch(b.length){case 1:a.top=a.right=a.bottom=a.left=b[0];break;case 2:a.top=a.bottom=b[0];a.right=a.left=b[1];break;case 3:a.top=b[0];a.right=a.left=b[1];a.bottom=b[2];break;case 4:a.top=b[0],a.right=b[1],a.bottom=b[2],a.left=b[3]}return a}}};l[2]=function(k){var l;return l=k={defined:function(k){return void 0!==k},array:function(k){return k instanceof
Array},object:function(k){return"object"===typeof k&&k},objectPlain:function(k){return l.object(k)&&"[object Object]"===Object.prototype.toString.call(k)},string:function(k){return"string"===typeof k},number:function(k){return"number"===typeof k},"function":function(k){return"function"===typeof k},iterable:function(k){return l.object(k)&&l.number(k.length)}}};l[3]=function(k){var l={exports:k};(function(){var k,h,y,f,a,b,c,e,m,g,u,B,n,M,A,X,R,x,G,D,w,E,z,J,K,q;k=function(d){var a={exports:d};(function(){var d,
b,c,t,e,g,m,n;t=["webkit","moz","ms","o"];g="backgroundPositionX backgroundPositionY blockSize borderWidth columnRuleWidth cx cy fontSize gridColumnGap gridRowGap height inlineSize lineHeight minBlockSize minHeight minInlineSize minWidth maxHeight maxWidth outlineOffset outlineWidth perspective shapeMargin strokeDashoffset strokeWidth textIndent width wordSpacing top bottom left right x y".split(" ");["margin","padding","border","borderRadius"].forEach(function(d){var a,b,c,t,e;g.push(d);t=["Top",
"Bottom","Left","Right"];e=[];b=0;for(c=t.length;b<c;b++)a=t[b],e.push(g.push(d+a));return e});n=document.createElement("div").style;d=/^\d+(?:[a-z]|\%)+$/i;b=/\d+$/;c=/\s/;m={includes:function(d,a){return d&&-1!==d.indexOf(a)},isIterable:function(d){return d&&"object"===typeof d&&"number"===typeof d.length&&!d.nodeType},isPropSupported:function(d){return"undefined"!==typeof n[d]},toTitleCase:function(d){return d[0].toUpperCase()+d.slice(1)},normalizeProperty:function(d){var a,b,c;if(this.isPropSupported(d))return d;
c=this.toTitleCase(d);d=0;for(a=t.length;d<a;d++)if(b=t[d],b=""+b+c,this.isPropSupported(b))return b},normalizeValue:function(a,t){this.includes(g,a)&&null!==t&&(t=""+t,!b.test(t)||d.test(t)||c.test(t)||(t+="px"));return t}};e=function(d,a,b){var c,t,g;if(m.isIterable(d))for(c=0,t=d.length;c<t;c++)g=d[c],e(g,a,b);else if("object"===typeof a)for(c in a)b=a[c],e(d,c,b);else{a=m.normalizeProperty(a);if("undefined"===typeof b)return getComputedStyle(d)[a];a&&(d.style[a]=m.normalizeValue(a,b))}};e.version=
"1.0.5";return null!=("undefined"!==typeof a&&null!==a?a.exports:void 0)?a.exports=e:"function"===typeof define&&define.amd?define(["quickdom"],function(){return e}):this.Css=e})();return a.exports}.call(this,{});A=p(4);B="id name type href selected checked className".split(" ");u="id ref type name text style class className url href selected checked props attrs passStateToChildren stateTriggers".split(" ");x={includes:function(d,a){return d&&-1!==d.indexOf(a)},removeItem:function(d,a){var b;b=d.indexOf(a);
-1!==b&&d.splice(b,1);return d},normalizeGivenEl:function(d){switch(!1){case !h.domNode(d):return a(d);case !h.string(d):return a.text(d);default:return d}},isStateStyle:function(d){return"$"===d[0]||"@"===d[0]}};h=p(2);h=A.clone(h,{domDoc:function(d){return d&&9===d.nodeType},domEl:function(d){return d&&1===d.nodeType},domText:function(d){return d&&3===d.nodeType},domNode:function(d){return h.domEl(d)||h.domText(d)},quickDomEl:function(d){return d&&"QuickElement"===d.constructor.name},template:function(d){return d&&
"QuickTemplate"===d.constructor.name}});b=function(){function d(d,a){this.type=d;this.options=a;this.el=this.options.existing||("text"===this.type?document.createTextNode(this.options.text):"*"===this.type[0]?document.createElementNS("http://www.w3.org/2000/svg",this.type.slice(1)):document.createElement(this.type));"text"===this.type&&(this.append=this.prepend=this.attr=function(){});this._parent=null;this._state=[];this._children=[];this._insertedCallbacks=[];this._eventCallbacks={__refs:{}};this._normalizeOptions();
this._applyOptions();this._attachStateEvents();this._proxyParent();this.el._quickElement=this}d.prototype.toJSON=function(){var d,a,b,c,e;e=[this.type,A.clone.keys(u)(this.options)];a=this.children;b=0;for(c=a.length;b<c;b++)d=a[b],e.push(d.toJSON());return e};return d}();Object.defineProperties(b.prototype,{raw:{get:function(){return this.el}},0:{get:function(){return this.el}},css:{get:function(){return this.style}},replaceWith:{get:function(){return this.replace}}});b.prototype.parentsUntil=function(d){return g(this,
d)};b.prototype.parentMatching=function(d){var a;if(h["function"](d))for(a=this.parent;a;){if(d(a))return a;a=a.parent}};Object.defineProperties(b.prototype,{children:{get:function(){var d,b,c,e;if(this.el.childNodes.length!==this._children.length)for(this._children.length=0,e=this.el.childNodes,b=0,c=e.length;b<c;b++)d=e[b],4>d.nodeType&&this._children.push(a(d));return this._children}},parent:{get:function(){this._parent&&this._parent.el===this.el.parentNode||h.domDoc(this.el.parentNode)||(this._parent=
a(this.el.parentNode));return this._parent}},parents:{get:function(){return g(this)}},next:{get:function(){return a(this.el.nextSibling)}},prev:{get:function(){return a(this.el.previousSibling)}},nextAll:{get:function(){var d,b;b=[];for(d=a(this.el.nextSibling);d;)b.push(d),d=d.next;return b}},prevAll:{get:function(){var d,b;b=[];for(d=a(this.el.previousSibling);d;)b.push(d),d=d.prev;return b}},siblings:{get:function(){return this.prevAll.reverse().concat(this.nextAll)}},child:{get:function(){return this._childRefs||
m(this)}},childf:{get:function(){return m(this,!0)}}});g=function(d,a){var b,c;h["function"](a)||(a=void 0);c=[];for(b=d.parent;b;)c.push(b),b=b.parent,a&&a(b)&&(b=null);return c};m=function(d,a){var b;if(a||!d._childRefs)d._childRefs={};b=d._childRefs;d.ref&&(b[d.ref]=d);b=d.children;b.length&&A.apply(null,[d._childRefs].concat(slice.call(b.map(function(d){return m(d,a)}))));return d._childRefs};b.prototype._normalizeOptions=function(){var d;null==(d=this.options).style&&(d.style={});this.options.styleShared=
{};this.options["class"]&&(this.options.className=this.options["class"]);this.options.url&&(this.options.href=this.options.url);null==(d=this.options).relatedInstance&&(d.relatedInstance=this);null==(d=this.options).unpassableStates&&(d.unpassableStates=[]);null==(d=this.options).passStateToChildren&&(d.passStateToChildren=!0);this.options.stateTriggers=A.deep({hover:{on:"mouseenter",off:"mouseleave"},focus:{on:"focus",off:"blur"}},this.options.stateTriggers);this._normalizeStyle()};b.prototype._normalizeStyle=
function(){var d,a,b,c,e;a=Object.keys(this.options.style);b=a.filter(function(d){return x.isStateStyle(d)});c=x.removeItem(b.slice(),"$base");this._mediaStates=b.filter(function(d){return"@"===d[0]});this._providedStates=b.map(function(d){return d.slice(1)});!x.includes(b,"$base")&&a.length&&(this.options=A.clone(this.options),b.length?(a=a.filter(function(d){return!x.isStateStyle(d)}),this.options.style.$base=A.clone.keys(a)(this.options.style)):this.options.style={$base:this.options.style});d=
function(a){return function(b,c){var e,g,t,m,n,h;g=Object.keys(b).filter(function(d){return x.isStateStyle(d)});if(g.length)for(a.hasSharedStateStyle=!0,null==a._stateShared&&(a._stateShared=[]),t=0,m=g.length;t<m;t++)e=g[t],n=c.concat(e.slice(1)),h=n.join("+"),a.options.styleShared[h]=a.options.style["$"+h]=b[e],d(b[e],n),delete b[e]}}(this);a=0;for(b=c.length;a<b;a++)e=c[a],d(this.options.style[e],[e.slice(1)])};b.prototype._applyOptions=function(){var d,a,b;(a=this.options.id||this.options.ref)&&
this.attr("data-ref",this.ref=a);this.options.id&&(this.el.id=this.options.id);this.options.className&&(this.el.className=this.options.className);this.options.href&&(this.el.href=this.options.href);this.options.type&&(this.el.type=this.options.type);this.options.name&&(this.el.name=this.options.name);this.options.value&&(this.el.value=this.options.value);this.options.selected&&(this.el.selected=this.options.selected);this.options.checked&&(this.el.checked=this.options.checked);if(this.options.props)for(d in b=
this.options.props,b)a=b[d],this.prop(d,a);if(this.options.attrs)for(d in b=this.options.attrs,b)a=b[d],this.attr(d,a);this.options.styleAfterInsert||this.style(this.options.style.$base);this.onInserted(function(d){return function(){var a,b;d.options.styleAfterInsert&&d.style(A.clone.apply(A,[d.options.style.$base].concat(slice.call(d._getStateStyles(d._getActiveStates())))));a=d._inserted=d;b=d._mediaStates;if(b.length)return d._mediaStates=new function(){var d,c,e;d=0;for(c=b.length;d<c;d++)e=b[d],
e=e.slice(1),this[e]=y.register(a,e);return this}}}(this))};b.prototype._attachStateEvents=function(){var d,a,b,c;a=this.options.stateTriggers;d=function(d){return function(a,b){var c,e;e=h.string(b)?b:b.on;h.object(b)&&(c=b.off);d._listenTo(e,function(){return d.state(a,!0)});if(c)return d._listenTo(c,function(){return d.state(a,!1)})}}(this);for(b in a)c=a[b],d(b,c)};b.prototype._proxyParent=function(){var d;d=void 0;return Object.defineProperty(this,"_parent",{get:function(){return d},set:function(a){var b;
if(d=a)if(b=this.parents.slice(-1)[0],b.raw===document.documentElement)this._unproxyParent(a);else d.onInserted(function(b){return function(){if(d===a)return b._unproxyParent(a)}}(this))}})};b.prototype._unproxyParent=function(d){var a,b,c;delete this._parent;this._parent=d;c=this._insertedCallbacks;a=0;for(b=c.length;a<b;a++)d=c[a],d(this)};z=/\s+/;b.prototype.on=function(d,a){var b,c;h.string(d)&&h["function"](a)&&(c=d.split("."),b=c[1],d=c[0],d.split(z).forEach(function(d){return function(c){d._eventCallbacks[c]||
(d._eventCallbacks[c]=[],d._listenTo(c,function(a){var b,e,g,m;m=d._eventCallbacks[c];e=0;for(g=m.length;e<g;e++)b=m[e],b.call(d.el,a)}));b&&(d._eventCallbacks.__refs[b]=a);return d._eventCallbacks[c].push(a)}}(this)));return this};b.prototype.off=function(d,a){var b,c;if(h.string(d))c=d.split("."),b=c[1],d=c[0],d.split(z).forEach(function(d){return function(c){if(d._eventCallbacks[c]){null==a&&(a=d._eventCallbacks.__refs[b]);if(h["function"](a))return x.removeItem(d._eventCallbacks[c],a);if(!b)return d._eventCallbacks[c].length=
0}}}(this));else for(c in this._eventCallbacks)this.off(c);return this};b.prototype.emit=function(d,a,b){var c;null==a&&(a=!0);null==b&&(b=!0);d&&h.string(d)&&(c=document.createEvent("Event"),c.initEvent(d,a,b),this.el.dispatchEvent(c));return this};b.prototype.onInserted=function(d,a){null==a&&(a=!0);if(h["function"](d))return this._inserted?a&&d(this):this._insertedCallbacks.push(d),this};b.prototype._listenTo=function(d,a){this.el[this.el.addEventListener?"addEventListener":"attachEvent"](this.el.addEventListener?
d:"on"+d,a);return this};b.prototype.updateOptions=function(d){h.object(d)&&(this.options=d,this._normalizeOptions(),this._applyOptions(this.options));return this};b.prototype.state=function(d,a,b){var c,e,g,m,n,t,f,k,u;if(1===arguments.length)return x.includes(this._state,d);if(this._statePipeTarget&&b!==this)return this._statePipeTarget.state(d,a,this),this;if(h.string(d)){"$"===d[0]&&(d=d.slice(1));g=!!a;if("base"===d)return this;e=this._getActiveStates(d,!1);c=this._getStateStyles(e);if(this.state(d)!==
g){if(n=this.options.style["$"+d]||this.options.style["@"+d])u=this._providedStates.indexOf(d),e=e.filter(function(a){return function(d){return a._providedStates.indexOf(d)>u}}(this)),t=this._getStateStyles(e);g?(this._state.push(d),n&&this.style(A.clone.keys(n).apply(null,[n].concat(slice.call(t))))):(x.removeItem(this._state,d),n&&(m=A.clone.keys(n).apply(null,[this.options.style.$base].concat(slice.call(c))),n=A.transform(function(){return null}).clone(n),this.style(A(n,m))))}if(this.hasSharedStateStyle)for(f=
Object.keys(this.options.styleShared),f=f.filter(function(a){return x.includes(a,d)}),e=0,t=f.length;e<t;e++)if(k=f[e],m=k.split("+"),n=m.length===m.filter(function(a){return function(b){return b===d||a.state(b)}}(this)).length)n=this.options.styleShared[k],g?(x.includes(this._stateShared,k)||this._stateShared.push(k),m=this.options.styleShared[x.removeItem(m,d).join("+")],this.style(A.clone(m,n))):(x.removeItem(this._stateShared,k),m=A.clone.keys(n).apply(null,[this.options.style.$base].concat(slice.call(c))),
n=A.transform(function(){return null}).clone(n),this.style(A(n,m)));if(this.options.passStateToChildren&&!x.includes(this.options.unpassableStates,d))for(e=this._children,g=0,n=e.length;g<n;g++)c=e[g],c.state(d,a,b||this);return this}};b.prototype.resetState=function(){var a,b,c,e;e=this._state.slice();b=0;for(c=e.length;b<c;b++)a=e[b],this.state(a,!1);return this};b.prototype.pipeState=function(a){var d,b,c,e;if(a){if(a=x.normalizeGivenEl(a),h.quickDomEl(a)&&a!==this)for(this._statePipeTarget=a,
e=this._state,b=0,c=e.length;b<c;b++)d=e[b],a.state(d,!0)}else!1===a&&delete this._statePipeTarget;return this};b.prototype.style=function(){var a,b;if("text"!==this.type){a=arguments;if(h.string(a[0])){if(b=k(this.el,a[0],a[1]),!h.defined(a[1]))return this._inserted?b:b?"":b}else h.object(a[0])&&k(this.el,A.allowNull.transform(function(a){return function(d){return"function"===typeof d?d.call(a,a.options.relatedInstance):d}}(this)).clone(a[0]));return this}};b.prototype.styleSafe=function(a,b){var d,
c;if("text"!==this.type)return d=arguments,c=this.style(a),h.string(c)?(b&&(c=0),c||this.el.style[d[0]]||this.options.style.$base[d[0]]||""):this};b.prototype.styleParsed=function(a){return parseFloat(this.styleSafe(a))};b.prototype._getActiveStates=function(a,b){var d;null==b&&(b=!0);d=this._providedStates.filter(function(d){return function(b){return x.includes(d._state,b)&&b!==a}}(this));return b&&this.hasSharedStateStyle?d.concat(this._stateShared):d};b.prototype._getStateStyles=function(a){return a.map(function(a){return function(d){return a.options.style["$"+
d]||a.options.style["@"+d]}}(this))};Object.defineProperties(b.prototype,{rect:{get:function(){return this.el.getBoundingClientRect()}},width:{get:function(){return parseFloat(this.style("width"))}},height:{get:function(){return parseFloat(this.style("height"))}},orientation:G={get:function(){return this.width>this.height?"landscape":"portrait"}},aspectRatio:n={get:function(){return this.width/this.height}}});b.prototype.attr=function(a,b){switch(b){case void 0:return this.el.getAttribute(a);case null:return this.el.removeAttribute(a);
default:return this.el.setAttribute(a,b),this}};b.prototype.prop=function(a,b){switch(b){case void 0:return this.el[a];default:return this.el[a]=b,this}};b.prototype.toTemplate=function(){return a.template(this)};b.prototype.clone=function(){var a,c,e,g,m,n,h;e=this.el.cloneNode(!1);e=A.clone(this.options,{existing:e});e=new b(this.type,e);n=this._state;c=0;for(m=n.length;c<m;c++)a=n[c],e.state(a,!0);n=this.children;c=0;for(m=n.length;c<m;c++)a=n[c],e.append(a.clone());h=this._eventCallbacks;for(g in h)for(c=
h[g],n=0,m=c.length;n<m;n++)a=c[n],e.on(g,a);return e};b.prototype.append=function(a){var b;a&&(a=x.normalizeGivenEl(a),h.quickDomEl(a)&&((b=a.parent)&&b._removeChild(a),this._children.push(a),this.el.appendChild(a.el),a.parent));return this};b.prototype.appendTo=function(a){a&&(a=x.normalizeGivenEl(a),h.quickDomEl(a)&&a.append(this));return this};b.prototype.prepend=function(a){var b;a&&(a=x.normalizeGivenEl(a),h.quickDomEl(a)&&((b=a.parent)&&b._removeChild(a),this._children.unshift(a),this.el.insertBefore(a.el,
this.el.firstChild),a.parent));return this};b.prototype.prependTo=function(a){a&&(a=x.normalizeGivenEl(a),h.quickDomEl(a)&&a.prepend(this));return this};b.prototype.after=function(a){var b;a&&this.parent&&(a=x.normalizeGivenEl(a),h.quickDomEl(a)&&(b=this.parent._children.indexOf(this),this.parent._children.splice(b+1,0,a),this.el.parentNode.insertBefore(a.el,this.el.nextSibling),a.parent));return this};b.prototype.insertAfter=function(a){a&&(a=x.normalizeGivenEl(a),h.quickDomEl(a)&&a.after(this));
return this};b.prototype.before=function(a){var b;a&&this.parent&&(a=x.normalizeGivenEl(a),h.quickDomEl(a)&&(b=this.parent._children.indexOf(this),this.parent._children.splice(b,0,a),this.el.parentNode.insertBefore(a.el,this.el),a.parent));return this};b.prototype.insertBefore=function(a){a&&(a=x.normalizeGivenEl(a),h.quickDomEl(a)&&a.before(this));return this};b.prototype.detach=function(){var a;null!=(a=this.parent)&&a._removeChild(this);return this};b.prototype.remove=function(){var a;this.detach();
this.resetState();for(a in this._eventCallbacks)this._eventCallbacks[a].length=0;return this};b.prototype.empty=function(){var a,b,c,e;e=this.children.slice();b=0;for(c=e.length;b<c;b++)a=e[b],this._removeChild(a);return this};b.prototype.wrap=function(a){var b;a&&(a=x.normalizeGivenEl(a),b=this.parent,h.quickDomEl(a)&&a!==this&&a!==this.parent&&(b&&b._removeChild(this,a.parent?void 0:a),a.append(this)));return this};b.prototype.unwrap=function(){var b,c,e,g;if(c=this.parent)if(e=a.batch(c.children),
g=c.next,b=c.parent)c.detach(),g?e.insertBefore(g):e.appendTo(b);return this};b.prototype.replace=function(a){var b;a&&(a=x.normalizeGivenEl(a),h.quickDomEl(a)&&a!==this&&(a.detach(),null!=(b=this.parent)&&b._removeChild(this,a)));return this};b.prototype._removeChild=function(a,b){var c;c=this._children.indexOf(a);-1!==c&&(b?(this.el.replaceChild(b.el,a.el),this._children.splice(c,1,b)):(this.el.removeChild(a.el),this._children.splice(c,1)));return this};Object.defineProperties(b.prototype,{html:{get:function(){return this.el.innerHTML},
set:function(a){return this.el.innerHTML=a}},text:{get:function(){return this.el.textContent},set:function(a){return this.el.textContent=a}}});e={type:"window",el:window,raw:window,_eventCallbacks:{__refs:{}}};e.on=b.prototype.on;e.off=b.prototype.off;e.emit=b.prototype.emit;e._listenTo=b.prototype._listenTo;Object.defineProperties(e,{width:{get:function(){return window.innerWidth}},height:{get:function(){return window.innerHeight}},orientation:G,aspectRatio:n});y=new function(){var a,b;a=[];window.addEventListener("resize",
function(){var b,c,d;c=0;for(d=a.length;c<d;c++)b=a[c],b()});this.parseQuery=function(a,b){var c,d;c=b.split("(");d=c[0];d=function(){switch(d){case "window":return e;case "parent":return a.parent;case "self":return a;default:return a.parentMatching(function(a){return a.ref===d.slice(1)})}}();c=c[1].slice(0,-1).split(J).map(function(a){var b,c,e,g;e=a.split(":");a=parseFloat(e[1]);isNaN(a)&&(a=e[1]);c=e[0];b=c.slice(0,4);e="max-"===b;g=!e&&"min-"===b;if(e||g)c=c.slice(4);b=function(){switch(c){case "orientation":return function(){return d.orientation};
case "aspect-ratio":return function(){return d.aspectRatio};case "width":case "height":return function(){return d[c]};default:return function(){var a,b;b=d.style(c);a=parseFloat(b);return isNaN(a)?b:a}}}();return{key:c,value:a,min:g,max:e,getter:b}});return{source:d,rules:c}};this.register=function(c,d){var e,g;g=this.parseQuery(c,d);g.source&&(a.push(e=function(){return b(c,g,d)}),e());return g};b=function(a,b,c){var d,e,g,m,n;g=!0;m=b.rules;b=0;for(e=m.length;b<e&&(n=m[b],d=n.getter(),g=function(){switch(!1){case !n.min:return d>=
n.value;case !n.max:return d<=n.value;default:return d===n.value}}(),g);b++);return a.state(c,g)};return this};J=/,\s*/;a=function(){var c,g,m,n,f;c=1<=arguments.length?slice.call(arguments,0):[];switch(!1){case !h.array(c[0]):return a.apply(null,c[0]);case !h.template(c[0]):return c[0].spawn();case !h.quickDomEl(c[0]):return c[1]?c[0].updateOptions(c[1]):c[0];case !(h.domNode(c[0])||h.domDoc(c[0])):if(c[0]._quickElement)return c[0]._quickElement;m=c[0].nodeName.toLowerCase().replace("#","");g=c[1]||
{};g.existing=c[0];return new b(m,g);case c[0]!==window:return e;case !h.string(c[0]):m=c[0].toLowerCase();g="text"===m?h.object(c[1])?c[1]:{text:c[1]||""}:h.object(c[1])?c[1]:{};c=c.slice(2);m=new b(m,g);n=0;for(f=c.length;n<f;n++)g=c[n],h.string(g)&&(g=a.text(g)),h.template(g)&&(g=a(g)),h.array(g)&&(g=a.apply(null,g)),h.quickDomEl(g)&&g.appendTo(m);return m}};a.template=function(a){return new c(a,!0)};f=function(b,c){this.elements=b;this.returnResults=c;this.elements=this.elements.map(function(b){return a(b)});
return this};f.prototype.reverse=function(){this.elements=this.elements.reverse();return this};f.prototype["return"]=function(a){return a?(this.returnResults=!0,this):this.lastResults};Object.keys(b.prototype).concat("css","replaceWith","html","text").forEach(function(a){return f.prototype[a]=function(b){var c,d;d=this.lastResults=function(){var d,e,g,m;g=this.elements;m=[];d=0;for(e=g.length;d<e;d++)c=g[d],"html"===a||"text"===a?b?m.push(c[a]=b):m.push(c[a]):m.push(c[a].apply(c,arguments));return m}.apply(this,
arguments);return this.returnResults?d:this}});a.batch=function(a,b){if(!h.iterable(a))throw Error("Batch: expected an iterable, got "+String(a));if(!a.length)throw Error("Batch: expected a non-empty element collection");return new f(a,b)};R=function(a,b,e){var d,g,m,n,f,k,u,B;e&&(g={options:function(a){return A(a,e)}});h.array(b)&&(b=E(b,!1));g=A.deep.notKeys("children").notDeep("relatedInstance").transform(g).clone(a,b);a=a.children;b=(null!=b?b.children:void 0)||[];g.children=[];if(h.array(b))for(m=
n=0,B=Math.max(a.length,b.length);0<=B?n<B:n>B;m=0<=B?++n:--n)f=u=!1,d=a[m],k=b[m],m=function(){switch(!1){case !h.template(k):return k;case !h.array(k):return f=E(k,!1);case !h.string(k):return f={type:"text",options:{text:k}};case !(!k&&!e):return u=!0;default:return f=k||!0}}(),u?m=d:f&&(m=d?d.extend(m,e):new c(A.deep.clone(M,m))),g.children.push(m);else if(h.object(b))for(d in g.children=X(b,a,e),b)k=b[d],m=h.objectPlain(m)?k:E(k),g.children.push(new c(A.deep.clone(M,m))),delete b[d];return g};
X=function(a,b,c){var d,e,g,m,n;if(b.length){n=[];e=0;for(g=b.length;e<g;e++)d=b[e],(m=a[d.ref])?(m=d.extend(m,c),delete a[d.ref]):m=c?d.extend(null,c):d,m._config.children=X(a,m.children),n.push(m);return n}return b};E=function(b,c){var e;switch(!1){case !h.array(b):e={};if(h.string(b[0]))e.type=b[0];else throw Error(w+" string for 'type', got '"+String(b[0])+"'");if(1<b.length&&!h.object(b[1])&&null!==b[1])throw Error(w+" object for 'options', got '"+String(b[1])+"'");e.options=b[1]?A.deep.clone(b[1]):
null;b[1]&&(e.ref=b[1].id||b[1].ref);e.children=b.slice(2);!1===c?3===b.length&&h.objectPlain(b[2])&&!h.template(b[2])&&(e.children=b[2]):e.children=e.children.map(a.template);return e;case !(h.string(b)||h.domText(b)):return{type:"text",options:{text:b.textContent||b},children:M.children};case !h.domEl(b):return{type:b.nodeName.toLowerCase(),ref:b.id,options:A.clone.keys(B)(b),children:M.children.map.call(b.childNodes,a.template)};case !h.quickDomEl(b):return{type:b.type,ref:b.ref,options:A.clone.deep.notKeys("relatedInstance")(b.options),
children:b.children.map(a.template)};case !h.template(b):return R(b._config);default:throw Error(w+" (array || string || domEl || quickDomEl || template), got "+String(b));}};w="Template Parse Error: expected";M={type:"div",ref:void 0,options:{},children:[]};c=function(){function b(a,b){this._config=b?E(a):a}b.prototype.spawn=function(b,c){var e;e=b||c?R(this._config,b,c):this._config;return a.apply(null,[e.type,e.options].concat(slice.call(e.children)))};b.prototype.extend=function(a,c){return new b(R(this._config,
a,c))};return b}();Object.keys(M).forEach(function(a){return Object.defineProperty(c.prototype,a,{get:function(){return this._config[a]}})});Object.defineProperty(c.prototype,"child",{get:function(){return this._childRefs||m(this)}});q="link:a anchor:a a text div span h1 h2 h3 h4 h5 h6 header footer section button br ul ol li fieldset input textarea select option form frame hr iframe img picture main nav meta object pre style table tbody th tr td tfoot video".split(" ");n=function(b){var c,e;c=e=
b;x.includes(b,":")&&(b=b.split(":"),c=b[0],e=b[1]);return a[c]=function(){return a.apply(null,[e].concat(slice.call(arguments)))}};G=0;for(D=q.length;G<D;G++)K=q[G],n(K);a.version="1.0.29";return null!=("undefined"!==typeof l&&null!==l?l.exports:void 0)?l.exports=a:"function"===typeof define&&define.amd?define(["quickdom"],function(){return a}):this.Dom=a})();return l.exports};l[4]=function(k){var l={exports:k};(function(k){return function(){var h;h=function(h,f,a,b){b=function(b){return a[b]?f[b]:
(a[b]=1,f[b]={},f[b]=h[b](f[b]))};h[1]=function(a){var c,m,g,h,f;m=b(2);f=function(a){var b,c,e;c={};for(b in a)e=a[b],c[b]=e;return c};h=function(a){if(a)return"object"!==typeof a||Array.isArray(a)?[].concat(a):Object.keys(a)};c=function(a){var b;b=a.target?function(){for(var a=arguments.length,c=-1,e=Array(a);++c<a;)e[c]=arguments[c];return m(b.options,b.options.target,e)}:function(a){for(var c=arguments.length,e=0,g=Array(c);++e<c;)g[e]=arguments[e];return m(b.options,a,g)};b.options=a;Object.defineProperties(b,
g);return b};g={deep:{get:function(){var a;a=f(this.options);a.deep=!0;return c(a)}},own:{get:function(){var a;a=f(this.options);a.own=!0;return c(a)}},allowNull:{get:function(){var a;a=f(this.options);a.allowNull=!0;return c(a)}},concat:{get:function(){var a;a=f(this.options);a.concat=!0;return c(a)}},clone:{get:function(){var a;a=f(this.options);a.target={};return c(a)}},notDeep:{get:function(){var a;a=f(this.options);return function(b){a.notDeep=h(b);return c(a)}}},keys:{get:function(){var a;a=
f(this.options);return function(b){a.keys=h(b);return c(a)}}},notKeys:{get:function(){var a;a=f(this.options);return function(b){a.notKeys=h(b);return c(a)}}},transform:{get:function(){var a;a=f(this.options);return function(b){"function"===typeof b?a.globalTransform=b:b&&"object"===typeof b&&(a.transforms=b);return c(a)}}},filter:{get:function(){var a;a=f(this.options);return function(b){"function"===typeof b?a.globalFilter=b:b&&"object"===typeof b&&(a.filters=b);return c(a)}}}};return c({})};h[2]=
function(a){var b,c,g,h;c=function(a){return Array.isArray(a)};g=function(a){return a&&"[object Object]"===Object.prototype.toString.call(a)||c(a)};h=function(a,b){return b.notDeep?-1!==b.notDeep.indexOf(a):!1};return b=function(a,e,m){var f,n,k,u,l,p;if(!e||"object"!==typeof e&&"function"!==typeof e)e={};f=0;for(k=m.length;f<k;f++)if(u=m[f],null!=u)for(n in u)if(l=u[n],p=e[n],!(l===e||void 0===l||null===l&&!a.allowNull||a.keys&&-1===a.keys.indexOf(n)||a.notKeys&&-1!==a.notKeys.indexOf(n)||a.own&&
!u.hasOwnProperty(n)||a.globalFilter&&!a.globalFilter(l,n,u)||a.filters&&a.filters[n]&&!a.filters[n](l,n,u)))switch(a.globalTransform&&(l=a.globalTransform(l,n,u)),a.transforms&&a.transforms[n]&&(l=a.transforms[n](l,n,u)),!1){case !(a.concat&&c(l)&&c(p)):e[n]=p.concat(l);break;case !(a.deep&&g(l)&&!h(n,a)):p=g(p)?p:c(l)?[]:{};e[n]=b(a,p,[l]);break;default:e[n]=l}return e}};return b};h=h({},{},{});return function(){var k;k=h(1);null!=("undefined"!==typeof l&&null!==l?l.exports:void 0)?l.exports=k:
"function"===typeof define&&define.amd?define(["smart-extend"],function(){return k}):window.extend=k}()}})(this)();return l.exports};l[5]=function(k){return"_construct _getValue _setValue _createElements _attachBindings validate".split(" ")};l[9]=function(k){return{whiteSpace:/\s+/,numeric:/^\d$/,letter:/^[a-zA-Z]$/,widenumeric:/^[0-9\!#\$\%\*\+\/\=\?\^\{\|\}\(\)\~\-\.]$/,alphanumeric:/^[0-9A-Za-z\!#\$\%\&\'\*\+\/\=\?\^\_\`\{\|\}\(\)\~\-\ ]$/}};l[12]=function(k){k=p(3);return{checkmark:k.template(["*svg",
{attrs:{width:"12px",height:"12px",viewBox:"5 7 12 12",tabindex:-1,focusable:!1},style:{width:"9px",height:"9px"}},["*polyline",{attrs:{"stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",fill:"none",points:"7 13.8888889 9.66666667 17 15 9",tabindex:-1,focusable:!1}}]]),angleDown:k.template(["*svg",{attrs:{width:"1792px",height:"1792px",viewBox:"0 0 1792 1792",tabindex:-1,focusable:!1},style:{width:"100%",height:"100%",outline:"none"}},["*path",{attrs:{tabindex:-1,focusable:!1,d:"M1395 736q0 13-10 23l-466 466q-10 10-23 10t-23-10l-466-466q-10-10-10-23t10-23l50-50q10-10 23-10t23 10l393 393 393-393q10-10 23-10t23 10l50 50q10 10 10 23z"}}]]),
caretUp:k.template(["*svg",{attrs:{viewBox:"0 0 512 512",tabindex:-1,focusable:!1},style:{width:"100%",height:"100%"}},["*path",{attrs:{tabindex:-1,focusable:!1,d:"M402 347c0 5-2 10-5 13-4 4-8 6-13 6h-256c-5 0-9-2-13-6-3-3-5-8-5-13s2-9 5-12l128-128c4-4 8-6 13-6s9 2 13 6l128 128c3 3 5 7 5 12z"}}]]),caretDown:k.template(["*svg",{attrs:{viewBox:"0 0 512 512",tabindex:-1,focusable:!1},style:{width:"100%",height:"100%"}},["*path",{attrs:{tabindex:-1,focusable:!1,d:"M402 201c0 5-2 9-5 13l-128 128c-4 4-8 5-13 5s-9-1-13-5l-128-128c-3-4-5-8-5-13s2-9 5-13c4-3 8-5 13-5h256c5 0 9 2 13 5 3 4 5 8 5 13z"}}]])}};
l[15]=function(k){return{red:"#cc4820",green:"#72c322",orange:"#ff9c00",black:"#181818",grey:"#909090",grey_semi_light:"#bebebe",grey_light:"#d3d3d3"}};l[16]=function(k){return{fontFamily:"system-ui, sans-serif",templates:{},label:!1,alwaysShowHelp:!1,help:"",defaultValue:null,width:"100%"}};l[17]=function(k){var l,r,h,y,f,a,b;r=p(30);f=function(a){return function(a){var c,e,k,l;c=p(9);e=function(a){"use strict";var b=[],c=[];return a=function(a,e){if(a===e)return 0;var g=a.length,m=e.length;if(0===
g)return m;if(0===m)return g;for(var h,n,f,k,u=0,l=0;u<g;)c[u]=a.charCodeAt(u),b[u]=++u;for(;l<m;)for(h=e.charCodeAt(l),f=l++,n=l,u=0;u<g;u++)k=h===c[u]?f:f+1,f=b[u],n=b[u]=f>n?k>n?n+1:k:k>f?f+1:k;return n}}.call(this,{});l="1#aA*^".split("");f=function(a,b,c){this.pattern=a;this.placeholder=b;this.guide=c;this.optionalsOffset=this.minRequiredCount=0;this.lastValid=null;this.lastInput="";this.valid=!1;this.valueStrict=this.valueRaw=this.value="";this.prev={};this.literals=[];this.optionals=[];this.repeatables=
[];this._normalizePattern();this.setValue("");return this};f.prototype._normalizePattern=function(){var a,c,e,g,m,h,f,k;h="";for(a=m=k=g=0;k<this.pattern.length;){f=this.pattern[k];switch(!1){case !c:c=!1;this.literals.push(k-m);h+=f;0===g&&a++;break;case "\\"!==f:c=!0;m++;break;case "["!==f:e=!0;m++;break;case "]"!==f:e=!1;m++;break;case "+"!==f:m++;break;default:b.includes(l,f)?e?this.optionals.push(k-m):g++:(this.literals.push(k-m),0===g&&a++),"+"===this.pattern[k+1]&&this.repeatables.push(k-m),
h+=f}k++}this.minRequiredCount=g;this.firstNonLiteral=a;return this.pattern=h};f.prototype.setValue=function(a){var c,g,m,f,h,n,u,p,r,B,y,D,q,d,t,w;g=b.getIndexOfFirstDiff(this.value,a);c=e(this.value,a);(h=1===a.length&&0===this.valueRaw.length?!1:this.value.length>a.length)||(p=a.slice(g,g+c));D=y=B="";d=this.pattern.length;f=t=0;if(!(!c&&this.value||h&&b.includes(this.literals,g-this.optionalsOffset)&&g-this.optionalsOffset>this.firstNonLiteral)){for(;t<d;){w=t;q=this.pattern[t];m=a[f];n=b.includes(this.literals,
t);u=b.includes(this.optionals,t);g=b.includes(this.repeatables,t);if(a&&!m&&!this.guide)break;switch(!1){case !n:B+=q;D+=q;q===m?b.includes(l,q)&&!h||c>=this.literals.length&&1<c&&this.valueRaw.length||f++:1===c&&a[f+1]===q&&(f+=2);t++;break;case !b.includes(l,q):if(n=m&&k(m,q)){if("A"===q||"^"===q)m=m.toUpperCase();B+=m;y+=m;if(!u&&!g||r!==t)D+=m;r=a[f+1]&&k(a[f+1],q);f++;r&&g||t++;g&&!r&&b.includes(this.literals,t)&&a[f]!==this.pattern[t]&&f++}else 1!==c||!k(a[f+1],q)||h?(t++,!u&&this.guide&&(B+=
this.placeholder,D+=this.placeholder)):u&&f++,u||f++;break;default:debugger}r=w}this.prev.value=this.value;this.prev.valueRaw=this.valueRaw;this.prev.valueStrict=this.valueStrict;this.value=B;this.valueRaw=y;this.valueStrict=D;p&&(this.lastInput=p);this.optionalsOffset=e(B,D);this.valid=this.validate(a,!0)}};f.prototype.validate=function(a,c){var e,g,m,f,n,u,p,r;if(!h.string(a)||a.length<this.minRequiredCount)return!1;p=this.pattern.length;for(g=r=0;r<p;)switch(u=this.pattern[r],e=a[g],m=b.includes(this.literals,
r),f=b.includes(this.optionals,r),n=b.includes(this.repeatables,r),!1){case !m:r++;u===e&&null!=a[g+1]&&g++;break;case !b.includes(l,u):if(e=e&&k(e,u))f=a[g+1]&&k(a[g+1],u),g++,f&&n||r++;else if(f)r++;else return c&&(this.lastValid=0>g-1?null:g-1),!1}c&&(this.lastValid=g);return!0};f.prototype.normalizeCursorPos=function(a,c){var e,g,m,f,h,k;m=c>a;a<=this.firstNonLiteral&&(e=1<=this.firstNonLiteral-a&&!m||1===this.firstNonLiteral?1:0,a=this.firstNonLiteral+e);f=0;h=this.value.slice(0,a);k=this.valueStrict.slice(0,
a);e=b.getIndexOfFirstDiff(this.value,this.prev.value);for(g=0;g<a;)h[g]!==k[g-f]&&f++,g++;if(m){if(a===this.firstNonLiteral)return a;if(b.includes(this.literals,a-1)||this.value[a-1]===this.placeholder)return a-(0===f?1:0)}else{if(null===e)return b.includes(this.literals,a-f-1)&&k[a-f-1]===this.lastInput?a:Math.max(a-1,this.firstNonLiteral);if(b.includes(this.repeatables,a-f)||b.includes(this.repeatables,e-f))return a;if(b.includes(this.literals,a-f))return a+(0===f?1:0);if(b.includes(this.literals,
e-1)&&e===a)return a+1}return a};f.prototype.isLiteralAtPos=function(a){return b.includes(this.literals,a)};f.prototype.isRepeatableAtPos=function(a){0!==a&&(a-=this.optionalsOffset+1);return b.includes(this.repeatables,a)};k=function(a,b){switch(b){case "1":return c.numeric.test(a);case "#":return c.widenumeric.test(a);case "a":case "A":return c.letter.test(a);case "*":case "^":return c.alphanumeric.test(a);default:return!1}};return a=f}}(this)({});y=p(18);b=p(1);h=p(2);l=p(3);a=p(45);k=Object.create(null);
k._templates=function(a){return function(a){l=p(3);a=p(15);b=p(1);return a={field:l.template(["div",{ref:"field",style:{position:"relative",display:"none",boxSizing:"border-box",fontFamily:function(a){return a.settings.fontFamily},$visible:{display:"inline-block"},$showError:{animation:"0.2s fieldErrorShake"}}},["div",{ref:"label",style:{position:"absolute",zIndex:1,top:function(a){return parseFloat(a.el.child.innerwrap.styleSafe("height"))/6},left:function(a){var b;return parseFloat(null!=(b=a.el.child.icon)?
b.styleSafe("width"):void 0)||0},padding:"0 12px",fontFamily:"inherit",fontSize:"11px",fontWeight:600,lineHeight:"1em",color:a.grey,opacity:0,transition:"opacity 0.2s, color 0.2s",whiteSpace:"nowrap",userSelect:"none",cursor:"default",pointerEvents:"none",$filled:{$showLabel:{opacity:1}},$focus:{color:a.orange},$showError:{color:a.red}}}],["div",{ref:"innerwrap",style:{position:"relative",height:"46px",backgroundColor:"white",borderWidth:"1px",borderStyle:"solid",borderColor:a.grey_light,borderRadius:"2px",
boxSizing:"border-box",fontFamily:"inherit",transition:"border-color 0.2s",$focus:{borderColor:a.orange},$showError:{borderColor:a.red},$disabled:{borderColor:a.grey_light,backgroundColor:a.grey_light}}},["input",{ref:"input",type:"text",style:{position:"relative",zIndex:3,display:"inline-block",verticalAlign:"top",width:function(a){var b;if(!a.settings.autoWidth)return b="",a.el.child.icon&&(b+=" -"+a.el.child.icon.raw.styleSafe("width",!0)),a.el.child.checkmark&&(b+=" -"+a.el.child.checkmark.styleSafe("width",
!0)),"calc(100% + ("+(b||"0px")+"))"},height:function(){return this.parent.styleSafe("height")},margin:"0",padding:"12px",backgroundColor:"transparent",appearance:"none",border:"none",outline:"none",fontFamily:"inherit",fontSize:"14px",color:a.black,boxSizing:"border-box",whiteSpace:"nowrap",transform:"translateY(0)",transition:"transform 0.2s, -webkit-transform 0.2s",$filled:{$showLabel:{transform:function(a){var c;if((c=a.el.child.label)&&"absolute"===c.style("position"))return a=this._inserted?
this.styleParsed("paddingTop"):b.parseCssShorthandValue(this.styleSafe("padding")).top,c=c.height+c.styleParsed("top")-a-2,"translateY("+c+"px)"}}},$showCheckmark:{padding:"0 44px 0 12px"}}}],["div",{ref:"placeholder",style:{position:"absolute",zIndex:2,top:"0px",left:function(a){var b;return(null!=(b=a.el.child.icon)?b.styleSafe("width"):void 0)||0},fontFamily:function(a){return a.el.child.input.styleSafe("fontFamily")},fontSize:function(a){return a.el.child.input.styleSafe("fontSize")},padding:function(a){var b;
b=a.el.child.input.styleParsed("paddingLeft");return a.el.child.input.styleParsed("paddingTop")+3+"px "+b+"px"},color:a.black,opacity:.5,userSelect:"none",whiteSpace:"nowrap",transform:"translateY(0)",transition:"transform 0.2s, -webkit-transform 0.2s",$filled:{visibility:"hidden",$showLabel:{transform:function(a){return a.el.child.input.raw.style.transform}}}}}]],["div",{ref:"help",style:{position:"absolute",top:function(a){return this.parent.styleParsed("height")+4},left:"0px",fontFamily:"inherit",
fontSize:"11px",color:a.grey,display:"none",$showError:{color:a.red,display:"block"},$showHelp:{display:"block"}}}]]),checkmark:l.template(["div",{ref:"checkmark",style:{position:"relative",zIndex:4,display:"none",width:"38px",height:"100%",paddingTop:function(){return parseFloat(this.parent.styleSafe("height"))/2-13},paddingRight:"12px",verticalAlign:"top",boxSizing:"border-box",$filled:{display:"inline-block"}}},["div",{style:{width:"20px",height:"20px",borderRadius:"50%",backgroundColor:"white",
borderWidth:"3px",borderStyle:"solid",borderColor:a.green,transform:"scale(0.8)",$showError:{borderColor:a.red}}},["div",{style:{position:"absolute",top:"-4px",left:"-10px",width:"15px",height:"30px",borderRadius:"30px 0 0 30px",backgroundColor:function(){return this.parent.raw.style.backgroundColor},transform:"rotate(-45deg)",transformOrigin:"15px 15px 0"}}],["div",{style:{position:"absolute",top:"-5px",left:"8px",width:"15px",height:"30px",borderRadius:"0 30px 30px 0",backgroundColor:function(){return this.parent.raw.style.backgroundColor},
transform:"rotate(-45deg)",transformOrigin:"0 15px 0",$filled:{animation:"4.25s ease-in checkmarkRotatePlaceholder",$invalid:{animation:""}}}}],["div",{style:{$filled:{$invalid:{position:"relative",zIndex:2,animation:"0.55s checkmarkAnimateError",transformOrigin:"50% 10px"}}}},["div",{style:{position:"absolute",zIndex:2,top:"10px",left:"3px",display:"block",width:"8px",height:"3px",borderRadius:"2px",backgroundColor:a.green,transform:"rotate(45deg)",$filled:{animation:"0.75s checkmarkAnimateSuccessTip"},
$invalid:{backgroundColor:a.red,left:"4px",top:"8px",width:"12px",$filled:{animation:""}}}}],["div",{style:{position:"absolute",zIndex:2,top:"8px",right:"2px",display:"block",width:"12px",height:"3px",borderRadius:"2px",backgroundColor:a.green,transform:"rotate(-45deg)",$filled:{animation:"0.75s checkmarkAnimateSuccessLong"},$invalid:{backgroundColor:a.red,top:"8px",left:"4px",right:"auto",$filled:{animation:""}}}}]],["div",{style:{position:"absolute",zIndex:2,top:"-4px",left:"-3px",width:"20px",
height:"20px",borderRadius:"50%",borderWidth:"3px",borderStyle:"solid",borderColor:b.hexToRGBA(a.green,.4),$invalid:{borderColor:b.hexToRGBA(a.red,.4)}}}],["div",{style:{position:"absolute",zIndex:1,top:"-2px",left:"6px",width:"4px",height:"28px",backgroundColor:function(){return this.parent.raw.style.backgroundColor},transform:"rotate(-45deg)"}}]]])}}}(this)({});k._defaults=function(a){return function(a){return{mask:!1,maskPlaceholder:" ",maskGuide:!0,placeholder:!0,validWhenIsChoice:!1,validWhenRegex:!1,
autoWidth:!1,maxWidth:"100%",checkmark:!0,keyboard:"text",dropdownOptions:{storeSelected:!1,lockScroll:!1},choices:null}}}(this)({});k._construct=function(){null==this._value&&(this._value="");this.state.typing=!1;this.cursor={prev:0,current:0};if(!this.settings.mask){var a=this.settings,b;a:{switch(this.settings.keyboard){case "number":case "phone":case "tel":b="1+";break a;case "email":b="*+@*+.aa+";break a}b=void 0}a.mask=b}this.settings.mask&&(this.mask=new f(this.settings.mask,this.settings.maskPlaceholder,
this.settings.maskGuide))};k._getValue=function(){return this._value};k._setValue=function(a){if(h.string(a)||h.number(a))return this._value=a};k._createElements=function(){var a,b;a={relatedInstance:this,styleAfterInsert:!0};this.el=this._templates.field.spawn(this.settings.templates.field,a);this.settings.choices&&(this.dropdown=new r(this.settings.choices,this),this.dropdown.appendTo(this.el.child.innerwrap));this.settings.icon&&(h.string(this.settings.icon)&&(b=this.settings.icon),this._templates.icon.spawn(this.settings.templates.icon,
a,b).insertBefore(this.el.child.input));this.settings.checkmark&&this._templates.checkmark.spawn(this.settings.templates.checkmark,a).insertAfter(this.el.child.input);this.el.child.input.prop("type",function(){switch(this.settings.keyboard){case "number":case "tel":case "phone":return"tel";case "password":return"password";case "url":return"url";default:return"text"}}.call(this));this.el.state("hasLabel",this.settings.label);this.el.child.innerwrap.raw._quickField=this.el.child.input.raw._quickField=
this};k._attachBindings=function(){this._attachBindings_elState();this._attachBindings_display();this._attachBindings_display_autoWidth();this._attachBindings_value();this._attachBindings_autocomplete();this._attachBindings_stateTriggers()};k._attachBindings_elState=function(){a("visible").of(this.state).to(function(a){return function(b){return a.el.state("visible",b)}}(this));a("hovered").of(this.state).to(function(a){return function(b){return a.el.state("hover",b)}}(this));a("focused").of(this.state).to(function(a){return function(b){return a.el.state("focus",
b)}}(this));a("filled").of(this.state).to(function(a){return function(b){return a.el.state("filled",b)}}(this));a("disabled").of(this.state).to(function(a){return function(b){return a.el.state("disabled",b)}}(this));a("showLabel").of(this.state).to(function(a){return function(b){return a.el.state("showLabel",b)}}(this));a("showError").of(this.state).to(function(a){return function(b){return a.el.state("showError",b)}}(this));a("showHelp").of(this.state).to(function(a){return function(b){return a.el.state("showHelp",
b)}}(this));a("valid").of(this.state).to(function(a){return function(b){a.el.state("valid",b);return a.el.state("invalid",!b)}}(this))};k._attachBindings_display=function(){a("showError",{updateOnBind:!1}).of(this.state).to(function(a){return function(b,c){switch(!1){case !h.string(b):return a.state.help=b;case !h.string(c):return a.state.help=a.settings.help}}}(this));a("label").of(this.state).to("text").of(this.el.child.label).and.to("showLabel").of(this.state);a("help").of(this.state).to("text").of(this.el.child.help);
a("placeholder").of(this.state).to("text").of(this.el.child.placeholder).transform(function(a){return function(b){switch(!1){case !(!0===b&&a.settings.label):return a.settings.label;case !h.string(b):return b;default:return""}}}(this))};k._attachBindings_display_autoWidth=function(){a("width",{updateEvenIfSame:!0}).of(this.state).to(function(a){return function(b){return(a.settings.autoWidth?a.el.child.input:a.el).style({width:b})}}(this));this.settings.autoWidth&&a("_value",{updateEvenIfSame:!0,updateOnBind:!1}).of(this).to("width").of(this.state).transform(function(a){return function(){return a._getInputAutoWidth()+
"px"}}(this)).updateOn("event:inserted").of(this)};k._attachBindings_value=function(){a("value").of(this.el.child.input.raw).transformSelf(function(a){return function(b){a.mask&&(a.mask.setValue(b),a.cursor.current=a.selection().start,b=a.mask.valueRaw?a.mask.value:"");return b}}(this));a("_value").of(this).to("value").of(this.el.child.input.raw).bothWays().and.to("valueRaw").of(this).transform(function(a){return function(b){return a.mask?a.mask.valueRaw:b}}(this));a("valueRaw").of(this).to(function(a){return function(b){a.state.filled=
!!b;b&&(a.state.interacted=!0);a.state.valid=a.validate();return a.emit("input")}}(this));this.settings.mask&&(a("value",{updateEvenIfSame:!0}).of(this.el.child.input.raw).to(function(a){return function(b){if(a.state.focused)return a._scheduleCursorReset()}}(this)),a("event:keydown").of(this.el.child.input).to(function(a){return function(b){b=a.selection().start;return a.selection({start:b+1,end:b+1})}}(this)).condition(function(a){return function(b){var c;c=a.selection();return a._value&&c.start===
c.end&&b.keyCode!==y["delete"]&&!y.anyArrow(b.keyCode)&&a.mask.isLiteralAtPos(c.start)&&!a.mask.isRepeatableAtPos(c.start)}}(this)))};k._attachBindings_autocomplete=function(){this.dropdown&&(a("typing",{updateEvenIfSame:!0}).of(this.state).to(function(b){return function(c){if(c){if(b.valueRaw)return b.dropdown.isOpen=!0,a("event:click").of(document).once.to(function(){return b.dropdown.isOpen=!1}).condition(function(a){return!l(a.target).parentMatching(function(a){return a===b.el.child.innerwrap})})}else return setTimeout(function(){return b.dropdown.isOpen=
!1},300)}}(this)),a("valueRaw",{updateOnBind:!1}).of(this).to(function(a){return function(c){var e,g,f,h,k;h=a.dropdown.options;e=0;for(g=h.length;e<g;e++)f=h[e],k=c?b.fuzzyMatch(c,f.value):!0,f.visible!==k&&(f.visible=k);a.dropdown.isOpen&&!c&&(a.dropdown.isOpen=!1)}}(this)),this.dropdown.onSelected(function(a){return function(b){a._value=b.label;b.value!==b.label&&(a.valueRaw=b.value);a.dropdown.isOpen=!1;return a.selection(a.el.child.input.raw.value.length)}}(this)))};k._attachBindings_stateTriggers=
function(){a("event:mouseenter").of(this.el.child.input).to(function(a){return function(){return a.state.hovered=!0}}(this));a("event:mouseleave").of(this.el.child.input).to(function(a){return function(){return a.state.hovered=!1}}(this));a("event:focus").of(this.el.child.input).to(function(a){return function(){a.state.focused=!0;if(a.state.disabled)return a.blur()}}(this));a("event:blur").of(this.el.child.input).to(function(a){return function(){return a.state.typing=a.state.focused=!1}}(this));a("event:input").of(this.el.child.input).to(function(a){return function(){return a.state.typing=
!0}}(this));a("event:keydown").of(this.el.child.input).to(function(a){return function(){return a.cursor.prev=a.selection().end}}(this))};k._scheduleCursorReset=function(){var a,e;b.getIndexOfFirstDiff(this.mask.value,this.mask.prev.value);a=this.cursor.current;e=this.mask.normalizeCursorPos(a,this.cursor.prev);e!==a&&this.selection(e)};k._getInputAutoWidth=function(){var a,b;this._value?(this.el.child.input.style("width",0),this.el.child.input.raw.scrollLeft=1E10,a=Math.max(this.el.child.input.raw.scrollLeft+
this.el.child.input.raw.offsetWidth,this.el.child.input.raw.scrollWidth)+2,b=this.settings.label&&"absolute"===this.el.child.label.styleSafe("position")?this.el.child.label.rect.width:0):(a=this.el.child.placeholder.rect.width,b=0);return Math.min(this._getMaxWidth(),Math.max(a,b))};k._getMaxWidth=function(){var a,e;"number"===typeof this.settings.maxWidth?a=this.settings.maxWidth:"string"===typeof this.settings.maxWidth&&(a=parseFloat(this.settings.maxWidth),b.includes(this.settings.maxWidth,"%")&&
((e=this.el.parent)?(e=e.styleParsed("width")-e.styleParsed("paddingLeft")-e.styleParsed("paddingRight")-2,a=a/100*e):a=0));return a||Infinity};k.validate=function(a){var b;null==a&&(a=this._value);switch(!1){case !(this.settings.validWhenRegex&&h.regex(this.settings.validWhenRegex)):return this.settings.validWhenRegex.test(a);case !(this.settings.validWhenIsChoice&&null!=(b=this.settings.choices)&&b.length):return b=this.settings.choices.filter(function(b){return b.value===a}),!!b.length;case !this.mask:return this.mask.validate(a);
default:return!!a}};k.selection=function(a){var b,c;h.object(a)?(c=a.start,b=a.end):c=a;if(null!=c){if(!b||b<c)b=c;this.el.child.input.raw.setSelectionRange(c,b)}else return{start:this.el.child.input.raw.selectionStart,end:this.el.child.input.raw.selectionEnd}};k.focus=function(){return this.el.child.input.raw.focus()};k.blur=function(){return this.el.child.input.raw.blur()};return k};l[18]=function(k){var l;return k=l={"delete":8,enter:13,esc:27,ctrl:17,alt:18,shift:16,"super":91,super2:93,up:38,
left:37,right:39,down:40,anyArrow:function(k){return k===l.up||k===l.down||k===l.left||k===l.right},anyModifier:function(k){return k===l.ctrl||k===l.alt||k===l.shift||k===l["super"]||k===l.super2}}};l[24]=function(k){var l,r,h,y;y=p(1);r=p(2);l=p(3);h=p(45);k=Object.create(null);k._templates=function(f){return function(a){l=p(3);a=p(15);return a={field:l.template(["div",{ref:"field",style:{position:"relative",display:"none",width:function(a){return a.state.width},boxSizing:"border-box",fontFamily:function(a){return a.settings.fontFamily},
$visible:{$hasVisibleOptions:{display:"inline-block"}},$showError:{animation:"0.2s fieldErrorShake"}}},["div",{ref:"label",style:{display:"none",marginBottom:"12px",fontFamily:"inherit",fontSize:"13px",fontWeight:600,textAlign:"left",color:a.black,cursor:"default",pointerEvents:"none",userSelect:"none",$showLabel:{display:"block"},$showError:{color:a.red}}}],["div",{ref:"innerwrap",style:{position:"relative",boxSizing:"border-box",fontFamily:"inherit"}}],["div",{ref:"help",style:{marginTop:"10px",
fontFamily:"inherit",fontSize:"11px",color:a.grey,display:"none",$showError:{color:a.red,display:"block"},$showHelp:{display:"block"}}}]]),choiceGroup:l.template(["div",{ref:"choiceGroup",style:{marginBottom:function(a){return a.settings.spacing},userSelect:"none",fontSize:"0",whiteSpace:"nowrap"}}]),choice:l.template(["div",{ref:"choice",style:{position:"relative",display:"inline-block",width:"auto",marginLeft:function(a){if(this.index)return"calc(100% - (100% - "+a.settings.spacing+"px))"},padding:"0 12px",
borderRadius:"2px",backgroundColor:"white",fontFamily:"inherit",textAlign:"center",color:a.black,boxSizing:"border-box",verticalAlign:"top",cursor:"pointer",$definedWidth:{width:function(a){return"calc((100% - "+a.settings.spacing*(a.settings.perGroup-1)+"px) / "+a.settings.perGroup+")"}},$selected:{color:a.orange},$unavailable:{display:"none"}}},["div",{ref:"border",style:{position:"absolute",zIndex:2,top:"0",left:"0",width:"100%",height:"100%",borderWidth:"1px",borderStyle:"solid",borderColor:a.grey_light,
borderRadius:"2px",boxSizing:"border-box",$selected:{borderColor:"inherit",borderWidth:"2px"},$disabled:{backgroundColor:a.grey_light}}}],["div",{ref:"label",style:{position:"relative",display:"block",padding:"15px 0px",fontFamily:"inherit",fontSize:"14px",fontWeight:"500"}}]]),choiceIcon:l.template(["div",{ref:"icon",style:{position:"absolute",top:"50%",display:"block",fontSize:"20px",opacity:.16,transform:"translateY(-50%)"}}])}}}(this)({});k._defaults=function(f){return function(a){return{validWhenSelected:!1,
validWhenIsChoice:!1,showSelectAll:!1,perGroup:7,spacing:8,choices:[]}}}(this)({});k._construct=function(){var f;if(null==(f=this.settings.choices)||!f.length)throw Error("Choices were not provided for choice field '"+(this.settings.label||this.ID)+"'");this._value=this.settings.multiple?[]:null;this.lastSelected=null;this.visibleOptionsCount=0;this.choices=this.settings.choices;this.settings.perGroup=Math.min(this.settings.perGroup,this.choices.length+(this.settings.multiple&&this.settings.showSelectAll?
1:0))};k._getValue=function(){var f;return this.settings.multiple?this._value.map(function(a){return a.value}):null!=(f=this._value)?f.value:void 0};k._setValue=function(f){var a,b,c;if(this.settings.multiple)for(r.array(f)||(f=[].concat(f)),a=0,b=f.length;a<b;a++)c=f[a],this.setOptionFromString(c);else this.setOptionFromString(f)};k._createElements=function(){var f,a,b;a={relatedInstance:this,styleAfterInsert:!0};this.el=this._templates.field.spawn(this.settings.templates.field,a);f=this.settings.choices;
b=this.settings.perGroup;Array(Math.ceil(f.length/b)).fill().map(function(a,e){return f.slice(e*b,e*b+b)}).forEach(function(b){return function(c,m){var g;g=b._templates.choiceGroup.spawn(b.settings.templates.choiceGroup,a).appendTo(b.el.child.innerwrap);return c.forEach(function(c,e){var f;c.el=b._templates.choice.spawn(b.settings.templates.choice,a).appendTo(g);c.icon&&(f=b._templates.choiceIcon.spawn(b.settings.templates.choiceIcon,a).insertBefore(c.child.label),f.text=c.icon);c.index=e;c.el.index=
e;c.el.totalIndex=e*m;c.el.prop("title",c.label);c.el.child.label.text=c.label;c.visible=!0;c.selected=!1;return c.unavailable=!1})}}(this));this.el.child.innerwrap.raw._quickField=this};k._attachBindings=function(){this._attachBindings_elState();this._attachBindings_stateTriggers();this._attachBindings_display();this._attachBindings_value();this._attachBindings_choices()};k._attachBindings_elState=function(){h("visible").of(this.state).to(function(f){return function(a){return f.el.state("visible",
a)}}(this));h("hovered").of(this.state).to(function(f){return function(a){return f.el.state("hover",a)}}(this));h("filled").of(this.state).to(function(f){return function(a){return f.el.state("filled",a)}}(this));h("disabled").of(this.state).to(function(f){return function(a){return f.el.state("disabled",a)}}(this));h("showLabel").of(this.state).to(function(f){return function(a){return f.el.state("showLabel",a)}}(this));h("showError").of(this.state).to(function(f){return function(a){return f.el.state("showError",
a)}}(this));h("showHelp").of(this.state).to(function(f){return function(a){return f.el.state("showHelp",a)}}(this));h("valid").of(this.state).to(function(f){return function(a){f.el.state("valid",a);return f.el.state("invalid",!a)}}(this))};k._attachBindings_stateTriggers=function(){h("event:mouseenter").of(this.el).to(function(f){return function(){return f.state.hovered=!0}}(this));h("event:mouseleave").of(this.el).to(function(f){return function(){return f.state.hovered=!1}}(this))};k._attachBindings_display=
function(){h("width").of(this.state).to(function(f){return function(a){return f.el.style("width",a).state("definedWidth","auto"!==a)}}(this));h("showError",{updateOnBind:!1}).of(this.state).to(function(f){return function(a,b){switch(!1){case !r.string(a):return f.state.help=a;case !r.string(b):return f.state.help=f.settings.help}}}(this));h("label").of(this.state).to("text").of(this.el.child.label).and.to("showLabel").of(this.state);h("help").of(this.state).to("text").of(this.el.child.help);h("visibleOptionsCount").of(this).to(function(f){return function(a){return f.el.state("hasVisibleOptions",
!!a)}}(this))};k._attachBindings_value=function(){h("_value").of(this).to(function(f){return function(a){f.state.filled=!(null==a||!a.length);f.state.filled&&(f.state.interacted=!0);return f.state.valid=f.validate()}}(this));h("array:_value",{updateOnBind:!1}).of(this).to(function(f){return function(){return f.emit("input")}}(this));h("lastSelected",{updateOnBind:!1,updateEvenIfSame:!0}).of(this).to(function(f){return function(a,b){if(f.settings.multiple){if(a.selected)return a.selected=!1,y.removeItem(f._value,
a);a.selected=!0;return f._value.push(a)}if(a!==b)return a.selected=!0,null!=b&&(b.selected=!1),f._value=a}}(this))};k._attachBindings_choices=function(){this.choices.forEach(function(f){return function(a){var b;h("visible").of(a).to(function(b){return a.el.state("visible",b)}).and.to(function(a){return f.visibleOptionsCount+=a?1:-1});h("selected",{updateOnBind:!1}).of(a).to(function(b){return a.el.state("selected",b)});h("unavailable",{updateOnBind:!1}).of(a).to(function(b){return a.el.state("unavailable",
b)}).and.to(function(){return f.lastSelected=a}).condition(function(b){return b&&f.settings.multiple&&a.selected});h("event:click",{listenMethod:"on"}).of(a.el).to(function(){return f.lastSelected=a});if(null!=(b=a.conditions)&&b.length)return a.unavailable=!0,a.allFields=f.allFields,y.initConditions(a,a.conditions,function(){return a.unavailable=!y.validateConditions(a.conditions)})}}(this))};k.validate=function(f){null==f&&(f=this._value);this.settings.multiple?(r.array(f)||(f=[].concat(f)),r.object(f[0])||
(f=f.map(function(a){return a.value}))):r.object(f)&&(f=f.value);switch(!1){case "number"!==typeof this.settings.validWhenSelected:return(null!=f?f.length:void 0)>=this.settings.validWhenSelected;case !this.settings.validWhenIsChoice:return this.settings.multiple?y.includes(f,this.settings.validWhenIsChoice):f===this.settings.validWhenIsChoice;default:return!(null==f||!f.length)}};k.findChoice=function(f,a){return this.choices.filter(function(b){return f===(a?b.label:b.value)})[0]};k.findChoiceAny=
function(f){return this.findChoice(f)||this.findChoice(f,!0)};k.setOptionFromString=function(f,a){var b;if((b=this.findChoiceAny(f,a))&&b!==this.lastSelected&&(!this.settings.multiple||!y.includes(this._value,b)))return this.lastSelected=b};return k};l[25]=function(k){var l,r;r=p(4);p(45);l=p(24);k=Object.create(null);k._templates=function(h){return function(h){r=p(4);l=p(24);return h=r.clone.transform(function(f){return f.extend()})(l._templates)}}(this)({});k._defaults=function(h){return function(h){return{validWhenSelected:!1,
validWhenIsChoice:!1,validWhenTrue:!0,choiceLabels:["True","False"],choices:[{value:!0},{value:!1}],spacing:8}}}(this)({});r.keys("_createElements _attachBindings _attachBindings_elState _attachBindings_stateTriggers _attachBindings_display _attachBindings_value _attachBindings_choices".split(" "))(k,l);k._construct=function(){this.lastSelected=null;this.visibleOptionsCount=2;this.choices=this.settings.choices;this.choices[0].label=this.settings.choiceLabels[0];this.choices[1].label=this.settings.choiceLabels[1];
this.settings.perGroup=2};k._getValue=function(){return null===this._value?null:0===this._value.index?!0:!1};k._setValue=function(h){if(null===h)this._value=null,null!=(h=this.lastSelected)&&(h.selected=!1);else return"string"===typeof h&&(h=h.toLowerCase(),"false"===h&&(h=!1)),this.lastSelected=h?this.choices[0]:this.choices[1]};k.validate=function(h){null==h&&(h=this._value);"string"===typeof h&&(h=this.findOption(h));switch(!1){case !this.settings.validWhenIsChoice:return h?this.settings.validWhenIsChoice===
h.value:!1;case !this.settings.validWhenSelected:return!!h;case !this.settings.validWhenTrue:return 0===(null!=h?h.index:void 0);default:return!1}};return k};l[30]=function(k){var l,r,h,y,f;l=p(2);h=p(45);r=p(18);f=p(1);y=p(4);k=function(a,b){this.options=a;this.field=b;this.isOpen=!1;this.settings=y.deep.clone.keys(this._defaults).filter(this._settingFilters)(this._defaults,this.field.settings.dropdownOptions);this.selected=this.settings.multiple?[]:null;this.currentHighlighted=this.lastSelected=
null;this.visibleOptionsCount=0;this.visibleOptions=[];this.els={};this._selectedCallback=f.noop;this._createElements();this._attachBindings();return this};k.prototype._templates=function(a){return function(a){var b,e;a=p(3);b=p(12);f=p(1);e=p(16);return a={container:a.template(["div",{ref:"dropdown",style:{position:"absolute",zIndex:10,overflow:"hidden",top:function(a){return"text"===a.field.type?this.parent.raw.style.height:"-7px"},left:function(){return 0>this.parent.rect.left-5?0:-5},display:"none",
backgroundColor:"#f6f6f6",boxShadow:"0px 6px 10px "+f.hexToRGBA("000000",.32),borderWidth:"1px",borderStyle:"solid",borderColor:"#d1d1d1",borderRadius:"5px",boxSizing:"border-box",padding:"4px 0",$isOpen:{$hasVisibleOptions:{display:"block"}}}}]),list:a.template(["div",{ref:"list",passStateToChildren:!1,style:{position:"relative",overflow:"scroll",overflowScrolling:"touch"}}]),option:a.template(["div",{style:{display:"none",fontSize:"0",color:"#000000",userSelect:"none",cursor:"pointer",$visible:{display:"block"},
$hover:{color:"#ffffff",backgroundColor:"#4C96FF"}}},a.template(["div",{style:{display:"inline-block",verticalAlign:"top",width:"20px",lineHeight:"20px",fontSize:"13px",textAlign:"center",color:"inherit",stroke:"currentColor",visibility:"hidden",$selected:{visibility:"visible"}}},b.checkmark]),a.template(["div",{style:{display:"inline-block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",wordWrap:"normal",maxWidth:function(){return"calc(100% - "+this.prev.raw.style.width+")"},paddingRight:"10px",
lineHeight:"20px",fontSize:"11px",fontFamily:e.fontFamily,color:"inherit",boxSizing:"border-box"}}])]),scrollIndicatorUp:a.template(["div",{ref:"scrollIndicatorUp",style:{position:"absolute",top:0,left:0,display:"none",width:"100%",height:"20px",backgroundColor:"#f6f6f6",color:"#000000",textAlign:"center",$visible:{display:"block"}}},["div",{style:{position:"absolute",top:"50%",left:0,right:0,width:"15px",height:"15px",display:"block",margin:"0 auto",transform:"translateY(-50%)"}},b.caretUp]]),scrollIndicatorDown:a.template(["div",
{ref:"scrollIndicatorDown",style:{position:"absolute",bottom:0,left:0,display:"none",width:"100%",height:"20px",backgroundColor:"#f6f6f6",color:"#000000",textAlign:"center",$visible:{display:"block"}}},["div",{style:{position:"absolute",top:"50%",left:0,right:0,width:"15px",height:"15px",display:"block",margin:"0 auto",transform:"translateY(-50%)"}},b.caretDown]]),help:a.template(["div",{ref:"help",style:{display:"none",borderTop:"2px solid rgba(0,0,0,0.05)",padding:"4px 12px 1px",color:"rgba(0,0,0,0.5)",
fontWeight:"500",fontSize:"11px",userSelect:"none",$showHelp:{display:"block"}}}])}}}(this)({});k.prototype._defaults=function(a){return function(a){return{maxHeight:300,multiple:!1,storeSelected:!0,lockScroll:!0,help:"",templates:{}}}}(this)({});k.prototype._settingFilters={maxHeight:function(a){return l.number(a)}};k.prototype._createElements=function(){var a;a={relatedInstance:this,styleAfterInsert:!0};this.els.container=this._templates.container.spawn(this.settings.templates.container,y({passStateToChildren:!1},
a));this.els.list=this._templates.list.spawn(this.settings.templates.list,a).appendTo(this.els.container);this.els.help=this._templates.help.spawn(this.settings.templates.help,a).appendTo(this.els.container);this.els.scrollIndicatorUp=this._templates.scrollIndicatorUp.spawn(this.settings.templates.scrollIndicatorUp,a).appendTo(this.els.container);this.els.scrollIndicatorDown=this._templates.scrollIndicatorDown.spawn(this.settings.templates.scrollIndicatorDown,a).appendTo(this.els.container);this.options.forEach(function(b){return function(c){c.el=
b._templates.option.spawn({options:{props:{title:c.label}}},a).appendTo(b.els.list);c.el.children[1].text=c.label;c.visible=!0;c.selected=!1;return c.unavailable=!1}}(this))};k.prototype._attachBindings=function(){h("help").of(this.settings).to("text").of(this.els.help).and.to(function(a){return function(b){return a.els.help.state("showHelp",b)}}(this));h("visibleOptionsCount").of(this).to(function(a){return function(b){return a.els.container.state("hasVisibleOptions",!!b)}}(this));h("isOpen",{updateOnBind:!1}).of(this).to(function(a){return function(b){a.els.container.state("isOpen",
b);b||(a.currentHighlighted=null);a.settings.lockScroll&&(b?f.lockScroll(a.els.list):f.unlockScroll());if(b)return a.list_setMaxHeight(),a.list_scrollToSelected()}}(this));h("lastSelected",{updateOnBind:!1,updateEvenIfSame:!0}).of(this).to(function(a){return function(b,c){a.settings.storeSelected&&(a.settings.multiple?b.selected?(b.selected=!1,f.removeItem(a.selected,b)):(b.selected=!0,a.selected.push(b)):(b.selected=!0,b!==c&&null!=c&&(c.selected=!1),a.selected=b));return a._selectedCallback(b,c)}}(this));
h("currentHighlighted").of(this).to(function(a){return function(a,c){c&&c.el.state("hover",!1);if(a)return a.el.state("hover",!0)}}(this));h("focused",{updateOnBind:!1}).of(this.field.state).to(function(a){return function(b){return b?a.field.el.child.input.on("keydown.dropdownNav",function(b){if(a.isOpen)switch(b.keyCode){case r.up:return b.preventDefault(),a.highlightPrev();case r.down:return b.preventDefault(),a.highlightNext();case r.enter:return b.preventDefault(),a.selectHighlighted();case r.esc:return b.preventDefault(),
a.isOpen=!1}}):a.field.el.child.input.off("keydown.dropdownNav")}}(this));h("scrollTop",{updateEvenIfSame:!0}).of(this.els.list.raw).to(function(a){return function(b){var c;c=a.els.list.raw.scrollHeight-a.els.list.raw.clientHeight>b;a.els.scrollIndicatorUp.state("visible",0<b);return a.els.scrollIndicatorDown.state("visible",c)}}(this)).condition(function(a){return function(){return a.isOpen&&!a.settings.help&&a.els.list.raw.scrollHeight!==a.els.list.raw.clientHeight&&100<=a.els.list.raw.clientHeight}}(this)).updateOn("event:scroll").of(this.els.list.raw).updateOn("isOpen").of(this);
this.els.scrollIndicatorUp.on("mouseenter",function(a){return function(){return a.list_startScrolling("up")}}(this));this.els.scrollIndicatorUp.on("mouseleave",function(a){return function(){return a.list_stopScrolling()}}(this));this.els.scrollIndicatorDown.on("mouseenter",function(a){return function(){return a.list_startScrolling("down")}}(this));this.els.scrollIndicatorDown.on("mouseleave",function(a){return function(){return a.list_stopScrolling()}}(this));return this.options.forEach(function(a){return function(b,
c){var e;b.index=c;h("visible").of(b).to(function(b){return a.visibleOptionsCount+=b?1:-1}).and.to(function(c){b.el.state("visible",c);return c?(a.visibleOptions.push(b),a.visibleOptions.sort(function(a,b){return a.index-b.index})):f.removeItem(a.visibleOptions,b)});h("selected",{updateOnBind:!1}).of(b).to(function(a){return b.el.state("selected",a)});h("unavailable",{updateOnBind:!1}).of(b).to(function(a){return b.el.state("unavailable",a)}).and.to(function(){return a.lastSelected=b}).condition(function(c){return c&&
a.settings.multiple&&b.selected});h("event:click").of(b.el).to(function(){return a.lastSelected=b});h("event:mouseenter").of(b.el).to(function(){return a.currentHighlighted=b});if(null!=(e=b.conditions)&&e.length)return b.unavailable=!0,b.allFields=a.field.allFields,f.initConditions(b,b.conditions,function(){return b.unavailable=!f.validateConditions(b.conditions)})}}(this))};k.prototype.appendTo=function(a){return this.els.container.appendTo(a)};k.prototype.onSelected=function(a){return this._selectedCallback=
a};k.prototype.findOption=function(a,b){return this.options.filter(function(c){return a===(b?c.label:c.value)})[0]};k.prototype.findOptionAny=function(a){return this.findOption(a)||this.findOption(a,!0)};k.prototype.getLabelOfOption=function(a){var b;return(null!=(b=this.options.filter(function(b){return a===b.value})[0])?b.label:void 0)||""};k.prototype.setOptionFromString=function(a,b){var c;if((c=this.findOptionAny(a,b))&&c!==this.lastSelected&&(!this.settings.multiple||!f.includes(this.selected,
c)))return this.lastSelected=c};k.prototype.highlightPrev=function(){var a;a=this.visibleOptions.indexOf(this.currentHighlighted);return 0<a?this.currentHighlighted=this.visibleOptions[a-1]:this.currentHighlighted=this.visibleOptions[this.visibleOptions.length-1]};k.prototype.highlightNext=function(){var a;a=this.visibleOptions.indexOf(this.currentHighlighted);return a<this.visibleOptions.length-1?this.currentHighlighted=this.visibleOptions[a+1]:this.currentHighlighted=this.visibleOptions[0]};k.prototype.selectHighlighted=
function(){if(this.currentHighlighted)return this.lastSelected=this.currentHighlighted};k.prototype.list_setMaxHeight=function(){var a,b,c,e;e=this.settings.maxHeight;if(a=this.els.container.parentMatching(function(a){a=a.style("overflowY");return"hidden"===a||"scroll"===a}))c=this.els.container.rect,b=a.rect,a=c.top+this.settings.maxHeight-b.bottom,c.top>=b.bottom?console.warn("The dropdown for element '"+this.field.ID+"' cannot be displayed as it's hidden by the parent overflow"):0<a&&(c=c.height-
this.els.list.rect.height,e=a-c);this.els.list.style("maxHeight",e);return this.els.list.style("minWidth",this.field.el.child.innerwrap.width+10)};k.prototype.list_scrollToSelected=function(){var a,b;if(this.selected&&!this.settings.multiple)return a=this.selected.el.raw.offsetTop,b=this.selected.el.raw.clientHeight,this.els.list.raw.scrollTop=a-3*b};k.prototype.list_startScrolling=function(a){return this.scrollIntervalID=setInterval(function(b){return function(){return b.els.list.raw.scrollTop+=
"up"===a?-20:20}}(this),50)};k.prototype.list_stopScrolling=function(){return clearInterval(this.scrollIntervalID)};return k};l[45]=function(k){var l={exports:k};(function(){var k,h,p,f,a,b,c,e,m,g,u,B,n,w,A,z,D,x,G,F,S,E,Y,J,K,q,d,t,T,ia,P,L,ja,Z,aa,ka,U,ba,la,H,N,ma,ca,na,V,W,da,ea,oa,fa,ga,pa,I,C,Q,qa,O,ra;ia=0;S="push pop shift unshift splice reverse sort".split(" ");ja={};E={};da=["{{","}}"];I=Object.create({silent:!1},{placeholder:{get:function(){return da},set:function(a){q.isArray(a)&&2===
a.length&&(da=a,ga())}}});P={delay:!1,throttle:!1,simpleSelector:!1,promiseTransforms:!1,dispatchEvents:!1,sendArrayCopies:!1,updateEvenIfSame:!1,updateOnBind:!0};L=Object.defineProperty;ca=Object.getOwnPropertyDescriptor;J=null;K=function(){var a;J||(a=J=document.createEvent("Event"),a.initEvent("change",!0,!1),a._sb=!0);return J};oa=!("className"in Element.prototype)||!ca(Element.prototype,"className").get;ra="innerWidth innerHeight outerWidth outerHeight scrollX scrollY pageXOffset pageYOffset screenX screenY screenLeft screenTop".split(" ");
pa=function(a,b){return this.updateAllSubs(b||this)};la=function(){return""+ ++ia};H=function(){return Object.create(null)};N=function(a,b){return function(v,c,g){return x(v,c,g,a,b)}};ma=function(a,b){return a.selfUpdater||(a.selfUpdater=new k(function(){return b?a.setValue(a.fetchDirectValue(),a,!0):a.updateAllSubs(a)},"Func",{}))};C=function(a,b){return a&&-1!==a.indexOf(b)};q={isDefined:function(a){return void 0!==a},isArray:function(a){return a instanceof Array},isObject:function(a){return"object"===
typeof a&&a},isString:function(a){return"string"===typeof a},isNumber:function(a){return"number"===typeof a},isFunction:function(a){return"function"===typeof a},isBindingInterface:function(a){return a instanceof h},isBinding:function(a){return a instanceof k},isIterable:function(a){return q.isObject(a)&&q.isNumber(a.length)},isDom:function(a){return a.nodeName&&1===a.nodeType},isDomInput:function(a){a=a.nodeName;return"INPUT"===a||"TEXTAREA"===a||"SELECT"===a},isDomRadio:function(a){return"radio"===
a.type},isDomCheckbox:function(a){return"checkbox"===a.type},isElCollection:function(a){return a instanceof NodeList||a instanceof HTMLCollection||window.jQuery&&a instanceof jQuery},domElsAreSame:function(a){var b;b=a[0].type;return[].filter.call(a,function(a){return a.type===b}).length===a.length},isDomNode:function(a){return q.isDom(a)||a===window||a===document}};ba=function(a,b,c){var v;if(v=ca(a,b))return c&&(v.configurable=!0),v;if(a=Object.getPrototypeOf(a))return ba(a,b,!0)};t=function(a,
b,c){var v,g,d,e,f,m;a.origDescriptor||(a.origDescriptor=ba(b,a.property));c?S.forEach(function(c){return L(b,c,{configurable:!0,value:function(){var v;v=Array.prototype[c].apply(b,arguments);a.updateAllSubs(a);return v}})}):"Proxy"===a.type?(g=a.origFn=a.value,a.value={result:null,args:null},q.isFunction(g)&&(m=[].slice,v=d=function(){var c;c=m.call(arguments);a.value.args=c=a.selfTransform?a.selfTransform(c):c;a.value.result=c=g.apply(b,c);a.updateAllSubs(a);return c},L(b,a.property,{configurable:a.isLiveProp=
!0,get:function(){return v},set:function(b){q.isFunction(b)?b!==g&&(b!==d&&(g=a.origFn=b),v!==d&&(v=d)):v=b}}))):C(a.type,"DOM")||a.object===window&&C(ra,a.property)||(c=a.origDescriptor||ja,c.get&&(a.origGetter=c.get.bind(b)),c.set&&(a.origSetter=c.set.bind(b)),f=(f=c.configurable)&&b.constructor!==CSSStyleDeclaration,oa&&a.isDom&&a.property in b.cloneNode(!1)&&(a.origDescriptor=f=!1,a.isLiveProp=!0,a.origGetter=function(){return a.object[a.property]},a.origSetter=function(b){return a.object[a.property]=
b}),f&&(f="Array"===a.type,e=!a.origSetter&&!f,L(b,a.property,{configurable:a.isLiveProp=!0,enumerable:c.enumerable,get:a.origGetter||function(){return a.value},set:function(b){a.setValue(b,a,e)}}),f&&t(a,b[a.property],!0)))};T=function(a,b,c){var v,g;if(c){g=[];a=0;for(c=S.length;a<c;a++)v=S[a],g.push(delete b[v]);return g}c=a.origDescriptor;c.set||c.get||(c.value=a.origFn||a.value);return L(b,a.property,c)};d=function(a){var b,c;b=H();for(c in a)b[c]=a[c];return b};U=function(a,b){var c,v,g,d;d=
Object.keys(b);c=0;for(g=d.length;c<g;c++)v=d[c],a[v]=b[v]};Y={get:function(a,b,c,g){if(b)return E[a._sb_ID];if(g&&a[0]._sb_map&&(b=E[a[0]._sb_map[c]],b.groupBinding))return b.groupBinding;if(a._sb_map&&a._sb_map[c])return E[a._sb_map[c]]},set:function(a,b){var c,v;b?L(a.object,"_sb_ID",{configurable:!0,value:a.ID}):(v=a.selector,a.object._sb_map?a.object._sb_map[v]=a.ID:(c={},c[v]=a.ID,L(a.object,"_sb_map",{configurable:!0,value:c})))}};aa=/[.*+?^${}()|[\]\\]/g;V=W=null;ga=function(){var a,b,c;c=
I.placeholder[0].replace(aa,"\\$&");a=I.placeholder[1].replace(aa,"\\$&");b="[^"+a+"]+";V=new RegExp(c+"("+b+")"+a,"g");W=new RegExp(""+c+b+a,"g")};ga();F=function(a,b,c){var v,g,d,e,f;f="";g=d=0;for(e=a.length;d<e;g=++d)v=a[g],f+=v,c[g]&&(f+=b[c[g]]);return f};G=function(a,b,c){null==a[c]&&(a[c]=[]);a[c].push(b)};fa=function(a,b){var c,v,g,d,e,f,m,h,k,ha,l;c=Array.prototype.slice.call(a.childNodes);g=0;for(e=c.length;g<e;g++)if(k=c[g],3!==k.nodeType)fa(k,b);else if(k.textContent.match(W))if(l=k.textContent.split(V),
3===l.length&&""===l[0]+l[2])G(b,k,l[1]);else{m=document.createDocumentFragment();v=d=0;for(f=l.length;d<f;v=++d)ha=l[v],h=m.appendChild(document.createTextNode(ha)),v%2&&G(b,h,ha);k.parentNode.replaceChild(m,k)}};Q=function(a){throw Error("SimplyBind: "+(Z[a]||a));};O=function(a,b){var c,v;I.silent||(c=na(b),v=Z[a],console.warn("SimplyBind: "+(v+("\n\n"+c))))};qa=function(a){Q("Invalid argument/s ("+a+")",!0)};na=function(a){return(Error().stack||"").split("\n").slice(a+3).join("\n")};Z={invalidParamName:"SimplyBind() and .to() only accept a function, an array, a bound object, a string, or a number.",
fnOnly:"Only functions are allowed for .transform/.condition/All()",badEventArg:"Invalid argument number in .ofEvent()",emptyList:"Empty collection provided",onlyOneDOMElement:"You can only pass a single DOM element to a binding",mixedElList:"'checked' of Mixed list of element cannot be bound"};x=function(a,b,c,g,d){if(!a&&0!==a||!(q.isString(a)||q.isNumber(a)||q.isFunction(a)||a instanceof Array))q.isBindingInterface(a)||Q("invalidParamName");!q.isObject(a)||a instanceof Array?(b=new h(b),b.saveOptions=
c,b.isSub=g,b.completeCallback=d,a=q.isFunction(a)?b.setObject(a,!0):b.setProperty(a)):a=d?d(a):a.selfClone();return a};x.version="1.15.3";x.settings=I;x.defaultOptions=P;x.unBindAll=function(a,b){var c,g,d;if(a&&(q.isObject(a)||q.isFunction(a))&&(q.isIterable(a)&&!a._sb_ID&&a[0]&&q.isDom(a[0])&&(a=a[0]),d=a._sb_map,a._sb_ID&&E[a._sb_ID].removeAllSubs(b),d))for(g in d)c=d[g],E[c].removeAllSubs(b)};k=function(a,b,c){U(this,c);this.optionsDefault=this.saveOptions?this.options:P;this.type=b;this.object=
a;this.ID=la();this.subs=[];this.subsMeta=H();this.pubsMap=H();this.attachedEvents=[];"Proxy"===this.type&&(this.setValue=pa);this.isMultiChoice&&(this.choices=H(),this.object.forEach(function(a){return function(b){var c;c=a.choices[b.value]=x("checked").of(b)._;c.addSub(a);c.subsMeta[a.ID].transformFn=function(){return c};c.groupBinding=a}}(this)));"Event"===this.type||"Func"===this.type&&this.isSub||("Pholder"===this.type?(b=this.descriptor&&!C(this.descriptor,"multi")?this.descriptor+":"+this.property:
this.property,a=this.parentBinding=x(b).of(a)._,a.scanForPholders(),this.value=a.pholderValues[this.pholder],a.textNodes&&(this.textNodes=a.textNodes[this.pholder])):(this.value=a=this.fetchDirectValue(),"ObjectProp"!==this.type||q.isDefined(a)||(this.object[this.property]=a),t(this,this.object)));this.attachEvents();return E[this.ID]=this};k.prototype={addSub:function(a,b,c,g){var e,v,f,m;if(a.isMulti)for(f=a.bindings,a=0,v=f.length;a<v;a++)m=f[a],this.addSub(m,b,c,g);else if(this.subsMeta[a.ID])e=
!0;else{a.pubsMap[this.ID]=this;this.subs.unshift(a);v=this.subsMeta[a.ID]=H();v.updateOnce=c;v.opts=d(b);if(g||"Event"===this.type||"Proxy"===this.type||"Array"===this.type)v.opts.updateEvenIfSame=!0;v.valueRef="Func"===a.type?"valuePassed":"value"}return e},removeSub:function(a,b){var c,g,d,e;if(a.isMulti)for(d=a.bindings,c=0,g=d.length;c<g;c++)e=d[c],this.removeSub(e,b);else this.subsMeta[a.ID]&&(this.subs.splice(this.subs.indexOf(a),1),delete this.subsMeta[a.ID],delete a.pubsMap[this.ID]),b&&
(a.removeSub(this),delete this.pubsMap[a.ID]);0===this.subs.length&&0===Object.keys(this.pubsMap).length&&this.destroy()},removeAllSubs:function(a){var b,c,g,d;g=this.subs.slice();b=0;for(c=g.length;b<c;b++)d=g[b],this.removeSub(d,a)},destroy:function(){var a,b,c,g;delete E[this.ID];this.removePollInterval();if("Event"===this.type)for(g=this.attachedEvents,b=0,c=g.length;b<c;b++)a=g[b],this.unRegisterEvent(a);else"Func"===this.type&&delete this.object._sb_ID;this.isLiveProp&&this.origDescriptor&&
T(this,this.object);"Array"===this.type&&T(this,this.value,!0);this.object._sb_map&&(delete this.object._sb_map[this.selector],0===Object.keys(this.object._sb_map).length&&delete this.object._sb_map)},fetchDirectValue:function(){var a,b,c,g,d;d=this.type;switch(!1){case "Func"!==d:return this.object();case "DOMAttr"!==d:return this.object.getAttribute(this.property)||"";case !this.isMultiChoice:g=[];c=this.choices;for(b in c)if(a=c[b],a.object.checked){if("DOMRadio"===d)return b;g.push(b)}return g;
default:return this.object[this.property]}},setValue:function(a,b,c,g){var d,e,f,m;b||(b=this);this.selfTransform&&(a=this.selfTransform(a));if(!c)switch(this.type){case "ObjectProp":this.isLiveProp?this.isDomInput?g?a!==this.origGetter()&&(d=this.object.selectionStart,this.origSetter(a),d&&this.object.setSelectionRange(d,d)):(this.origSetter(a),I.dispatchEvents&&this.object.dispatchEvent(K())):this.origSetter&&this.origSetter(a):a!==this.value&&(this.object[this.property]=a);break;case "Pholder":g=
this.parentBinding;g.pholderValues[this.pholder]=a;d=F(g.pholderContexts,g.pholderValues,g.pholderIndexMap);if(this.textNodes&&a!==this.value)for(f=this.textNodes,e=0,c=f.length;e<c;e++)m=f[e],m.textContent=a;"textContent"!==this.property&&g.setValue(d,b);break;case "Array":a!==this.value&&(q.isArray(a)||(a=Array.prototype.concat(a)),T(this,this.value,!0),t(this,a=a.slice(),!0),this.origSetter&&this.origSetter(a));break;case "Func":d=this.valuePassed;this.valuePassed=a;a=this.object(a,d);break;case "Event":this.isEmitter=
!0;this.emitEvent(a);this.isEmitter=!1;break;case "DOMRadio":if(this.isMultiChoice)if(g=q.isBinding(a)?a:this.choices[a])for(e in a=g.object.value,d=this.choices,d)c=d[e],c.setValue(c.ID===g.ID,b);else a=this.value;else{a=!!a;if(a===this.value)return;this.object.checked!==a&&(this.object.checked=a);a&&I.dispatchEvents&&this.object.dispatchEvent(K())}break;case "DOMCheckbox":if(this.isMultiChoice){e=!q.isBinding(a);a=[].concat(a);c=g=0;for(f=a.length;g<f;c=++g)m=a[c],a[c]=q.isBinding(m)?m:this.choices[m];
f=[];m=this.choices;for(d in m)c=m[d],g=e?C(a,c):c.value,c.setValue(g,b),g&&f.push(d);a=f}else{a=!!a;if(a===this.value)return;this.object.checked!==a&&(this.object.checked=a,I.dispatchEvents&&this.object.dispatchEvent(K()))}break;case "DOMAttr":this.object.setAttribute(this.property,a)}this.value=a;this.updateAllSubs(b)},updateAllSubs:function(a){var b,c;if(c=(b=this.subs).length)for(;c--;)this.updateSub(b[c],a)},updateSub:function(a,b,c){var g,d,e;if(!(b===a||b!==this&&b.subsMeta[a.ID]||(g=this.subsMeta[a.ID],
g.disallowList&&g.disallowList[b.ID]))){if(g.opts.throttle){c=+new Date;d=c-g.lastUpdate;if(d<g.opts.throttle)return clearTimeout(g.updateTimer),g.updateTimer=setTimeout(function(c){return function(){return c.updateSub(a,b)}}(this),g.opts.throttle-d);g.lastUpdate=c}else if(g.opts.delay&&!c)return setTimeout(function(c){return function(){return c.updateSub(a,b,!0)}}(this),g.opts.delay);c="Array"===this.type&&g.opts.sendArrayCopies?this.value.slice():this.value;d=a[g.valueRef];c=(e=g.transformFn)?e(c,
d,a.object):c;c===d&&!g.opts.updateEvenIfSame||g.conditionFn&&!g.conditionFn(c,d,a.object)||(g.opts.promiseTransforms&&c&&q.isFunction(c.then)?c.then(function(c){a.setValue(c,b)}):a.setValue(c,b),g.updateOnce&&this.removeSub(a))}},addModifierFn:function(a,b,c,g){var d,e,f,m,h;if(q.isFunction(c)){e=0;for(f=b.length;e<f;e++)m=b[e],h=m._||m,h.isMulti?this.addModifierFn(a,h.bindings,c,g):(m=this.subsMeta[h.ID],m[a]=c,g=g&&!m.updateOnce,this.pubsMap[h.ID]&&((d=h.subsMeta[this.ID])[a]||(d[a]=c)),!g&&"Func"!==
this.type||"transformFn"!==a||this.updateSub(h,this));return!0}return O("fnOnly",2)},setSelfTransform:function(a,b){this.selfTransform=a;b&&this.setValue(this.value)},addDisallowRule:function(a,b){var c;(null!=(c=this.subsMeta[a.ID]).disallowList?c.disallowList:c.disallowList=H())[b.ID]=1},scanForPholders:function(){var a;this.pholderValues||(this.pholderValues=H(),this.pholderIndexMap=H(),this.pholderContexts=[],q.isString(this.value)&&(this.pholderContexts=this.value.split(W),a=0,this.value=this.value.replace(V,
function(b){return function(c,g){b.pholderIndexMap[a++]=g;return b.pholderValues[g]=g}}(this))),this.isDom&&"textContent"===this.property&&fa(this.object,this.textNodes=H()))},addPollInterval:function(a){if("Event"!==this.type)return this.removePollInterval(),this.pollInterval=setInterval(function(a){return function(){var b;b=a.fetchDirectValue();return a.setValue(b)}}(this),a)},removePollInterval:function(){clearInterval(this.pollInterval);return this.pollInterval=null},addUpdateListener:function(a,
b){this.object.addEventListener(a,function(a){return function(c){c._sb||(c=a.selfTransform&&a.isDomInput,a.setValue(a.object[b],null,!c,!0))}}(this),!1)},attachEvents:function(){this.eventName?this.registerEvent(this.eventName):this.isDomInput?(this.addUpdateListener("input","value"),this.addUpdateListener("change","value")):this.isMultiChoice||"DOMRadio"!==this.type&&"DOMCheckbox"!==this.type||this.addUpdateListener("change","checked")},registerEvent:function(a){this.attachedEvents.push(a);this.eventHandler||
(this.eventHandler=ka.bind(this));this.object[this.eventMethods.listen](a,this.eventHandler)},unRegisterEvent:function(a){this.attachedEvents.splice(this.attachedEvents.indexOf(a),1);this.object[this.eventMethods.remove](a,this.eventHandler)},emitEvent:function(a){var b;b=this.eventName;"dispatchEvent"===this.eventMethods.emit&&(this.eventObject||(this.eventObject=document.createEvent("Event"),this.eventObject.initEvent(this.eventName,!0,!0)),this.eventObject.bindingData=a,b=this.eventObject);this.object[this.eventMethods.emit](b,
a)}};ka=function(){this.isEmitter||this.setValue(arguments[this.property],null,!0)};h=function(a,b){var c;if(b)U(this,b),this.stage=1;else for(c in this.stage=0,this.subs=[],this.optionsPassed=a||(a={}),this.options={},P)this.options[c]=null!=a[c]?a[c]:P[c];return this};p={selfClone:function(){return new h(null,this)},defineMainProps:function(a){this._=a;return Object.defineProperties(this,{value:{get:function(){return a.value}},original:{get:function(){return a.objects||a.object}},subscribers:{get:function(){return a.subs.slice().map(function(a){return a.object})}}})},
createBinding:function(a,b,c,g){var d;this.object=a;if(d=Y.get(a,g,this.selector,this.isMultiChoice))return this.patchCachedBinding(d);a=new k(a,b,c);Y.set(a,g);return a},patchCachedBinding:function(a){var b,c,g,d;"ObjectProp"!==a.type||this.property in this.object||t(a,this.object);if(this.saveOptions)for(c in g=this.optionsPassed,g)d=g[c],a.optionsDefault[c]=d;c=a.optionsDefault;for(b in c)d=c[b],this.options[b]=q.isDefined(this.optionsPassed[b])?this.optionsPassed[b]:d;return a},setProperty:function(a){var b;
q.isNumber(a)&&(a=a.toString());this.selector=this.property=a;this.options.simpleSelector||(C(a,":")&&(b=a.split(":"),this.descriptor=b.slice(0,-1).join(":"),this.property=b[b.length-1]),C(a,".")&&(b=this.property.split("."),this.property=b[0],this.pholder=b.slice(1).join(".")),C(this.descriptor,"event")&&(C(a,"#")?(b=this.property.split("#"),this.eventName=b[0],this.property=b[1]):(this.eventName=this.property,this.property=0),isNaN(parseInt(this.property))&&O("badEventArg",1)));return this},setObject:function(a,
b){var c,g,d,e;this.stage=1;e=(d=a!==window&&q.isIterable(a)&&!a.nodeType)?a[0]:a;if(!e)d&&q.isElCollection(a)&&Q("emptyList");else if(this.isDom=q.isDom(e))if("checked"===this.property?(g=e&&q.isDomRadio(e),c=!g&&e&&q.isDomCheckbox(e)):"value"===this.property&&(this.isDomInput=q.isDomInput(e)),d&&!C(this.descriptor,"multi"))if(1===a.length)a=a[0];else if(!g&&!c||q.domElsAreSame(a))g||c?(this.isMultiChoice=!0,a=[].slice.call(a)):(a=a[0],O("onlyOneDOMElement",3));else return O("mixedElList",3);switch(!1){case !b:c=
"Func";break;case !this.pholder:c="Pholder";break;case !(C(this.descriptor,"array")&&q.isArray(a[this.property])):c="Array";break;case !C(this.descriptor,"event"):c="Event";this.eventMethods={listen:this.optionsPassed.listenMethod,remove:this.optionsPassed.removeMethod,emit:this.optionsPassed.emitMethod};a[this.eventMethods.listen]||(this.eventMethods.listen=q.isDomNode(a)?"addEventListener":"on");a[this.eventMethods.remove]||(this.eventMethods.remove=q.isDomNode(a)?"removeEventListener":"removeListener");
a[this.eventMethods.emit]||(this.eventMethods.emit=q.isDomNode(a)?"dispatchEvent":"emit");break;case !C(this.descriptor,"func"):c="Proxy";break;case !g:c="DOMRadio";break;case !c:c="DOMCheckbox";break;case !C(this.descriptor,"attr"):c="DOMAttr";break;default:c="ObjectProp"}C(this.descriptor,"multi")?(a.length||Q("emptyList"),this.defineMainProps(new f(this,a,c))):this.defineMainProps(this.createBinding(a,c,this,b));C(this._.type,"Event")||C(this._.type,"Proxy")?this.options.updateOnBind=!1:C(this._.type,
"Func")&&(this.options.updateOnBind=!0);return this.completeCallback?this.completeCallback(this):this},addToPublisher:function(a){var b,c,g,d;a.stage=2;a.subs.push(this);b=a._.addSub(this._,a.options,a.updateOnce);if(a.updateOnce)delete a.updateOnce;else if(a.options.updateOnBind&&!b)if(this._.isMulti)for(d=this._.bindings,c=0,g=d.length;c<g;c++)b=d[c],a._.updateSub(b,a._);else a._.updateSub(this._,a._)}};h.prototype=Object.create(p,{of:{get:function(){if(!this.stage)return m}},set:{get:function(){if(this.stage)return u}},
chainTo:{get:function(){if(2===this.stage)return b}},transformSelf:{get:function(){if(1===this.stage)return z}},transform:{get:function(){if(2===this.stage)return w}},transformAll:{get:function(){if(2===this.stage)return A}},condition:{get:function(){if(2===this.stage)return c}},conditionAll:{get:function(){if(2===this.stage)return e}},bothWays:{get:function(){if(2===this.stage)return a}},unBind:{get:function(){if(2===this.stage)return D}},pollEvery:{get:function(){if(this.stage)return g}},stopPolling:{get:function(){if(this.stage)return n}},
setOption:{get:function(){if(2===this.stage)return B}},disallowFrom:{get:function(){var a;if(2===this.stage&&(a=this))return N(!1,function(b){a._.addDisallowRule(a.subs[a.subs.length-1]._,b._);return a})}},updateOn:{get:function(){var a;if(this.stage&&(a=this))return N(!1,function(b){b._!==a._&&(a._.pubsMap[b._.ID]=b._,b._.addSub(ma(a._,!0),b.options,!1,!0));return a})}},removeUpdater:{get:function(){var a,b;if(this.stage&&(b=this)&&(a=this._.selfUpdater))return N(!1,function(c){c._.subsMeta[a.ID]&&
(delete b._.pubsMap[c._.ID],c._.removeSub(a))})}},to:{get:function(){var a;if(1===this.stage&&(a=this))return N(!0,function(b){b._!==a._&&b.addToPublisher(a);return a})}},and:{get:function(){var a,b;b=this.selfClone();if(2===this.stage)return b;if(1===this.stage)return b._.isMulti||(a=b._,b._=b._=new f(b),b._.addBinding(a)),N(!1,function(a){b._.addBinding(a._);return b})}},once:{get:function(){var a;if(1===this.stage)return a=this.selfClone(),a.updateOnce=!0,a}},update:{get:function(){return this.set}},
twoWay:{get:function(){return this.bothWays}},pipe:{get:function(){return this.chainTo}}});m=function(a){q.isObject(a)||q.isFunction(a)||qa(a);q.isBindingInterface(a)&&(a=a.object);this.stage=1;return this.setObject(a)};b=function(a,b,c){return x(this.subs[this.subs.length-1]).to(a,b,c)};u=function(a){this._.setValue(a);return this};z=function(a){q.isFunction(a)?this._.setSelfTransform(a,this.options.updateOnBind):O("fnOnly",1);return this};w=function(a){this._.addModifierFn("transformFn",this.subs.slice(-1),
a,this.options.updateOnBind);return this};A=function(a){this._.addModifierFn("transformFn",this.subs,a,this.options.updateOnBind);return this};c=function(a){this._.addModifierFn("conditionFn",this.subs.slice(-1),a);return this};e=function(a){this._.addModifierFn("conditionFn",this.subs,a);return this};a=function(a){var b,c,g,d,e,f;g=this.subs[this.subs.length-1];f=g._;c=this._.isMulti?this._.bindings:[this._];f.addSub(this._,g.options);g=0;for(d=c.length;g<d;g++)b=c[g],e=b.subsMeta[f.ID].transformFn,
b=b.subsMeta[f.ID].conditionFn,(e||a)&&(e=q.isFunction(a)?a:e)&&!1!==a&&(f.subsMeta[this._.ID].transformFn=e),b&&(f.subsMeta[this._.ID].conditionFn=b);return this};D=function(a){var b,c,g,d;g=this.subs;b=0;for(c=g.length;b<c;b++)d=g[b],this._.removeSub(d._,a);return this};g=function(a){this._.addPollInterval(a);return this};n=function(){this._.removePollInterval();return this};B=function(a,b){this._.subsMeta[this.subs[this.subs.length-1]._.ID].opts[a]=b;return this};f=function(a,b,c){var g,d,e;a.selector=
a.selector.slice(6);U(this,this["interface"]=a);this.isMulti=!0;this.bindings=g=[];if(b)for(a=0,d=b.length;a<d;a++)e=b[a],this.addBinding(e,c);return Object.defineProperties(this,{type:{get:function(){return g.map(function(a){return a.type})}},value:{get:function(){return g.map(function(a){return a.value})}}})};ea=f.prototype=Object.create(p);Object.keys(k.prototype).forEach(function(a){return ea[a]=function(b,c,g,d){var e,f,m,h;h=this.bindings;f=0;for(m=h.length;f<m;f++)e=h[f],"updateSub"===a&&(c=
e),e[a](b,c,g,d)}});ea.addBinding=function(a,b){this.bindings.push(b?this.createBinding(a,b,this["interface"]):a)};return null!=("undefined"!==typeof l&&null!==l?l.exports:void 0)?l.exports=x:"function"===typeof define&&define.amd?define(["simplybind"],function(){return x}):this.SimplyBind=x})();return l.exports};return p};l=l({},{},{});return function(){var F,z,w,p,k,D,r,h,y,f;y=l(1);w=l(2);F=l(3);h=l(4);k=l(5);null==this.console&&(this.console={});null==console.log&&(console.log=function(){});null==
console.warn&&(console.warn=console.log);f=null!=document.createElement("div").style.animation?"":"-webkit-";D="@"+f+"keyframes checkmarkAnimateSuccessTip { 0%, 54% { width: 0; left: 0px; top: 3px } 70% { width: 14px; left: -2px; top: 8px } 84% { width: 5px; left: 5px; top: 10px } 100% { width: 8px; left: 3px; top: 10px } } @"+f+"keyframes checkmarkAnimateSuccessLong { 0%, 65% { width: 0; right: 12px; top: 12px } 84% { width: 14px; right: 0px; top: 7px } 100% { width: 12px; right: 2px; top: 8px } } @"+
f+"keyframes checkmarkAnimateError { 0%, 65% { "+f+"transform: scale(0.4); opacity: 0 } 84% { "+f+"transform: scale(1.15) } 100% { "+f+"transform: scale(1) } } @"+f+"keyframes checkmarkRotatePlaceholder { 0%, 5% { "+f+"transform: rotate(-45deg) } 12%, 100% { "+f+"transform: rotate(-405deg) } } @"+f+"keyframes fieldErrorShake { 0%, 50% { "+f+"transform: translateX(-10px) } 25%, 75% { "+f+"transform: translateX(10px) } 100% { "+f+"transform: translateX(0px) } }";r=function(){var a;a=document.createElement("style");
a.innerHTML=D;document.body.appendChild(a);return r.appended=a};w.field=function(a){return a&&"Field"===a.constructor.name};w.regex=function(a){return a instanceof RegExp};w.objectable=function(a){return w.object(a)||w["function"](a)};p=function(a){var b;w.object(a)||(a={});null==a.type&&(a.type="text");if(!z[a.type])throw Error("QuickField: '"+a.type+"' is not a valid/registered field type");r.appended||r();b=Object.create(z[a.type]);return z.call(b,a)};p.register=function(a,b){var c,e,f,g;if(w.string(a)&&
w.object(b)){f=Object.create(z.prototype);for(e in b)c=b[e],f[e]=c;c=0;for(e=k.length;c<e;c++)if(g=k[c],!f[g])throw Error("QuickField Registration: '"+g+"' method is required in order to register the field");return z[a]=f}};Object.defineProperty(p,"fields",{get:function(){return h.clone.own.notKeys("instances")(z)}});p.regex=l(9);p.version="1.0.8";p.constants=function(a){return function(a){return{colors:l(15),keyCodes:l(18),reqFieldMethods:l(5)}}}(this)({});p.SVG=l(12);p.Field=z=function(a){return function(a){var b,
e;e=l(16);y=l(1);w=l(2);h=l(4);b=0;z=function(a){var c;this.settings=h.deep.clone.deep.notDeep("templates").transform({conditions:function(a){var b,c,g;if(w.objectPlain(a)){b=[];for(c in a)g=a[c],b.push({target:c,value:g});return b}if(w.array(a))return a.map(function(a){return w.string(a)?{target:a}:a})},choices:function(a){var b,c,g;if(w.objectPlain(a)){c=[];for(b in a)g=a[b],c.push({label:b,value:g});return c}if(w.array(a))return a.map(function(a){return w.objectPlain(a)?a:{label:a,value:a}})},
validWhenRegex:function(a){return w.string(a)?new RegExp(a):a}})(e,this._defaults,a);this.type=a.type;this.allFields=this.settings.fieldInstances||z.instances;this._value=null;this.ID=this.settings.ID||b++ +"";this.els={};this._eventCallbacks={};this.state={valid:!0,visible:!0,disabled:!1,focused:!1,hovered:!1,filled:!1,interacted:!1,showError:!1,width:this.settings.width,showHelp:this.settings.alwaysShowHelp,showLabel:this.settings.label,label:this.settings.label,help:this.settings.help};w.defined(this.settings.placeholder)&&
(this.state.placeholder=this.settings.placeholder);null!=(c=this.settings.conditions)&&c.length&&(this.state.visible=!1,y.initConditions(this,this.settings.conditions,function(a){return function(){return a.validateConditions()}}(this)));Object.defineProperty(this,"value",{get:this._getValue,set:this._setValue});this.allFields[this.ID]&&"undefined"!==typeof console&&null!==console&&console.warn("Duplicate field IDs found: '"+this.ID+"'");this._construct();this._createElements();this._attachBindings();
this.el.childf.field.onInserted(function(a){return function(){return a.emit("inserted")}}(this));this.settings.ID&&(this.el.raw.id=this.ID);null!=this.settings.defaultValue&&this._setValue(this.settings.multiple?[].concat(this.settings.defaultValue):this.settings.defaultValue);return this.allFields[this.ID]=this.el.raw._quickField=this};z.instances=Object.create(null);Object.defineProperty(z.prototype,"valueRaw",{get:function(){return this._value}});z.prototype.appendTo=function(a){this.el.appendTo(a);
return this};z.prototype.prependTo=function(a){this.el.prependTo(a);return this};z.prototype.insertAfter=function(a){this.el.insertAfter(a);return this};z.prototype.insertBefore=function(a){this.el.insertBefore(a);return this};z.prototype.validateConditions=function(a){var b;a?b=!1:(a=this.settings.conditions,b=!0);a=y.validateConditions(a);return b?this.state.visible=a:a};z.prototype.on=function(a,b){var c;w.string(a)&&w["function"](b)&&(null==(c=this._eventCallbacks)[a]&&(c[a]=[]),this._eventCallbacks[a].push(b));
return this};z.prototype.off=function(a,b){this._eventCallbacks[a]&&(w["function"](b)?y.removeItem(this._eventCallbacks[a],b):this._eventCallbacks[a]={});return this};z.prototype.emit=function(){var a,b,c,e,f;b=arguments[0];a=2<=arguments.length?slice.call(arguments,1):[];if(this._eventCallbacks[b])for(f=this._eventCallbacks[b],c=0,e=f.length;c<e;c++)b=f[c],b.apply(null,[this].concat(slice.call(a)));return this};return a=z}}(this)({});p.register("text",l(17));p.register("textarea",function(a){return function(a){var b,
e;l(30);y=l(1);w=l(2);F=l(3);h=l(4);b=l(45);e=l(17);a=Object.create(null);a._templates=function(a){F=l(3);l(12);e=l(17);l(15);return a={field:e._templates.field.extend({options:{style:{verticalAlign:"bottom"}},children:{innerwrap:{options:{style:{overflow:"hidden",height:function(a){return a.settings.minHeight||46},width:function(a){if(!a.settings.autoWidth)return"100%"}}}},label:{options:{style:{left:0,top:"7.6px"}}},input:{type:"textarea",options:{type:null,style:{resize:"none",whiteSpace:"normal",
width:"100%",height:function(){return"calc(100% - "+this.styleSafe("marginTop")+" - "+this.styleSafe("marginBottom")+")"},margin:"0",marginTop:"15px",marginBottom:"12px",padding:"0 12px",$filled:{$showLabel:{transform:function(a){var b;if((b=a.el.child.label)&&"absolute"===b.style("position"))return a=b.height+b.styleParsed("top")-this.styleParsed("marginTop")+1,"translateY("+a+"px)"}}}}}},placeholder:{options:{style:{left:0,padding:function(a){var b;b=a.el.child.input.styleSafe("paddingLeft");return a.el.child.input.styleSafe("marginTop")+
" "+b}}}}}})}}({});a._defaults={placeholder:!0,validWhenRegex:!1,autoWidth:!1,autoHeight:!0,minHeight:46,maxWidth:"100%",maxHeight:Infinity};h.keys("_getValue _setValue _getMaxWidth _attachBindings_elState _attachBindings_display _attachBindings_stateTriggers validate selection focus blur".split(" "))(a,e);a._construct=function(){null==this._value&&(this._value="");this.state.height=this.settings.autoHeight?"auto":this.settings.height;this.state.typing=!1;this.cursor={prev:0,current:0}};a._createElements=
function(){this.el=this._templates.field.spawn(this.settings.templates.field,{relatedInstance:this,styleAfterInsert:!0});this.el.state("hasLabel",this.settings.label);this.el.child.innerwrap.raw._quickField=this.el.child.input.raw._quickField=this};a._attachBindings=function(){this._attachBindings_elState();this._attachBindings_display();this._attachBindings_display_autoWidth();this._attachBindings_display_autoHeight();this._attachBindings_value();this._attachBindings_autocomplete();this._attachBindings_stateTriggers()};
a._attachBindings_display_autoHeight=function(){b("height",{updateEvenIfSame:!0}).of(this.state).transformSelf(function(a){return isNaN(a)&&isNaN(parseFloat(a))?"auto":a}).to(function(a){return function(b){return a.el.child.innerwrap.style("height",b)}}(this)).updateOn("event:inserted").of(this);this.settings.autoHeight&&b("_value",{updateEvenIfSame:!0,updateOnBind:!1}).of(this).to("height").of(this.state).transform(function(a){return function(){return a._getInputAutoHeight()}}(this)).updateOn("event:inserted").of(this)};
a._attachBindings_display_autoWidth=function(){b("width",{updateEvenIfSame:!0}).of(this.state).to(function(a){return function(b){return(a.settings.autoWidth?a.el.child.innerwrap:a.el).style("width",b)}}(this));this.settings.autoWidth&&b("_value",{updateEvenIfSame:!0,updateOnBind:!1}).of(this).to("width").of(this.state).transform(function(a){return function(){return a._getInputAutoWidth()}}(this)).updateOn("event:inserted").of(this)};a._attachBindings_value=function(){b("_value").of(this).to("value").of(this.el.child.input.raw).bothWays().and.to("valueRaw").of(this).transform(function(a){return function(b){return a.mask?
a.mask.valueRaw:b}}(this));b("_value").of(this).to(function(a){return function(b){a.state.filled=!!b;b&&(a.state.interacted=!0);a.state.valid=a.validate();return a.emit("input")}}(this))};a._attachBindings_autocomplete=function(){};a._getInputAutoHeight=function(){var a,b;b=this.el.child.input.raw.style.height;this._value?(this.el.child.input.style("height",0),a=this.el.child.input.raw.scrollHeight+2,a+=this.el.child.input.styleParsed("marginTop")+this.el.child.input.styleParsed("marginBottom")):
a=this.el.child.placeholder.height;this.el.child.input.style("height",b);return Math.min(this.settings.maxHeight,Math.max(a,this.settings.minHeight))};a._getInputAutoWidth=function(){var a,b;this._value?(this.el.child.input.style({width:0,whiteSpace:"nowrap"}).raw.scrollLeft=1E10,a=this.el.child.input.styleParsed("paddingLeft")||this.el.child.input.styleParsed("padding"),a=Math.max(this.el.child.input.raw.scrollLeft+this.el.child.input.raw.offsetWidth,this.el.child.input.raw.scrollWidth)+2+a+1,b=
this.settings.label&&"absolute"===this.el.child.label.styleSafe("position")?this.el.child.label.rect.width:0):(a=this.el.child.placeholder.rect.width,b=0);this.el.child.input.style({width:"100%",whiteSpace:"normal"});return Math.min(this._getMaxWidth(),Math.max(a,b))};return a}}(this)({}));p.register("select",function(a){return function(a){var b,e,f;b=l(30);y=l(1);w=l(2);F=l(3);h=l(4);e=l(45);f=l(17);a=Object.create(null);a._templates=function(a){var b;F=l(3);b=l(12);f=l(17);a=l(15);return a={field:f._templates.field.extend({children:[null,
{children:[{type:"div",options:{type:null,props:{tabIndex:0},style:{marginTop:3,height:"auto",cursor:"default",userSelect:"none",overflow:"scroll",width:function(a){var b;if(!a.settings.autoWidth)return b="",a.el.child.icon&&(b+=" -"+a.el.child.icon.raw.styleSafe("width",!0)),a.el.child.caret&&(b+=" -"+a.el.child.caret.styleSafe("width",!0)),"calc(100% + ("+(b||"0px")+"))"}}}},null,["div",{ref:"caret",style:{position:"relative",zIndex:3,top:function(a){return this.parent.height/2-this.styleParsed("height")/
2},display:"inline-block",width:"29px",height:"17px",paddingRight:"12px",boxSizing:"border-box",verticalAlign:"top",outline:"none",pointerEvents:"none",fill:a.grey}},b.caretDown]]}]})}}({});a._defaults={placeholder:!0,validWhenIsChoice:!1,validWhenRegex:!1,validWhenChoseMin:Infinity,autoWidth:!1,maxWidth:"100%",labelFilter:null,choices:[],multiple:!1,dropdownOptions:{}};h.keys(["_getMaxWidth","_attachBindings_elState","_attachBindings_display","focus","blur"])(a,f);a._construct=function(){var a;if(null==
(a=this.settings.choices)||!a.length)throw Error("Choices were not provided for choice field '"+(this.settings.label||this.ID)+"'");if(this.settings.dropdownOptions.multiple=this.settings.multiple)this.settings.dropdownOptions.help="Tip: press ESC to close this menu";this.dropdown=new b(this.settings.choices,this)};a._getValue=function(){var a;return this.settings.multiple?this.dropdown.selected.map(function(a){return a.value}):null!=(a=this.dropdown.selected)?a.value:void 0};a._setValue=function(a){var b,
c,g;if(this.settings.multiple)for(w.array(a)||(a=[].concat(a)),b=0,c=a.length;b<c;b++)g=a[b],this.dropdown.setOptionFromString(g);else this.dropdown.setOptionFromString(a)};a._createElements=function(){this.el=this._templates.field.spawn(this.settings.templates.field,{relatedInstance:this,styleAfterInsert:!0});this.dropdown.appendTo(this.el.child.innerwrap);this.el.child.placeholder.insertBefore(this.el.child.input);this.settings.label&&(this.el.child.label.text=this.settings.label,this.el.state("hasLabel",
!0));this.el.child.innerwrap.raw._quickField=this.el.child.input.raw._quickField=this};a._attachBindings=function(){this._attachBindings_elState();this._attachBindings_value();this._attachBindings_display();this._attachBindings_display_autoWidth();this._attachBindings_dropdown();this._attachBindings_stateTriggers()};a._attachBindings_display_autoWidth=function(){e("width",{updateEvenIfSame:!0}).of(this.state).to(function(a){return function(b){return(a.settings.autoWidth?a.el.child.input:a.el).style({width:b})}}(this));
this.settings.autoWidth&&e("valueLabel",{updateEvenIfSame:!0,updateOnBind:!1}).of(this).to("width").of(this.state).transform(function(a){return function(){return a._getInputAutoWidth()}}(this)).updateOn("event:inserted").of(this)};a._getInputAutoWidth=function(){var a,b;this.valueLabel?(this.el.child.input.style("width",0),a=this.el.child.input.raw.scrollWidth+2,b="absolute"===this.el.child.label.styleSafe("position")?this.el.child.label.rect.width:0):(a=this.el.child.placeholder.rect.width,b=0);
return Math.max(a,b)};a._attachBindings_value=function(){e("array:selected").of(this.dropdown).to("_value").of(this).and.to("valueLabel").of(this).transform(function(a){return function(b){if(b)return a.settings.multiple?b.map(function(a){return a.label}).join(", "):b.label}}(this));e("valueLabel").of(this).to("text").of(this.el.child.input).transform(function(a){return function(b){return a.settings.labelFormat?a.settings.labelFormat(b):b}}(this)).and.to(function(a){return function(b){a.state.filled=
!!b;b&&(a.state.interacted=!0);return a.state.valid=a.validate()}}(this));e("array:selected",{updateOnBind:!1}).of(this).to(function(a){return function(){return a.emit("input")}}(this))};a._attachBindings_dropdown=function(){e("event:click").of(this.el.child.input).to(function(a){return function(){var b,c;if(!a.state.disabled)return a.dropdown.isOpen=!0,b=e("event:click").of(document).once.to(function(){return a.dropdown.isOpen=!1}).condition(function(b){return!F(b.target).parentMatching(function(b){return b===
a.el.child.innerwrap})}),c=e("event:keydown").of(document).once.to(function(){return a.dropdown.isOpen=!1}).condition(function(a){return 27===a.keyCode}),e("isOpen",{updateOnBind:!1}).of(a.dropdown).once.to(function(){b.unBind();return c.unBind()}).condition(function(a){return!a})}}(this));e("focused",{updateOnBind:!1}).of(this.state).to(function(a){return function(b){var c;return b?(c=[32,37,38,39,40],a.el.child.input.on("keydown.dropdownTrigger",function(b){var e;if(y.includes(c,b.keyCode)&&!a.dropdown.isOpen)return a.dropdown.isOpen=
!0,null!=(e=a.dropdown.lastSelected)&&e.selected&&(a.dropdown.currentHighlighted=a.dropdown.lastSelected),b.preventDefault();if(9===b.keyCode&&a.dropdown.isOpen)return b.preventDefault()})):a.el.child.input.off("keydown.dropdownTrigger")}}(this));this.dropdown.onSelected(function(a){return function(b){if(!a.settings.multiple)return a.dropdown.isOpen=!1}}(this))};a._attachBindings_stateTriggers=function(){e("event:mouseenter").of(this.el.child.input).to(function(a){return function(){return a.state.hovered=
!0}}(this));e("event:mouseleave").of(this.el.child.input).to(function(a){return function(){return a.state.hovered=!1}}(this));e("event:focus").of(this.el.child.input).to(function(a){return function(){a.state.focused=!0;if(a.state.disabled)return a.blur()}}(this));e("event:blur").of(this.el.child.input).to(function(a){return function(){return a.state.focused=!1}}(this))};a.validate=function(a){var b,c;null==a&&(a=this.value);switch(!1){case !(this.settings.validWhenRegex&&w.regex(this.settings.validWhenRegex)):switch(!1){case !this.settings.multiple:return function(b){return function(){var c;
if(0===a.length)return!1;c=a.filter(function(a){return b.settings.validWhenRegex.test(a)});return Infinity!==b.settings.validWhenChoseMin&&w.number(b.settings.validWhenChoseMin)?c.length>=b.settings.validWhenChoseMin:c.length===a.length}}(this)();default:return this.settings.validWhenRegex.test(a)}case !(this.settings.validWhenIsChoice&&null!=(b=this.settings.choices)&&b.length):return b=this.settings.choices.filter(function(b){return b.value===a}),!!b.length;case !(this.settings.multiple&&-1>(c=
this.settings.validWhenChoseMin)&&Infinity>c):return a.length>=this.settings.validWhenChoseMin;case !this.settings.multiple:return a.length;default:return!!a}};a.focus=function(){return this.el.child.input.raw.focus()};a.blur=function(){return this.el.child.input.raw.blur()};return a}}(this)({}));p.register("choice",l(24));p.register("truefalse",l(25));p.register("toggle",function(a){return function(a){var b,e;h=l(4);b=l(45);a=l(25);e=Object.create(null);e._templates=function(a){F=l(3);a=l(15);return a=
{field:F.template(["div",{ref:"field",style:{position:"relative",display:"inline-block",width:function(a){return a.state.width},boxSizing:"border-box",fontFamily:function(a){return a.settings.fontFamily},$showError:{animation:"0.2s fieldErrorShake"},$alignedStyle:{paddingRight:function(a){return a.settings.size+20}}}},["div",{ref:"label",style:{display:"none",marginBottom:"12px",fontFamily:"inherit",fontSize:"13px",fontWeight:600,textAlign:"center",color:a.black,cursor:"default",pointerEvents:"none",
userSelect:"none",$showLabel:{display:"block"},$showError:{color:a.red},$alignedStyle:{marginBottom:"0",textAlign:"left"}}}],["div",{ref:"innerwrap",style:{position:"relative",boxSizing:"border-box",fontFamily:"inherit",$alignedStyle:{position:"absolute",right:0,top:"50%",transform:"translateY(-50%)"}}},["div",{ref:"input",style:{position:"relative",zIndex:2,width:function(a){return a.settings.size},height:function(a){return a.settings.size/2},margin:"0 auto",backgroundColor:function(a){return a.settings.background},
border:"1px solid "+a.grey_semi_light,borderRadius:function(a){return a.settings.size},cursor:"pointer"}},["div",{ref:"background",style:{position:"absolute",zIndex:1,left:0,right:0,width:function(a){return a.settings.size/2},height:"100%",borderRadius:function(a){a=a.settings.size;return a+"px 0 0 "+a+"px"},backgroundColor:function(a){return a.settings.color},opacity:0,transition:"opacity 0.2s, width 0.2s",$toggled:{opacity:1,width:function(a){return.7*a.settings.size}}}}],["div",{ref:"ball",style:{position:"absolute",
zIndex:2,left:0,right:0,width:function(a){return a.settings.size/2},height:function(a){return a.settings.size/2},margin:"0 auto",backgroundColor:"white",borderRadius:"50%",border:"1px solid "+a.grey_light,boxSizing:"border-box",transform:"translateX(-55%)",transition:"transform 0.2s",userSelect:"none",$toggled:{transform:"translateX(50%)",border:function(a){return"1px solid "+a.settings.color}}}}]]],["div",{ref:"help",style:{marginTop:"10px",fontFamily:"inherit",fontSize:"11px",color:a.grey,display:"none",
$showError:{color:a.red,display:"block"},$showHelp:{display:"block"}}}]])}}({});e._defaults=function(a){a=l(15);return{validWhenTrue:!0,size:50,style:"centered",color:a.green,background:a.grey_light}}({});h.keys(["_attachBindings_elState","_attachBindings_stateTriggers","_attachBindings_display"])(e,a);e._construct=function(){this._value=!!this._value;this.settings.size=parseFloat(this.settings.size)||e._defaults.size;"centered"!==this.settings.style&&"aligned"!==this.settings.style&&(this.settings.style=
e._defaults.style)};e._getValue=function(){return this._value};e._setValue=function(a){return this._value=!!a};e._createElements=function(){this.el=this._templates.field.spawn(this.settings.templates.field,{relatedInstance:this,styleAfterInsert:!0});this.el.state("alignedStyle","aligned"===this.settings.style).child.innerwrap.raw._quickField=this};e._attachBindings=function(){this._attachBindings_elState();this._attachBindings_stateTriggers();this._attachBindings_display();this._attachBindings_value()};
e._attachBindings_value=function(){b("_value").of(this).to(function(a){return function(b){return a.el.state("toggled",b)}}(this));b("_value",{updateOnBind:!1}).of(this).to(function(a){return function(){return a.emit("input")}}(this));b("event:mouseup touchend").of(this.el.child.input).to(function(a){return function(){return a._value=!a._value}}(this))};e.validate=function(a){null==a&&(a=this._value);return this.settings.validWhenTrue?!!a:!0};return e}}(this)({}));return null!=("undefined"!==typeof module&&
null!==module?module.exports:void 0)?module.exports=p:"function"===typeof define&&define.amd?define(["quickfield"],function(){return p}):this.QuickField=p}()}})(this)();
