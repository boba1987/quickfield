var slice=[].slice;
(function(sa){return function(){var k=function(k,E,u,p){p=function(e){return u[e]?E[e]:(u[e]=1,E[e]={},E[e]=k[e](E[e]))};k[1]=function(e){var k;var n=p(2);var C=p(3);var q=p(46);var m=p(9);return k={noop:function(){},includes:function(a,d){return a&&-1!==a.indexOf(d)},removeItem:function(a,d){var c=a.indexOf(d);if(-1!==c)return a.splice(c,1)},find:function(a,d){return a.filter(d)[0]},diff:function(a,d){var c;var h=[];var g=Math.max(a.length,d.length);for(c=-1;++c<g;){var b=a[c];var l=d[c];b!==l&&
(n.defined(b)&&!k.includes(d,b)&&h.push(b),n.defined(l)&&!k.includes(a,l)&&h.push(l))}return h},hexToRGBA:function(a,d){"#"===a[0]&&(a=a.slice(1));var c=parseInt(a.slice(0,2),16);var h=parseInt(a.slice(2,4),16);var g=parseInt(a.slice(4,6),16);return"rgba("+c+", "+h+", "+g+", "+d+")"},unlockScroll:function(a){window._isLocked=!1;return C(window).off("wheel.lock")},lockScroll:function(a){if(!window._isLocked)return window._isLocked=!0,C(window).on("wheel.lock",function(d){if(d.target===a.raw||C(d.target).parentMatching(function(c){return c===
a})){if(0<d.wheelDelta&&0===a.raw.scrollTop||0>d.wheelDelta&&a.raw.scrollHeight-a.raw.scrollTop===a.raw.clientHeight)return d.preventDefault()}else return d.preventDefault()})},fuzzyMatch:function(a,d,c){var h,g,b;var l=a.length;var m=d.length;c||(a=a.toUpperCase(),d=d.toUpperCase());if(l>m)return!1;if(l===m)return a===d;for(g=c=h=0;g<l;)for(b=a[g++];c<m;)if(d[c++]===b){h++;break}return h===l},getIndexOfFirstDiff:function(a,d){var c;var h=0;for(c=Math.max(a.length,d.length);h<c;){if(a[h]!==d[h])return h;
h++}return null},testCondition:function(a){if(!a||!a.target)throw Error("Invalid condition provided: "+JSON.stringify(a));if(!a.target.state.visible)return!1;var d=function(){switch(!1){case !n.objectPlain(a.value):return a.value;case !n.regex(a.value):return{$regex:a.value};case !("valid"===a.value&&!a.property||!n.defined(a.value)):return"valid";default:return{$eq:a.value}}}();if("valid"===d)return a.target.validate();var c=function(){var c;var b=a.property.split(".");switch(!1){case 1!==b.length:return a.target[a.property];
case !n.defined(a.target[a.property]):return a.target[a.property];default:for(c=a.target;n.object(c);)c=c[b.pop()];return c}}();var h=Object.keys(d);return h.filter(function(a){var b=d[a];switch(a){case "$eq":return c===b;case "$ne":return c!==b;case "$gt":return c>b;case "$gte":return c>=b;case "$lt":return c<b;case "$lte":return c<=b;case "$ct":return k.includes(c,b);case "$nct":return!k.includes(c,b);case "$regex":return b.test(c);case "$nregex":return!b.test(c);case "$mask":return k.testMask(c,
b);default:return!1}}).length===h.length},validateConditions:function(a){if(a){var d=a.filter(function(a){return k.testCondition(a)});return d.length===a.length}},initConditions:function(a,d,c){return setTimeout(function(h){return function(){d.forEach(function(g){var b;if(b=n.string(g.target)?a.allFields[g.target]:n.field(g.target)?g.target:void 0)g.target=b;else return console.warn("Condition target not found for the provided ID '"+g.target+"'",a);g=n.array(b._value)?"array:_value":"_value";return q(g,
{updateOnBind:!1}).of(b).and("visible").of(b.state).to(c)});return c()}}(this))},parseCssShorthandValue:function(a){var d=a.split(m.whiteSpace).map(parseFloat);a={};switch(d.length){case 1:a.top=a.right=a.bottom=a.left=d[0];break;case 2:a.top=a.bottom=d[0];a.right=a.left=d[1];break;case 3:a.top=d[0];a.right=a.left=d[1];a.bottom=d[2];break;case 4:a.top=d[0],a.right=d[1],a.bottom=d[2],a.left=d[3]}return a}}};k[2]=function(e){var k;return k=e={defined:function(e){return void 0!==e},array:function(e){return e instanceof
Array},object:function(e){return"object"===typeof e&&e},objectPlain:function(e){return k.object(e)&&"[object Object]"===Object.prototype.toString.call(e)},string:function(e){return"string"===typeof e},number:function(e){return"number"===typeof e},"function":function(e){return"function"===typeof e},iterable:function(e){return k.object(e)&&k.number(e.length)}}};k[3]=function(e){var k={exports:e};(function(){var e,C,q;var m=function(f){var a={exports:f};(function(){var f=["webkit","moz","ms","o"];var b=
"backgroundPositionX backgroundPositionY blockSize borderWidth columnRuleWidth cx cy fontSize gridColumnGap gridRowGap height inlineSize lineHeight minBlockSize minHeight minInlineSize minWidth maxHeight maxWidth outlineOffset outlineWidth perspective shapeMargin strokeDashoffset strokeWidth textIndent width wordSpacing top bottom left right x y".split(" ");["margin","padding","border","borderRadius"].forEach(function(f){var a;b.push(f);var c=["Top","Bottom","Left","Right"];var g=[];var d=0;for(a=
c.length;d<a;d++){var D=c[d];g.push(b.push(f+D))}return g});var c=document.createElement("div").style;var g=/^\d+(?:[a-z]|\%)+$/i;var d=/\d+$/;var D=/\s/;var h={includes:function(f,a){return f&&-1!==f.indexOf(a)},isIterable:function(f){return f&&"object"===typeof f&&"number"===typeof f.length&&!f.nodeType},isPropSupported:function(f){return"undefined"!==typeof c[f]},toTitleCase:function(f){return f[0].toUpperCase()+f.slice(1)},normalizeProperty:function(a){var b,c;if(this.isPropSupported(a))return a;
var g=this.toTitleCase(a);a=0;for(b=f.length;a<b;a++)if(c=f[a],c=""+c+g,this.isPropSupported(c))return c},normalizeValue:function(f,a){this.includes(b,f)&&null!==a&&(a=""+a,!d.test(a)||g.test(a)||D.test(a)||(a+="px"));return a}};var l=function(f,a,b){var c;if(h.isIterable(f)){var g=0;for(c=f.length;g<c;g++){var d=f[g];l(d,a,b)}}else if("object"===typeof a)for(g in a)b=a[g],l(f,g,b);else{a=h.normalizeProperty(a);if("undefined"===typeof b)return getComputedStyle(f)[a];a&&(f.style[a]=h.normalizeValue(a,
b))}};l.version="1.0.5";return null!=("undefined"!==typeof a&&null!==a?a.exports:void 0)?a.exports=l:"function"===typeof define&&define.amd?define(["quickdom"],function(){return l}):this.Css=l})();return a.exports}.call(this,{});var a=p(4);var d="id name type href selected checked className".split(" ");var c="id ref type name text style class className url href selected checked props attrs passStateToChildren stateTriggers".split(" ");var h={includes:function(f,a){return f&&-1!==f.indexOf(a)},removeItem:function(f,
a){var b=f.indexOf(a);-1!==b&&f.splice(b,1);return f},normalizeGivenEl:function(f){switch(!1){case !g.domNode(f):return r(f);case !g.string(f):return r.text(f);default:return f}},isStateStyle:function(f){return"$"===f[0]||"@"===f[0]}};var g=p(2);g=a.clone(g,{domDoc:function(f){return f&&9===f.nodeType},domEl:function(f){return f&&1===f.nodeType},domText:function(f){return f&&3===f.nodeType},domNode:function(f){return g.domEl(f)||g.domText(f)},quickDomEl:function(f){return f&&"QuickElement"===f.constructor.name},
template:function(f){return f&&"QuickTemplate"===f.constructor.name}});var b=function(){function f(f,a){this.type=f;this.options=a;this.el=this.options.existing||("text"===this.type?document.createTextNode(this.options.text):"*"===this.type[0]?document.createElementNS("http://www.w3.org/2000/svg",this.type.slice(1)):document.createElement(this.type));"text"===this.type&&(this.append=this.prepend=this.attr=function(){});this._parent=null;this._styles={};this._stylesShared=[];this._state=[];this._children=
[];this._insertedCallbacks=[];this._eventCallbacks={__refs:{}};this._normalizeOptions();this._applyOptions();this._attachStateEvents();this._proxyParent();this.el._quickElement=this}f.prototype.toJSON=function(){var f;var b=[this.type,a.clone.keys(c)(this.options)];var g=this.children;var d=0;for(f=g.length;d<f;d++){var h=g[d];b.push(h.toJSON())}return b};return f}();null==b.name&&(b.name="QuickElement");Object.defineProperties(b.prototype,{raw:{get:function(){return this.el}},0:{get:function(){return this.el}},
css:{get:function(){return this.style}},replaceWith:{get:function(){return this.replace}}});b.prototype.parentsUntil=function(f){return l(this,f)};b.prototype.parentMatching=function(f){var a;if(g["function"](f))for(a=this.parent;a;){if(f(a))return a;a=a.parent}};Object.defineProperties(b.prototype,{children:{get:function(){var f;if(this.el.childNodes.length!==this._children.length){this._children.length=0;var a=this.el.childNodes;var b=0;for(f=a.length;b<f;b++){var c=a[b];4>c.nodeType&&this._children.push(r(c))}}return this._children}},
parent:{get:function(){this._parent&&this._parent.el===this.el.parentNode||g.domDoc(this.el.parentNode)||(this._parent=r(this.el.parentNode));return this._parent}},parents:{get:function(){return l(this)}},next:{get:function(){return r(this.el.nextSibling)}},prev:{get:function(){return r(this.el.previousSibling)}},nextAll:{get:function(){var f;var a=[];for(f=r(this.el.nextSibling);f;)a.push(f),f=f.next;return a}},prevAll:{get:function(){var f;var a=[];for(f=r(this.el.previousSibling);f;)a.push(f),
f=f.prev;return a}},siblings:{get:function(){return this.prevAll.reverse().concat(this.nextAll)}},child:{get:function(){return this._childRefs||x(this)}},childf:{get:function(){return x(this,!0)}},index:{get:function(){var f;return(f=this.parent)?f.children.indexOf(this):null}},indexType:{get:function(){return y(this,"type")}},indexRef:{get:function(){return y(this,"ref")}}});var l=function(f,a){var b;g["function"](a)||(a=void 0);var c=[];for(b=f.parent;b;)c.push(b),b=b.parent,a&&a(b)&&(b=null);return c};
var x=function(f,b){if(b||!f._childRefs)f._childRefs={};var c=f._childRefs;f.ref&&(c[f.ref]=f);c=f.children;c.length&&a.apply(null,[f._childRefs].concat(slice.call(c.map(function(f){return x(f,b)}))));return f._childRefs};var y=function(f,a){var b;return(b=f.parent)?b.children.filter(function(b){return b[a]===f[a]}).indexOf(f):null};var B={hover:{on:"mouseenter",off:"mouseleave",bubbles:!0},focus:{on:"focus",off:"blur",bubbles:!0}};b.prototype._normalizeOptions=function(){var f;this.options["class"]&&
(this.options.className=this.options["class"]);this.options.url&&(this.options.href=this.options.url);null==(f=this.options).relatedInstance&&(f.relatedInstance=this);null==(f=this.options).unpassableStates&&(f.unpassableStates=[]);null==(f=this.options).passStateToChildren&&(f.passStateToChildren=!0);this.options.stateTriggers=this.options.stateTriggers?a.clone.deep(B,this.options.stateTriggers):B;this._parseStyles()};b.prototype._parseStyles=function(){var f;if(!g.objectPlain(this.options.style))return this._providedStates=
[];var b=Object.keys(this.options.style).filter(function(f){return h.isStateStyle(f)});var c=h.removeItem(b.slice(),"$base");this._mediaStates=b.filter(function(f){return"@"===f[0]}).map(function(f){return f.slice(1)});this._providedStates=b.map(function(f){return f.slice(1)});h.includes(b,"$base")?this._styles.base=this.options.style.$base:this._styles.base=b.length?a.clone.notKeys(b)(this.options.style):this.options.style;var d=function(f){return function(a,b){var c;var g=Object.keys(a);var D={};
var l=!1;var m=0;for(c=g.length;m<c;m++){var e=g[m];if(h.isStateStyle(e)){var F=e.slice(1);b.push(F);var J=b.join("+");f._hasSharedStateStyle=!0;null==f._stateShared&&(f._stateShared=[]);f._stylesShared.push(J);"@"===e[0]&&f._mediaStates.push(F);f._styles[J]=d(a[e],b)}else l=!0,D[e]=a[e]}if(l)return D}}(this);b=0;for(f=c.length;b<f;b++){var l=c[b];var m=l.slice(1);(l=d(this.options.style[l],[m]))&&(this._styles[m]=l)}};b.prototype._applyOptions=function(){var f,b;(b=this.options.id||this.options.ref)&&
this.attr("data-ref",this.ref=b);this.options.id&&(this.el.id=this.options.id);this.options.className&&(this.el.className=this.options.className);this.options.src&&(this.el.src=this.options.src);this.options.href&&(this.el.href=this.options.href);this.options.type&&(this.el.type=this.options.type);this.options.name&&(this.el.name=this.options.name);this.options.value&&(this.el.value=this.options.value);this.options.selected&&(this.el.selected=this.options.selected);this.options.checked&&(this.el.checked=
this.options.checked);if(this.options.props){var c=this.options.props;for(f in c)b=c[f],this.prop(f,b)}if(this.options.attrs)for(f in c=this.options.attrs,c)b=c[f],this.attr(f,b);this.options.styleAfterInsert||this.style(this._styles.base);this.onInserted(function(f){return function(){var b;f.options.styleAfterInsert&&f.style(a.clone.apply(a,[f._styles.base].concat(slice.call(f._getStateStyles(f._getActiveStates())))));var c=f._inserted=f;if((b=f._mediaStates)&&f._mediaStates.length)return f._mediaStates=
new function(){var f;var a=0;for(f=b.length;a<f;a++){var g=b[a];this[g]=fa.register(c,g)}return this}}}(this));this.options.recalcOnResize&&window.addEventListener("resize",function(f){return function(){return f.recalcStyle()}}(this))};b.prototype._attachStateEvents=function(f){var a;var b=this.options.stateTriggers;var c=function(a){return function(b,c){if(h.includes(a._providedStates,b)||f||c.force){var d=g.string(c)?c:c.on;if(g.object(c))var D=c.off;a._listenTo(d,function(){return a.state(b,!0,
c.bubbles)});if(D)return a._listenTo(D,function(){return a.state(b,!1,c.bubbles)})}}}(this);for(a in b){var d=b[a];c(a,d)}};b.prototype._proxyParent=function(){var f=void 0;return Object.defineProperty(this,"_parent",{get:function(){return f},set:function(a){if(f=a){var b=this.parents.slice(-1)[0];if(b.raw===document.documentElement)this._unproxyParent(a);else f.onInserted(function(b){return function(){if(f===a)return b._unproxyParent(a)}}(this))}}})};b.prototype._unproxyParent=function(f){var a;
delete this._parent;this._parent=f;var b=this._insertedCallbacks;var c=0;for(a=b.length;c<a;c++)f=b[c],f(this)};var w=/\s+/;b.prototype.on=function(f,a){if(g.string(f)&&g["function"](a)){var b=f.split(".");var c=b[1];f=b[0];f.split(w).forEach(function(f){return function(b){f._eventCallbacks[b]||(f._eventCallbacks[b]=[],f._listenTo(b,function(a){var c;var g=f._eventCallbacks[b].slice();var d=0;for(c=g.length;d<c;d++){var h=g[d];h.call(f.el,a)}}));c&&(f._eventCallbacks.__refs[c]=a);return f._eventCallbacks[b].push(a)}}(this))}return this};
b.prototype.once=function(f,a){var b;if(g.string(f)&&g["function"](a))this.on(f,b=function(c){return function(g){c.off(f,b);return a.call(c.el,g)}}(this));return this};b.prototype.off=function(f,a){if(g.string(f)){var b=f.split(".");var c=b[1];f=b[0];f.split(w).forEach(function(f){return function(b){if(f._eventCallbacks[b]){null==a&&(a=f._eventCallbacks.__refs[c]);if(g["function"](a))return h.removeItem(f._eventCallbacks[b],a);if(!c)return f._eventCallbacks[b].length=0}}}(this))}else for(b in this._eventCallbacks)this.off(b);
return this};b.prototype.emit=function(f,a,b){null==a&&(a=!0);null==b&&(b=!0);if(f&&g.string(f)){var c=document.createEvent("Event");c.initEvent(f,a,b);this.el.dispatchEvent(c)}return this};b.prototype.onInserted=function(f,a){null==a&&(a=!0);if(g["function"](f))return this._inserted?a&&f(this):this._insertedCallbacks.push(f),this};b.prototype._listenTo=function(f,a){this.el[this.el.addEventListener?"addEventListener":"attachEvent"](this.el.addEventListener?f:"on"+f,a);return this};b.prototype.updateOptions=
function(f){g.object(f)&&(this.options=f,this._normalizeOptions(),this._applyOptions(this.options));return this};b.prototype.state=function(f,b,c,d){var l;if(1===arguments.length)return h.includes(this._state,f);if(this._statePipeTarget&&d!==this)return this._statePipeTarget.state(f,b,c,this),this;if(g.string(f)){"$"===f[0]&&(f=f.slice(1));var D=!!b;if("base"===f)return this;var m=this._getActiveStates(f,!1);var e=this._getStateStyles(m);if(this.state(f)!==D){if(l=this._styles[f]||this._styles[f]){var x=
this._providedStates.indexOf(f);m=m.filter(function(f){return function(a){return f._providedStates.indexOf(a)>x}}(this));var w=this._getStateStyles(m)}if(D)this._state.push(f),l&&this.style(a.clone.keys(l).apply(null,[l].concat(slice.call(w))));else if(h.removeItem(this._state,f),l){var F=a.clone.keys(l).apply(null,[this._styles.base].concat(slice.call(e)));l=a.transform(function(){return null}).clone(l);this.style(a(l,F))}}if(this._hasSharedStateStyle){var J=this._stylesShared.filter(function(a){return h.includes(a,
f)});m=0;for(w=J.length;m<w;m++){var y=J[m];F=y.split("+");if(l=F.length===F.filter(function(a){return function(b){return b===f||a.state(b)}}(this)).length)l=this._styles[y],D?(h.includes(this._stateShared,y)||this._stateShared.push(y),2<F.length&&(F=this._styles[h.removeItem(F,f).join("+")],l=a.clone(F,l)),this.style(l)):(h.removeItem(this._stateShared,y),this._stateShared.length&&e.push.apply(e,this._stateShared.filter(function(a){return!h.includes(a,f)}).map(function(a){return function(f){return a._styles[f]}}(this))),
F=a.clone.keys(l).apply(null,[this._styles.base].concat(slice.call(e))),l=a.transform(function(){return null}).clone(l),this.style(a(l,F)))}}if(!h.includes(this.options.unpassableStates,f))if(c)this.parent&&this._parent.state(f,b,!0,d||this);else if(this.options.passStateToChildren)for(m=this._children,D=0,l=m.length;D<l;D++)e=m[D],e.state(f,b,!1,d||this);return this}};b.prototype.resetState=function(){var a;var b=this._state.slice();var c=0;for(a=b.length;c<a;c++){var g=b[c];this.state(g,!1)}return this};
b.prototype.pipeState=function(a){var f;if(a){if(a=h.normalizeGivenEl(a),g.quickDomEl(a)&&a!==this){this._statePipeTarget=a;var b=this._state;var c=0;for(f=b.length;c<f;c++){var d=b[c];a.state(d,!0)}}}else!1===a&&delete this._statePipeTarget;return this};b.prototype.style=function(){if("text"!==this.type){var f=arguments;if(g.string(f[0])){var b=m(this.el,f[0],f[1]);if(!g.defined(f[1]))return this._inserted?b:b?"":b}else g.object(f[0])&&m(this.el,a.allowNull.transform(function(a){return function(f){return"function"===
typeof f?f.call(a,a.options.relatedInstance):f}}(this)).clone(f[0]));return this}};b.prototype.styleSafe=function(a,b){if("text"!==this.type){var f=arguments;var c=this.style(a);return g.string(c)?(b&&(c=0),c||this.el.style[f[0]]||this._styles.base[f[0]]||""):this}};b.prototype.styleParsed=function(a){return parseFloat(this.styleSafe(a))};b.prototype.recalcStyle=function(){var f=this._getStateStyles(this._getActiveStates());f=a.clone.filter(function(a){return"function"===typeof a}).apply(null,[this._styles.base].concat(slice.call(f)));
return this.style(f)};b.prototype._getActiveStates=function(a,b){null==b&&(b=!0);var f=this._providedStates.filter(function(f){return function(b){return h.includes(f._state,b)&&b!==a}}(this));return b&&this._hasSharedStateStyle?f.concat(this._stateShared):f};b.prototype._getStateStyles=function(a){return a.map(function(a){return function(f){return a._styles[f]||a._styles[f]}}(this))};Object.defineProperties(b.prototype,{rect:{get:function(){return this.el.getBoundingClientRect()}},width:{get:function(){return parseFloat(this.style("width"))}},
height:{get:function(){return parseFloat(this.style("height"))}},orientation:C={get:function(){return this.width>this.height?"landscape":"portrait"}},aspectRatio:e={get:function(){return this.width/this.height}}});b.prototype.attr=function(a,b){switch(b){case void 0:return this.el.getAttribute(a);case null:return this.el.removeAttribute(a);default:return this.el.setAttribute(a,b),this}};b.prototype.prop=function(a,b){switch(b){case void 0:return this.el[a];default:return this.el[a]=b,this}};b.prototype.toTemplate=
function(){return r.template(this)};b.prototype.clone=function(){var f,c;var g=this.el.cloneNode(!1);g=a.clone(this.options,{existing:g});g=new b(this.type,g);var d=this._state;var h=0;for(c=d.length;h<c;h++){var l=d[h];g.state(l,!0)}d=this.children;h=0;for(c=d.length;h<c;h++)l=d[h],g.append(l.clone());var m=this._eventCallbacks;for(f in m)for(h=m[f],d=0,c=h.length;d<c;d++)l=h[d],g.on(f,l);return g};b.prototype.append=function(a){var f;a&&(a=h.normalizeGivenEl(a),g.quickDomEl(a)&&((f=a.parent)&&f._removeChild(a),
this._children.push(a),this.el.appendChild(a.el),a._refreshParent()));return this};b.prototype.appendTo=function(a){a&&(a=h.normalizeGivenEl(a),g.quickDomEl(a)&&a.append(this));return this};b.prototype.prepend=function(a){var f;a&&(a=h.normalizeGivenEl(a),g.quickDomEl(a)&&((f=a.parent)&&f._removeChild(a),this._children.unshift(a),this.el.insertBefore(a.el,this.el.firstChild),a._refreshParent()));return this};b.prototype.prependTo=function(a){a&&(a=h.normalizeGivenEl(a),g.quickDomEl(a)&&a.prepend(this));
return this};b.prototype.after=function(a){if(a&&this.parent&&(a=h.normalizeGivenEl(a),g.quickDomEl(a))){var b=this.parent._children.indexOf(this);this.parent._children.splice(b+1,0,a);this.el.parentNode.insertBefore(a.el,this.el.nextSibling);a._refreshParent()}return this};b.prototype.insertAfter=function(a){a&&(a=h.normalizeGivenEl(a),g.quickDomEl(a)&&a.after(this));return this};b.prototype.before=function(a){if(a&&this.parent&&(a=h.normalizeGivenEl(a),g.quickDomEl(a))){var b=this.parent._children.indexOf(this);
this.parent._children.splice(b,0,a);this.el.parentNode.insertBefore(a.el,this.el);a._refreshParent()}return this};b.prototype.insertBefore=function(a){a&&(a=h.normalizeGivenEl(a),g.quickDomEl(a)&&a.before(this));return this};b.prototype.detach=function(){var a;null!=(a=this.parent)&&a._removeChild(this);return this};b.prototype.remove=function(){var a;this.detach();this.resetState();for(a in this._eventCallbacks)this._eventCallbacks[a].length=0;return this};b.prototype.empty=function(){var a;var b=
this.children.slice();var c=0;for(a=b.length;c<a;c++){var g=b[c];this._removeChild(g)}return this};b.prototype.wrap=function(a){if(a){a=h.normalizeGivenEl(a);var b=this.parent;g.quickDomEl(a)&&a!==this&&a!==this.parent&&(b&&b._removeChild(this,a.parent?void 0:a),a.append(this))}return this};b.prototype.unwrap=function(){var a,b;if(b=this.parent){var c=r.batch(b.children);var g=b.next;if(a=b.parent)b.detach(),g?c.insertBefore(g):c.appendTo(a)}return this};b.prototype.replace=function(a){var b;a&&(a=
h.normalizeGivenEl(a),g.quickDomEl(a)&&a!==this&&(a.detach(),null!=(b=this.parent)&&b._removeChild(this,a),a._refreshParent()));return this};b.prototype._refreshParent=function(){return this.parent};b.prototype._removeChild=function(a,b){var c=this._children.indexOf(a);-1!==c&&(b?(this.el.replaceChild(b.el,a.el),this._children.splice(c,1,b)):(this.el.removeChild(a.el),this._children.splice(c,1)));return this};Object.defineProperties(b.prototype,{html:{get:function(){return this.el.innerHTML},set:function(a){return this.el.innerHTML=
a}},text:{get:function(){return this.el.textContent},set:function(a){return this.el.textContent=a}}});var K={type:"window",el:window,raw:window,_eventCallbacks:{__refs:{}}};K.on=b.prototype.on;K.off=b.prototype.off;K.emit=b.prototype.emit;K._listenTo=b.prototype._listenTo;Object.defineProperties(K,{width:{get:function(){return window.innerWidth}},height:{get:function(){return window.innerHeight}},orientation:C,aspectRatio:e});var fa=new function(){var a=[];window.addEventListener("resize",function(){var b;
var c=0;for(b=a.length;c<b;c++){var f=a[c];f()}});this.parseQuery=function(a,b){var c=b.split("(");var f=c[0];f=function(){switch(f){case "window":return K;case "parent":return a.parent;case "self":return a;default:return a.parentMatching(function(a){return a.ref===f.slice(1)})}}();c=c[1].slice(0,-1).split(ga).map(function(a){var b=a.split(":");a=parseFloat(b[1]);isNaN(a)&&(a=b[1]);var c=b[0];var g=c.slice(0,4);b="max-"===g;var d=!b&&"min-"===g;if(b||d)c=c.slice(4);g=function(){switch(c){case "orientation":return function(){return f.orientation};
case "aspect-ratio":return function(){return f.aspectRatio};case "width":case "height":return function(){return f[c]};default:return function(){var a=f.style(c);var b=parseFloat(a);return isNaN(b)?a:b}}}();return{key:c,value:a,min:d,max:b,getter:g}});return{source:f,rules:c}};this.register=function(c,f){var g;var d=this.parseQuery(c,f);d.source&&(a.push(g=function(){return b(c,d,f)}),g());return d};var b=function(a,b,c){var f;var g=!0;var d=b.rules;b=0;for(f=d.length;b<f;b++){var h=d[b];var l=h.getter();
g=function(){switch(!1){case !h.min:return l>=h.value;case !h.max:return l<=h.value;default:return l===h.value}}();if(!g)break}return a.state(c,g)};return this};var ga=/,\s*/;var r=function(){var a;var c=1<=arguments.length?slice.call(arguments,0):[];switch(!1){case !g.array(c[0]):return r.apply(null,c[0]);case !g.template(c[0]):return c[0].spawn();case !g.quickDomEl(c[0]):return c[1]?c[0].updateOptions(c[1]):c[0];case !(g.domNode(c[0])||g.domDoc(c[0])):if(c[0]._quickElement)return c[0]._quickElement;
var d=c[0].nodeName.toLowerCase().replace("#","");var h=c[1]||{};h.existing=c[0];return new b(d,h);case c[0]!==window:return K;case !g.string(c[0]):d=c[0].toLowerCase();h="text"===d?g.object(c[1])?c[1]:{text:c[1]||""}:g.object(c[1])?c[1]:{};c=c.slice(2);d=new b(d,h);var l=0;for(a=c.length;l<a;l++)h=c[l],g.string(h)&&(h=r.text(h)),g.template(h)&&(h=r(h)),g.array(h)&&(h=r.apply(null,h)),g.quickDomEl(h)&&h.appendTo(d);return d}};r.template=function(a){return new H(a,!0)};r.html=function(a){var b=document.createElement("div");
b.innerHTML=a;a=Array.prototype.slice.call(b.childNodes);return r.batch(a)};var A=function(){function a(a,b){this.returnResults=b;this.elements=a.map(function(a){return r(a)})}a.prototype.reverse=function(){this.elements=this.elements.reverse();return this};a.prototype["return"]=function(a){return a?(this.returnResults=!0,this):this.lastResults};return a}();null==A.name&&(A.name="QuickBatch");Object.keys(b.prototype).concat("css","replaceWith","html","text").forEach(function(a){return A.prototype[a]=
function(b){var c;var f=this.lastResults=function(){var f;var g=this.elements;var d=[];var h=0;for(f=g.length;h<f;h++)c=g[h],"html"===a||"text"===a?b?d.push(c[a]=b):d.push(c[a]):d.push(c[a].apply(c,arguments));return d}.apply(this,arguments);return this.returnResults?f:this}});r.batch=function(a,b){if(!g.iterable(a))throw Error("Batch: expected an iterable, got "+String(a));if(!a.length)throw Error("Batch: expected a non-empty element collection");return new A(a,b)};var t=function(b,c,d){var f,h,
l,m;d&&(f={options:function(b){return a(b,d)}});g.array(c)&&(c=I(c,!1));f=a.deep.notKeys("children").notDeep("relatedInstance").transform(f).clone(b,c);b=b.children;c=(null!=c?c.children:void 0)||[];f.children=[];if(g.array(c)){var e=h=0;for(m=Math.max(b.length,c.length);0<=m?h<m:h>m;e=0<=m?++h:--h){var x=l=!1;var w=b[e];var y=c[e];e=function(){switch(!1){case !g.template(y):return y;case !g.array(y):return x=I(y,!1);case !g.string(y):return x={type:"text",options:{text:y}};case !(!y&&!d):return l=
!0;default:return x=y||!0}}();l?e=w:x&&(e=w?w.extend(e,d):new H(a.deep.clone(L,e)));f.children.push(e)}}else if(g.object(c))for(w in f.children=u(c,b,d),c)y=c[w],e=g.objectPlain(e)?y:I(y),f.children.push(new H(a.deep.clone(L,e))),delete c[w];return f};var u=function(a,b,c){var f,g;if(b.length){var d=[];var h=0;for(f=b.length;h<f;h++){var l=b[h];(g=a[l.ref])?(g=l.extend(g,c),delete a[l.ref]):g=c?l.extend(null,c):l;g._config.children=u(a,g.children);d.push(g)}return d}return b};var I=function(b,c){switch(!1){case !g.array(b):var f=
{};if(g.string(b[0]))f.type=b[0];else throw Error(z+" string for 'type', got '"+String(b[0])+"'");if(1<b.length&&!g.object(b[1])&&null!==b[1])throw Error(z+" object for 'options', got '"+String(b[1])+"'");f.options=b[1]?a.deep.clone(b[1]):null;b[1]&&(f.ref=b[1].id||b[1].ref);f.children=b.slice(2);!1===c?3===b.length&&g.objectPlain(b[2])&&!g.template(b[2])&&(f.children=b[2]):f.children=f.children.map(r.template);return f;case !(g.string(b)||g.domText(b)):return{type:"text",options:{text:b.textContent||
b},children:L.children};case !g.domEl(b):return{type:b.nodeName.toLowerCase(),ref:b.id,options:a.clone.keys(d)(b),children:L.children.map.call(b.childNodes,r.template)};case !g.quickDomEl(b):return{type:b.type,ref:b.ref,options:a.clone.deep.notKeys("relatedInstance")(b.options),children:b.children.map(r.template)};case !g.template(b):return t(b._config);default:throw Error(z+" (array || string || domEl || quickDomEl || template), got "+String(b));}};var z="Template Parse Error: expected";var L={type:"div",
ref:void 0,options:{},children:[]};var H=function(){function b(a,b){this._config=b?I(a):a}b.prototype.spawn=function(b,c){if(b||c)var f=t(this._config,b,c);else f=a.clone(this._config),f.options=a.deepOnly("style").clone(f.options);return r.apply(null,[f.type,f.options].concat(slice.call(f.children)))};b.prototype.extend=function(a,c){return new b(t(this._config,a,c))};return b}();null==H.name&&(H.name="QuickTemplate");Object.keys(L).forEach(function(a){return Object.defineProperty(H.prototype,a,
{get:function(){return this._config[a]}})});Object.defineProperty(H.prototype,"child",{get:function(){return this._childRefs||x(this)}});var O="link:a anchor:a a text div span h1 h2 h3 h4 h5 h6 header footer section button br ul ol li fieldset input textarea select option form frame hr iframe img picture main nav meta object pre style table tbody th tr td tfoot video".split(" ");e=function(a){var b;var c=b=a;h.includes(a,":")&&(a=a.split(":"),c=a[0],b=a[1]);return r[c]=function(){return r.apply(null,
[b].concat(slice.call(arguments)))}};C=0;for(q=O.length;C<q;C++){var R=O[C];e(R)}r.version="1.0.34";return null!=("undefined"!==typeof k&&null!==k?k.exports:void 0)?k.exports=r:"function"===typeof define&&define.amd?define(["quickdom"],function(){return r}):this.Dom=r})();return k.exports};k[4]=function(e){var k={exports:e};(function(e){return function(){var e=function(e,m,a,d){d=function(c){return a[c]?m[c]:(a[c]=1,m[c]={},m[c]=e[c](m[c]))};e[1]=function(a){var c=d(2),g=function(a){var b;if(a){var c=
{};if("object"!==typeof a)c[a]=!0;else{Array.isArray(a)||(a=Object.keys(a));var g=0;for(b=a.length;g<b;g++)c[a[g]]=!0}return c}},b=function(a){var b=function(a){for(var g=arguments.length,d=-1,h=Array(g);++d<g;)h[d]=arguments[d];b.options.target?g=b.options.target:(g=a,h.shift());return c(b.options,g,h)};a&&(b.isBase=!0);b.options={};Object.defineProperties(b,l);return b},l={deep:{get:function(){var a=this.isBase?b():this;a.options.deep=!0;return a}},own:{get:function(){var a=this.isBase?b():this;
a.options.own=!0;return a}},allowNull:{get:function(){var a=this.isBase?b():this;a.options.allowNull=!0;return a}},nullDeletes:{get:function(){var a=this.isBase?b():this;a.options.nullDeletes=!0;return a}},concat:{get:function(){var a=this.isBase?b():this;a.options.concat=!0;return a}},clone:{get:function(){var a=this.isBase?b():this;a.options.target={};return a}},notDeep:{get:function(){var a=this.isBase?b():this;return function(b){a.options.notDeep=g(b);return a}}},deepOnly:{get:function(){var a=
this.isBase?b():this;return function(b){a.options.deepOnly=g(b);return a}}},keys:{get:function(){var a=this.isBase?b():this;return function(b){a.options.keys=g(b);return a}}},notKeys:{get:function(){var a=this.isBase?b():this;return function(b){a.options.notKeys=g(b);return a}}},transform:{get:function(){var a=this.isBase?b():this;return function(b){"function"===typeof b?a.options.globalTransform=b:b&&"object"===typeof b&&(a.options.transforms=b);return a}}},filter:{get:function(){var a=this.isBase?
b():this;return function(b){"function"===typeof b?a.options.globalFilter=b:b&&"object"===typeof b&&(a.options.filters=b);return a}}}};return b(!0)};e[2]=function(a){var c,g=function(a){return a&&"[object Object]"===Object.prototype.toString.call(a)||Array.isArray(a)},b=function(a,c,g){if(a.deep)return a.notDeep?!a.notDeep[c]:!0;if(a.deepOnly)return a.deepOnly[c]||g&&b(a,g)};return c=function(a,d,h,m){var l,e;if(!d||"object"!==typeof d&&"function"!==typeof d)d={};var k=0;for(e=h.length;k<e;k++){var n=
h[k];if(null!=n)for(l in n){var r=n[l],A=d[l];if(!(r===d||void 0===r||null===r&&!a.allowNull&&!a.nullDeletes||a.keys&&!a.keys[l]||a.notKeys&&a.notKeys[l]||a.own&&!n.hasOwnProperty(l)||a.globalFilter&&!a.globalFilter(r,l,n)||a.filters&&a.filters[l]&&!a.filters[l](r,l,n)))if(null===r&&a.nullDeletes)delete d[l];else switch(a.globalTransform&&(r=a.globalTransform(r,l,n)),a.transforms&&a.transforms[l]&&(r=a.transforms[l](r,l,n)),!1){case !(a.concat&&Array.isArray(r)&&Array.isArray(A)):d[l]=A.concat(r);
break;case !(b(a,l,m)&&g(r)):A=g(A)?A:Array.isArray(r)?[]:{};d[l]=c(a,A,[r],l);break;default:d[l]=r}}}return d}};return d},e=e({},{},{});return function(){var n=e(1);null!=("undefined"!==typeof k&&null!==k?k.exports:void 0)?k.exports=n:"function"===typeof define&&define.amd?define(["smart-extend"],function(){return n}):window.extend=n}()}})(this)();return k.exports};k[5]=function(e){return"_construct _getValue _setValue _createElements _attachBindings validate".split(" ")};k[9]=function(e){return{whiteSpace:/\s+/,
numeric:/^\d$/,letter:/^[a-zA-Z]$/,widenumeric:/^[0-9\!#\$\%\*\+\/\=\?\^\{\|\}\(\)\~\-\.]$/,alphanumeric:/^[0-9A-Za-z\!#\$\%\&\'\*\+\/\=\?\^\_\`\{\|\}\(\)\~\-\ ]$/}};k[12]=function(e){e=p(3);return{checkmark:e.template(["*svg",{attrs:{width:"12px",height:"12px",viewBox:"5 7 12 12",tabindex:-1,focusable:!1},style:{width:"9px",height:"9px"}},["*polyline",{attrs:{"stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",fill:"none",points:"7 13.8888889 9.66666667 17 15 9",tabindex:-1,focusable:!1}}]]),
angleDown:e.template(["*svg",{attrs:{width:"1792px",height:"1792px",viewBox:"0 0 1792 1792",tabindex:-1,focusable:!1},style:{width:"100%",height:"100%",outline:"none"}},["*path",{attrs:{tabindex:-1,focusable:!1,d:"M1395 736q0 13-10 23l-466 466q-10 10-23 10t-23-10l-466-466q-10-10-10-23t10-23l50-50q10-10 23-10t23 10l393 393 393-393q10-10 23-10t23 10l50 50q10 10 10 23z"}}]]),caretUp:e.template(["*svg",{attrs:{viewBox:"0 0 512 512",tabindex:-1,focusable:!1},style:{width:"100%",height:"100%"}},["*path",
{attrs:{tabindex:-1,focusable:!1,d:"M402 347c0 5-2 10-5 13-4 4-8 6-13 6h-256c-5 0-9-2-13-6-3-3-5-8-5-13s2-9 5-12l128-128c4-4 8-6 13-6s9 2 13 6l128 128c3 3 5 7 5 12z"}}]]),caretDown:e.template(["*svg",{attrs:{viewBox:"0 0 512 512",tabindex:-1,focusable:!1},style:{width:"100%",height:"100%"}},["*path",{attrs:{tabindex:-1,focusable:!1,d:"M402 201c0 5-2 9-5 13l-128 128c-4 4-8 5-13 5s-9-1-13-5l-128-128c-3-4-5-8-5-13s2-9 5-13c4-3 8-5 13-5h256c5 0 9 2 13 5 3 4 5 8 5 13z"}}]])}};k[13]=function(e){return{fontFamily:"system-ui, sans-serif",
templates:{},label:!1,error:"",help:"",required:!1,defaultValue:null,width:"100%",margin:null,padding:null}};k[16]=function(e){return{red:"#cc4820",green:"#72c322",orange:"#ff9c00",black:"#181818",grey:"#909090",grey_semi_light:"#bebebe",grey_light:"#d3d3d3",grey_light2:"#dddddd",grey_light3:"#f2f5f7"}};k[18]=function(e){var k=p(31);var n=function(a){return function(a){var c=p(9);var b=p(2);var d=p(1);var h=function(a){"use strict";var b=[],c=[];return a=function(a,d){if(a===d)return 0;var g=a.length,
h=d.length;if(0===g)return h;if(0===h)return g;for(var l,m,e,k,w=0,n=0;w<g;)c[w]=a.charCodeAt(w),b[w]=++w;for(;n<h;)for(l=d.charCodeAt(n),e=n++,m=n,w=0;w<g;w++)k=l===c[w]?e:e+1,e=b[w],m=b[w]=e>m?k>m?m+1:k:k>e?e+1:k;return m}}.call(this,{});var m="1#aA*^".split("");n=function(a,b,c){this.pattern=a;this.placeholder=b;this.guide=c;this.optionalsOffset=this.minRequiredCount=0;this.lastValid=null;this.lastInput="";this.valid=!1;this.valueStrict=this.valueRaw=this.value="";this.prev={};this.literals=[];
this.optionals=[];this.repeatables=[];this._normalizePattern();this.setValue("");return this};n.prototype._normalizePattern=function(){var a,b,c,g;var h="";for(a=c=g=b=0;g<this.pattern.length;){var e=this.pattern[g];switch(!1){case !l:var l=!1;this.literals.push(g-c);h+=e;0===b&&a++;break;case "\\"!==e:l=!0;c++;break;case "["!==e:var k=!0;c++;break;case "]"!==e:k=!1;c++;break;case "+"!==e:c++;break;default:d.includes(m,e)?k?this.optionals.push(g-c):b++:(this.literals.push(g-c),0===b&&a++),"+"===this.pattern[g+
1]&&this.repeatables.push(g-c),h+=e}g++}this.minRequiredCount=b;this.firstNonLiteral=a;return this.pattern=h};n.prototype.setValue=function(a){var b,c,g,l,k;var n=d.getIndexOfFirstDiff(this.value,a);var w=h(this.value,a);(b=1===a.length&&0===this.valueRaw.length?!1:this.value.length>a.length)||(c=a.slice(n,n+w));var y=l=g="";var q=this.pattern.length;var x=k=0;if(!(!w&&this.value||b&&d.includes(this.literals,n-this.optionalsOffset)&&n-this.optionalsOffset>this.firstNonLiteral)){for(;k<q;){var C=k;
var p=this.pattern[k];var B=a[x];var f=d.includes(this.literals,k);var u=d.includes(this.optionals,k);n=d.includes(this.repeatables,k);if(a&&!B&&!this.guide)break;switch(!1){case !f:g+=p;y+=p;p===B?d.includes(m,p)&&!b||w>=this.literals.length&&1<w&&this.valueRaw.length||x++:1===w&&a[x+1]===p&&(x+=2);k++;break;case !d.includes(m,p):if(f=B&&e(B,p)){if("A"===p||"^"===p)B=B.toUpperCase();g+=B;l+=B;if(!u&&!n||z!==k)y+=B;var z=a[x+1]&&e(a[x+1],p);x++;z&&n||k++;n&&!z&&d.includes(this.literals,k)&&a[x]!==
this.pattern[k]&&x++}else 1!==w||!e(a[x+1],p)||b?(k++,!u&&this.guide&&(g+=this.placeholder,y+=this.placeholder)):u&&x++,u||x++;break;default:debugger}z=C}this.prev.value=this.value;this.prev.valueRaw=this.valueRaw;this.prev.valueStrict=this.valueStrict;this.value=g;this.valueRaw=l;this.valueStrict=y;c&&(this.lastInput=c);this.optionalsOffset=h(g,y);this.valid=this.validate(a,!0)}};n.prototype.validate=function(a,c){var g,h;if(!b.string(a)||a.length<this.minRequiredCount)return!1;var l=this.pattern.length;
for(g=h=0;h<l;){var k=this.pattern[h];var n=a[g];var w=d.includes(this.literals,h);var x=d.includes(this.optionals,h);var y=d.includes(this.repeatables,h);switch(!1){case !w:h++;k===n&&null!=a[g+1]&&g++;break;case !d.includes(m,k):if(n=n&&e(n,k))x=a[g+1]&&e(a[g+1],k),g++,x&&y||h++;else if(x)h++;else return c&&(this.lastValid=0>g-1?null:g-1),!1}}c&&(this.lastValid=g);return!0};n.prototype.normalizeCursorPos=function(a,b){var c;var g=b>a;if(a<=this.firstNonLiteral){var h=1<=this.firstNonLiteral-a&&
!g||1===this.firstNonLiteral?1:0;a=this.firstNonLiteral+h}var l=0;var e=this.value.slice(0,a);var m=this.valueStrict.slice(0,a);h=d.getIndexOfFirstDiff(this.value,this.prev.value);for(c=0;c<a;)e[c]!==m[c-l]&&l++,c++;if(g){if(a===this.firstNonLiteral)return a;if(d.includes(this.literals,a-1)||this.value[a-1]===this.placeholder)return a-(0===l?1:0)}else{if(null===h)return d.includes(this.literals,a-l-1)&&m[a-l-1]===this.lastInput?a:Math.max(a-1,this.firstNonLiteral);if(d.includes(this.repeatables,a-
l)||d.includes(this.repeatables,h-l))return a;if(d.includes(this.literals,a-l))return a+(0===l?1:0);if(d.includes(this.literals,h-1)&&h===a)return a+1}return a};n.prototype.isLiteralAtPos=function(a){return d.includes(this.literals,a)};n.prototype.isRepeatableAtPos=function(a){0!==a&&(a-=this.optionalsOffset+1);return d.includes(this.repeatables,a)};var e=function(a,b){switch(b){case "1":return c.numeric.test(a);case "#":return c.widenumeric.test(a);case "a":case "A":return c.letter.test(a);case "*":case "^":return c.alphanumeric.test(a);
default:return!1}};return a=n}}(this)({});var C=p(20);var q=p(1);var m=p(2);var a=p(3);var d=p(46);e=Object.create(null);e._templates=function(c){return function(c){a=p(3);c=p(16);q=p(1);return c={field:a.template(["div",{ref:"field",style:{position:"relative",display:"none",boxSizing:"border-box",fontFamily:function(a){return a.settings.fontFamily},$visible:{display:"inline-block"},$showError:{animation:"0.2s fieldErrorShake"}}},["div",{ref:"label",styleAfterInsert:!0,style:{position:"absolute",
zIndex:1,top:function(a){return parseFloat(a.el.child.innerwrap.styleSafe("height"))/6},left:function(a){var b;return parseFloat(null!=(b=a.el.child.icon)?b.styleSafe("width"):void 0)||0},padding:"0 12px",fontFamily:"inherit",fontSize:"11px",fontWeight:600,lineHeight:"1em",color:c.grey,opacity:0,transition:"opacity 0.2s, color 0.2s",whiteSpace:"nowrap",userSelect:"none",cursor:"default",pointerEvents:"none",$filled:{$showLabel:{opacity:1}},$focus:{color:c.orange},$showError:{color:c.red}}}],["div",
{ref:"innerwrap",style:{position:"relative",height:"46px",backgroundColor:"white",borderWidth:"1px",borderStyle:"solid",borderColor:c.grey_light,borderRadius:"2px",boxSizing:"border-box",fontFamily:"inherit",transition:"border-color 0.2s",$focus:{borderColor:c.orange},$showError:{borderColor:c.red},$disabled:{borderColor:c.grey_light,backgroundColor:c.grey_light}}},["input",{ref:"input",type:"text",styleAfterInsert:!0,style:{position:"relative",zIndex:3,display:"inline-block",verticalAlign:"top",
width:function(a){if(!a.settings.autoWidth){var b="";a.el.child.icon&&(b+=" -"+a.el.child.icon.raw.styleSafe("width",!0));a.el.child.checkmark&&(b+=" -"+a.el.child.checkmark.styleSafe("width",!0));return"calc(100% + ("+(b||"0px")+"))"}},height:function(){return this.parent.styleSafe("height")},margin:"0",padding:"12px",backgroundColor:"transparent",appearance:"none",border:"none",outline:"none",fontFamily:"inherit",fontSize:"14px",color:c.black,boxSizing:"border-box",boxShadow:"none",whiteSpace:"nowrap",
transform:"translateY(0)",transition:"transform 0.2s, -webkit-transform 0.2s",$filled:{$showLabel:{transform:function(a){var b;if((b=a.el.child.label)&&"absolute"===b.style("position"))return a=this._inserted?this.styleParsed("paddingTop"):q.parseCssShorthandValue(this.styleSafe("padding")).top,b=b.height+b.styleParsed("top")-a-2,"translateY("+b+"px)"}}},$showCheckmark:{padding:"0 44px 0 12px"}}}],["div",{ref:"placeholder",styleAfterInsert:!0,style:{position:"absolute",zIndex:2,top:"0px",left:function(a){var b;
return(null!=(b=a.el.child.icon)?b.styleSafe("width"):void 0)||0},fontFamily:function(a){return a.el.child.input.styleSafe("fontFamily")},fontSize:function(a){return a.el.child.input.styleSafe("fontSize")},padding:function(a){var b=a.el.child.input.styleParsed("paddingLeft");return a.el.child.input.styleParsed("paddingTop")+3+"px "+b+"px"},color:c.black,opacity:.5,userSelect:"none",whiteSpace:"nowrap",transform:"translateY(0)",transition:"transform 0.2s, -webkit-transform 0.2s",$filled:{visibility:"hidden",
$showLabel:{transform:function(a){return a.el.child.input.raw.style.transform}}}}}]],["div",{ref:"help",styleAfterInsert:!0,style:{position:"absolute",bottom:function(){return-1*(this.styleParsed("fontSize")+10)},left:"0px",fontFamily:"inherit",fontSize:"11px",color:c.grey,display:"none",$showError:{color:c.red,display:"block"},$showHelp:{display:"block"}}}]]),checkmark:a.template(["div",{ref:"checkmark",styleAfterInsert:!0,style:{position:"relative",zIndex:4,display:"none",width:"38px",height:"100%",
paddingTop:function(){return this.parent.styleParsed("height")/2-13},paddingRight:"12px",verticalAlign:"top",boxSizing:"border-box",$filled:{display:"inline-block"}}},["div",{ref:"checkmark_innerwrap",style:{width:"20px",height:"20px",borderRadius:"50%",backgroundColor:"white",borderWidth:"3px",borderStyle:"solid",borderColor:c.green,transform:"scale(0.8)",$showError:{borderColor:c.red}}},["div",{ref:"checkmark_mask1",styleAfterInsert:!0,style:{position:"absolute",top:"-4px",left:"-10px",width:"15px",
height:"30px",borderRadius:"30px 0 0 30px",backgroundColor:function(){return this.parent.raw.style.backgroundColor},transform:"rotate(-45deg)",transformOrigin:"15px 15px 0"}}],["div",{ref:"checkmark_mask2",styleAfterInsert:!0,style:{position:"absolute",top:"-5px",left:"8px",width:"15px",height:"30px",borderRadius:"0 30px 30px 0",backgroundColor:function(){return this.parent.raw.style.backgroundColor},transform:"rotate(-45deg)",transformOrigin:"0 15px 0",$filled:{animation:"4.25s ease-in checkmarkRotatePlaceholder",
$invalid:{animation:""}}}}],["div",{ref:"checkmark_lineWrapper",style:{$filled:{$invalid:{position:"relative",zIndex:2,animation:"0.55s checkmarkAnimateError",transformOrigin:"50% 10px"}}}},["div",{ref:"checkmark_lineShort",style:{position:"absolute",zIndex:2,top:"10px",left:"3px",display:"block",width:"8px",height:"3px",borderRadius:"2px",backgroundColor:c.green,transform:"rotate(45deg)",$filled:{animation:"0.75s checkmarkAnimateSuccessTip"},$invalid:{backgroundColor:c.red,left:"4px",top:"8px",width:"12px",
$filled:{animation:""}}}}],["div",{ref:"checkmark_lineLong",style:{position:"absolute",zIndex:2,top:"8px",right:"2px",display:"block",width:"12px",height:"3px",borderRadius:"2px",backgroundColor:c.green,transform:"rotate(-45deg)",$filled:{animation:"0.75s checkmarkAnimateSuccessLong"},$invalid:{backgroundColor:c.red,top:"8px",left:"4px",right:"auto",$filled:{animation:""}}}}]],["div",{ref:"checkmark_placeholder",style:{position:"absolute",zIndex:2,top:"-4px",left:"-3px",width:"20px",height:"20px",
borderRadius:"50%",borderWidth:"3px",borderStyle:"solid",borderColor:q.hexToRGBA(c.green,.4),$invalid:{borderColor:q.hexToRGBA(c.red,.4)}}}],["div",{ref:"checkmark_patch",styleAfterInsert:!0,style:{position:"absolute",zIndex:1,top:"-2px",left:"6px",width:"4px",height:"28px",backgroundColor:function(){return this.parent.raw.style.backgroundColor},transform:"rotate(-45deg)"}}]]])}}}(this)({});e._defaults=function(a){return function(a){return{mask:!1,maskPlaceholder:" ",maskGuide:!0,placeholder:!0,validWhenIsChoice:!1,
validWhenRegex:!1,autoWidth:!1,maxWidth:"100%",checkmark:!0,keyboard:"text",dropdownOptions:{storeSelected:!1,lockScroll:!1},choices:null}}}(this)({});e._construct=function(){null==this._value&&(this._value="");this.state.typing=!1;this.cursor={prev:0,current:0};if(!this.settings.mask){var a=this.settings;a:{switch(this.settings.keyboard){case "number":case "phone":case "tel":var d="1+";break a;case "email":d="*+@*+.aa+";break a}d=void 0}a.mask=d}this.settings.mask&&(this.mask=new n(this.settings.mask,
this.settings.maskPlaceholder,this.settings.maskGuide))};e._getValue=function(){return this._value};e._setValue=function(a){if(m.string(a)||m.number(a))return this._value=a};e._createElements=function(){var a={relatedInstance:this};this.el=this._templates.field.spawn(this.settings.templates.field,a);this.settings.choices&&(this.dropdown=new k(this.settings.choices,this),this.dropdown.appendTo(this.el.child.innerwrap));if(this.settings.icon){if(m.string(this.settings.icon))var d=this.settings.icon;
this._templates.icon.spawn(this.settings.templates.icon,a,d).insertBefore(this.el.child.input)}this.settings.checkmark&&this._templates.checkmark.spawn(this.settings.templates.checkmark,a).insertAfter(this.el.child.input);this.el.child.input.prop("type",function(){switch(this.settings.keyboard){case "number":case "tel":case "phone":return"tel";case "password":return"password";case "url":return"url";default:return"text"}}.call(this));this.el.state("hasLabel",this.settings.label);this.el.child.innerwrap.raw._quickField=
this.el.child.input.raw._quickField=this};e._attachBindings=function(){this._attachBindings_elState();this._attachBindings_display();this._attachBindings_display_autoWidth();this._attachBindings_value();this._attachBindings_autocomplete();this._attachBindings_stateTriggers()};e._attachBindings_elState=function(){d("visible").of(this.state).to(function(a){return function(c){return a.el.state("visible",c)}}(this));d("hovered").of(this.state).to(function(a){return function(c){return a.el.state("hover",
c)}}(this));d("focused").of(this.state).to(function(a){return function(c){return a.el.state("focus",c)}}(this));d("filled").of(this.state).to(function(a){return function(c){return a.el.state("filled",c)}}(this));d("disabled").of(this.state).to(function(a){return function(c){return a.el.state("disabled",c)}}(this));d("showLabel").of(this.state).to(function(a){return function(c){return a.el.state("showLabel",c)}}(this));d("showError").of(this.state).to(function(a){return function(c){return a.el.state("showError",
c)}}(this));d("showHelp").of(this.state).to(function(a){return function(c){return a.el.state("showHelp",c)}}(this));d("valid").of(this.state).to(function(a){return function(c){a.el.state("valid",c);return a.el.state("invalid",!c)}}(this))};e._attachBindings_display=function(){d("showError",{updateOnBind:!1}).of(this.state).to(function(a){return function(c){if(c){if(a.state.error&&m.string(a.state.error))return a.state.help=a.state.error}else return a.state.help=a.state.help}}(this));d("label").of(this.state).to("text").of(this.el.child.label).and.to("showLabel").of(this.state);
d("help").of(this.state).to("html").of(this.el.child.help).and.to("showHelp").of(this.state);d("placeholder").of(this.state).to("text").of(this.el.child.placeholder).transform(function(a){return function(c){switch(!1){case !(!0===c&&a.settings.label):return a.settings.label;case !m.string(c):return c;default:return""}}}(this));d("margin").of(this.state).to(this.el.style.bind(this.el,"margin"));d("padding").of(this.state).to(this.el.style.bind(this.el,"padding"))};e._attachBindings_display_autoWidth=
function(){d("width",{updateEvenIfSame:!0}).of(this.state).to(function(a){return function(c){return(a.settings.autoWidth?a.el.child.input:a.el).style({width:c})}}(this));this.settings.autoWidth&&d("_value",{updateEvenIfSame:!0,updateOnBind:!1}).of(this).to("width").of(this.state).transform(function(a){return function(){return a._getInputAutoWidth()+"px"}}(this)).updateOn("event:inserted").of(this)};e._attachBindings_value=function(){d("value").of(this.el.child.input.raw).transformSelf(function(a){return function(c){null==
c&&(c="");a.mask&&(a.mask.setValue(c),a.cursor.current=a.selection().start,c=a.mask.valueRaw?a.mask.value:"");return c}}(this));d("_value").of(this).to("value").of(this.el.child.input.raw).bothWays().and.to("valueRaw").of(this).transform(function(a){return function(c){return a.mask?a.mask.valueRaw:c}}(this));d("valueRaw").of(this).to(function(a){return function(c){a.state.filled=!!c;c&&(a.state.interacted=!0);a.state.valid=a.validate();return a.emit("input",c)}}(this));d("event:keydown").of(this.el.child.input).to(function(a){return function(c){c.keyCode===
C.enter&&a.emit("submit");return a.emit("key-"+c.keyCode)}}(this));this.settings.mask&&(d("value",{updateEvenIfSame:!0}).of(this.el.child.input.raw).to(function(a){return function(c){if(a.state.focused)return a._scheduleCursorReset()}}(this)),d("event:keydown").of(this.el.child.input).to(function(a){return function(c){c=a.selection().start;return a.selection({start:c+1,end:c+1})}}(this)).condition(function(a){return function(c){var d=a.selection();return a._value&&d.start===d.end&&c.keyCode!==C["delete"]&&
!C.anyArrow(c.keyCode)&&a.mask.isLiteralAtPos(d.start)&&!a.mask.isRepeatableAtPos(d.start)}}(this)))};e._attachBindings_autocomplete=function(){this.dropdown&&(d("typing",{updateEvenIfSame:!0}).of(this.state).to(function(c){return function(h){if(h){if(c.valueRaw)return c.dropdown.isOpen=!0,d("event:click").of(document).once.to(function(){return c.dropdown.isOpen=!1}).condition(function(d){return!a(d.target).parentMatching(function(a){return a===c.el.child.innerwrap})})}else return setTimeout(function(){return c.dropdown.isOpen=
!1},300)}}(this)),d("valueRaw",{updateOnBind:!1}).of(this).to(function(a){return function(c){var d;var b=a.dropdown.options;var h=0;for(d=b.length;h<d;h++){var e=b[h];var m=c?q.fuzzyMatch(c,e.value):!0;e.visible!==m&&(e.visible=m)}a.dropdown.isOpen&&!c&&(a.dropdown.isOpen=!1)}}(this)),this.dropdown.onSelected(function(a){return function(c){a._value=c.label;c.value!==c.label&&(a.valueRaw=c.value);a.dropdown.isOpen=!1;return a.selection(a.el.child.input.raw.value.length)}}(this)))};e._attachBindings_stateTriggers=
function(){d("event:mouseenter").of(this.el.child.input).to(function(a){return function(){return a.state.hovered=!0}}(this));d("event:mouseleave").of(this.el.child.input).to(function(a){return function(){return a.state.hovered=!1}}(this));d("event:focus").of(this.el.child.input).to(function(a){return function(){a.state.focused=!0;if(a.state.disabled)return a.blur()}}(this));d("event:blur").of(this.el.child.input).to(function(a){return function(){return a.state.typing=a.state.focused=!1}}(this));d("event:input").of(this.el.child.input).to(function(a){return function(){return a.state.typing=
!0}}(this));d("event:keydown").of(this.el.child.input).to(function(a){return function(){return a.cursor.prev=a.selection().end}}(this))};e._scheduleCursorReset=function(){q.getIndexOfFirstDiff(this.mask.value,this.mask.prev.value);var a=this.cursor.current;var d=this.mask.normalizeCursorPos(a,this.cursor.prev);d!==a&&this.selection(d)};e._setValueIfNotSet=function(){this.el.child.input.raw.value!==this._value&&(this.el.child.input.raw.value=this._value)};e._getInputAutoWidth=function(){if(this._value){this._setValueIfNotSet();
this.el.child.input.style("width",0);this.el.child.input.raw.scrollLeft=1E10;var a=Math.max(this.el.child.input.raw.scrollLeft+this.el.child.input.raw.offsetWidth,this.el.child.input.raw.scrollWidth)+2;var d=this.settings.label&&"absolute"===this.el.child.label.styleSafe("position")?this.el.child.label.rect.width:0}else a=this.el.child.placeholder.rect.width,d=0;return Math.min(this._getMaxWidth(),Math.max(a,d))};e._getMaxWidth=function(){var a;if("number"===typeof this.settings.maxWidth)var d=this.settings.maxWidth;
else"string"===typeof this.settings.maxWidth&&(d=parseFloat(this.settings.maxWidth),q.includes(this.settings.maxWidth,"%")&&((a=this.el.parent)?(a=a.styleParsed("width")-a.styleParsed("paddingLeft")-a.styleParsed("paddingRight")-2,d=d/100*a):d=0));return d||Infinity};e.validate=function(a){var c;null==a&&(a=this._value);switch(!1){case !(this.settings.validWhenRegex&&m.regex(this.settings.validWhenRegex)):return this.settings.validWhenRegex.test(a);case !(this.settings.validWhenIsChoice&&null!=(c=
this.settings.choices)&&c.length):return c=this.settings.choices.filter(function(c){return c.value===a}),!!c.length;case !this.mask:return this.mask.validate(a);default:return this.settings.required?!!a:!0}};e.selection=function(a){if(m.object(a)){var c=a.start;var d=a.end}else c=a;if(null!=c){if(!d||d<c)d=c;this.el.child.input.raw.setSelectionRange(c,d)}else return{start:this.el.child.input.raw.selectionStart,end:this.el.child.input.raw.selectionEnd}};e.focus=function(){return this.el.child.input.raw.focus()};
e.blur=function(){return this.el.child.input.raw.blur()};return e};k[20]=function(e){var k;return e=k={"delete":8,enter:13,esc:27,ctrl:17,alt:18,shift:16,"super":91,super2:93,up:38,left:37,right:39,down:40,anyArrow:function(e){return e===k.up||e===k.down||e===k.left||e===k.right},anyModifier:function(e){return e===k.ctrl||e===k.alt||e===k.shift||e===k["super"]||e===k.super2}}};k[25]=function(e){var k=p(1);var n=p(2);var C=p(3);var q=p(46);e=Object.create(null);e._templates=function(e){return function(a){C=
p(3);a=p(16);return a={field:C.template(["div",{ref:"field",style:{position:"relative",display:"none",width:function(a){return a.state.width},boxSizing:"border-box",fontFamily:function(a){return a.settings.fontFamily},$visible:{$hasVisibleOptions:{display:"inline-block"}},$showError:{animation:"0.2s fieldErrorShake"}}},["div",{ref:"label",style:{display:"none",marginBottom:"12px",fontFamily:"inherit",fontSize:"13px",fontWeight:600,textAlign:"left",color:a.black,cursor:"default",pointerEvents:"none",
userSelect:"none",$showLabel:{display:"block"},$showError:{color:a.red}}}],["div",{ref:"innerwrap",style:{position:"relative",boxSizing:"border-box",fontFamily:"inherit"}}],["div",{ref:"help",style:{marginTop:"10px",fontFamily:"inherit",fontSize:"11px",color:a.grey,display:"none",$showError:{color:a.red,display:"block"},$showHelp:{display:"block"}}}]]),choiceGroup:C.template(["div",{ref:"choiceGroup",style:{marginBottom:function(a){return a.settings.spacing},userSelect:"none",fontSize:"0",whiteSpace:"nowrap"}}]),
choice:C.template(["div",{ref:"choice",styleAfterInsert:!0,style:{position:"relative",display:"inline-block",width:"auto",marginLeft:function(a){if(this.index)return"calc(100% - (100% - "+a.settings.spacing+"px))"},padding:"0 12px",borderRadius:"2px",backgroundColor:"white",fontFamily:"inherit",textAlign:"center",color:a.black,boxSizing:"border-box",verticalAlign:"top",cursor:"pointer",$definedWidth:{width:function(a){return"calc((100% - "+a.settings.spacing*(a.settings.perGroup-1)+"px) / "+a.settings.perGroup+
")"}},$selected:{color:a.orange},$unavailable:{display:"none"},$disabled:{cursor:"not-allowed",opacity:.7,color:a.grey}}},["div",{ref:"border",style:{position:"absolute",zIndex:2,top:"0",left:"0",width:"100%",height:"100%",borderWidth:"1px",borderStyle:"solid",borderColor:a.grey_light,borderRadius:"2px",boxSizing:"border-box",$selected:{borderColor:"inherit",borderWidth:"2px"},$disabled:{borderColor:a.grey_light}}}],["div",{ref:"label",style:{position:"relative",display:"block",padding:"15px 0px",
fontFamily:"inherit",fontSize:"14px",fontWeight:"500"}}]]),choiceIcon:C.template(["div",{ref:"icon",style:{position:"absolute",top:"50%",display:"block",fontSize:"20px",opacity:.16,transform:"translateY(-50%)"}}])}}}(this)({});e._defaults=function(e){return function(a){return{validWhenSelected:!1,validWhenIsChoice:!1,showSelectAll:!1,perGroup:7,spacing:8,choices:[]}}}(this)({});e._construct=function(){var e;if(null==(e=this.settings.choices)||!e.length)throw Error("Choices were not provided for choice field '"+
(this.settings.label||this.ID)+"'");this._value=this.settings.multiple?[]:null;this.lastSelected=null;this.visibleOptionsCount=0;this.choices=this.settings.choices;this.settings.perGroup=Math.min(this.settings.perGroup,this.choices.length+(this.settings.multiple&&this.settings.showSelectAll?1:0))};e._getValue=function(){var e;return this.settings.multiple?this._value.map(function(a){return a.value}):null!=(e=this._value)?e.value:void 0};e._setValue=function(e){var a;if(this.settings.multiple){n.array(e)||
(e=[].concat(e));var d=0;for(a=e.length;d<a;d++){var c=e[d];this.setOptionFromString(c)}}else this.setOptionFromString(e)};e._createElements=function(){var e={relatedInstance:this};this.el=this._templates.field.spawn(this.settings.templates.field,e);var a=this.settings.choices;var d=this.settings.perGroup;Array(Math.ceil(a.length/d)).fill().map(function(c,e){return a.slice(e*d,e*d+d)}).forEach(function(a){return function(c,d){var b=a._templates.choiceGroup.spawn(a.settings.templates.choiceGroup,e).appendTo(a.el.child.innerwrap);
return c.forEach(function(c,g){c.el=a._templates.choice.spawn(a.settings.templates.choice,e).appendTo(b);if(c.icon){var h=a._templates.choiceIcon.spawn(a.settings.templates.choiceIcon,e).insertBefore(c.child.label);h.text=c.icon}c.index=g;c.el.index=g;c.el.totalIndex=g*d;c.el.prop("title",c.label);c.el.child.label.text=c.label;c.visible=!0;c.selected=!1;null==c.disabled&&(c.disabled=!1);return c.unavailable=!1})}}(this));this.el.child.innerwrap.raw._quickField=this};e._attachBindings=function(){this._attachBindings_elState();
this._attachBindings_stateTriggers();this._attachBindings_display();this._attachBindings_value();this._attachBindings_choices()};e._attachBindings_elState=function(){q("visible").of(this.state).to(function(e){return function(a){return e.el.state("visible",a)}}(this));q("hovered").of(this.state).to(function(e){return function(a){return e.el.state("hovered",a)}}(this));q("filled").of(this.state).to(function(e){return function(a){return e.el.state("filled",a)}}(this));q("disabled").of(this.state).to(function(e){return function(a){return e.el.state("disabled",
a)}}(this));q("showLabel").of(this.state).to(function(e){return function(a){return e.el.state("showLabel",a)}}(this));q("showError").of(this.state).to(function(e){return function(a){return e.el.state("showError",a)}}(this));q("showHelp").of(this.state).to(function(e){return function(a){return e.el.state("showHelp",a)}}(this));q("valid").of(this.state).to(function(e){return function(a){e.el.state("valid",a);return e.el.state("invalid",!a)}}(this))};e._attachBindings_stateTriggers=function(){q("event:mouseenter").of(this.el).to(function(e){return function(){return e.state.hovered=
!0}}(this));q("event:mouseleave").of(this.el).to(function(e){return function(){return e.state.hovered=!1}}(this))};e._attachBindings_display=function(){q("width").of(this.state).to(function(e){return function(a){return e.el.style("width",a).state("definedWidth","auto"!==a)}}(this));q("showError",{updateOnBind:!1}).of(this.state).to(function(e){return function(a){if(a){if(e.state.error&&n.string(e.state.error))return e.state.help=e.state.error}else return e.state.help=e.state.help}}(this));q("label").of(this.state).to("text").of(this.el.child.label).and.to("showLabel").of(this.state);
q("help").of(this.state).to("html").of(this.el.child.help).and.to("showHelp").of(this.state);q("visibleOptionsCount").of(this).to(function(e){return function(a){return e.el.state("hasVisibleOptions",!!a)}}(this));q("margin").of(this.state).to(this.el.style.bind(this.el,"margin"));q("padding").of(this.state).to(this.el.style.bind(this.el,"padding"))};e._attachBindings_value=function(){q("_value").of(this).to(function(e){return function(a){e.state.filled=!(null==a||!a.length);e.state.filled&&(e.state.interacted=
!0);return e.state.valid=e.validate()}}(this));q("array:_value",{updateOnBind:!1}).of(this).to(function(e){return function(){return e.emit("input",e.value)}}(this));q("lastSelected",{updateOnBind:!1,updateEvenIfSame:!0}).of(this).to(function(e){return function(a,d){if(e.settings.multiple){if(a.selected)return a.selected=!1,k.removeItem(e._value,a);a.selected=!0;return e._value.push(a)}if(a!==d)return a.selected=!0,null!=d&&(d.selected=!1),e._value=a}}(this))};e._attachBindings_choices=function(){this.choices.forEach(function(e){return function(a){var d;
q("visible").of(a).to(function(c){return a.el.state("visible",c)}).and.to(function(a){return e.visibleOptionsCount+=a?1:-1});q("selected",{updateOnBind:!1}).of(a).to(function(c){return a.el.state("selected",c)});q("disabled",{updateOnBind:!1}).of(a).to(function(c){return a.el.state("disabled",c)});q("unavailable",{updateOnBind:!1}).of(a).to(function(c){return a.el.state("unavailable",c)}).and.to(function(){return e.lastSelected=a}).condition(function(c){return c&&e.settings.multiple&&a.selected});
q("event:click").of(a.el).to(function(){return e.lastSelected=a}).condition(function(){return!a.disabled});if(null!=(d=a.conditions)&&d.length)return a.unavailable=!0,a.allFields=e.allFields,k.initConditions(a,a.conditions,function(){return a.unavailable=!k.validateConditions(a.conditions)})}}(this))};e.validate=function(e){null==e&&(e=this._value);this.settings.multiple?(n.array(e)||(e=[].concat(e)),n.object(e[0])||(e=e.map(function(a){return a.value}))):n.object(e)&&(e=e.value);switch(!1){case "number"!==
typeof this.settings.validWhenSelected:return(null!=e?e.length:void 0)>=this.settings.validWhenSelected;case !this.settings.validWhenIsChoice:return this.settings.multiple?k.includes(e,this.settings.validWhenIsChoice):e===this.settings.validWhenIsChoice;default:return this.settings.required?!(null==e||!e.length):!0}};e.findChoice=function(e,a){return this.choices.filter(function(d){switch(!1){case !n.object(e):return e===d;case !a:return e===d.label;default:return e===d.value}})[0]};e.findChoiceAny=
function(e){return this.findChoice(e)||this.findChoice(e,!0)};e.setOptionFromString=function(e,a){var d;if((d=this.findChoiceAny(e,a))&&d!==this.lastSelected&&(!this.settings.multiple||!k.includes(this._value,d)))return this.lastSelected=d};return e};k[26]=function(e){var k=p(4);p(46);var n=p(25);e=Object.create(null);e._templates=function(e){return function(e){k=p(4);n=p(25);return e=k.clone.transform(function(e){return e.extend()})(n._templates)}}(this)({});e._defaults=function(e){return function(e){return{validWhenSelected:!1,
validWhenIsChoice:!1,validWhenTrue:!0,choiceLabels:["True","False"],choices:[{value:!0},{value:!1}],spacing:8}}}(this)({});k.keys("_createElements _attachBindings _attachBindings_elState _attachBindings_stateTriggers _attachBindings_display _attachBindings_value _attachBindings_choices".split(" "))(e,n);e._construct=function(){this.lastSelected=null;this.visibleOptionsCount=2;this.choices=this.settings.choices;this.choices[0].label=this.settings.choiceLabels[0];this.choices[1].label=this.settings.choiceLabels[1];
this.settings.perGroup=2};e._getValue=function(){return null===this._value?null:0===this._value.index?!0:!1};e._setValue=function(e){if(null===e)this._value=null,null!=(e=this.lastSelected)&&(e.selected=!1);else return"string"===typeof e&&(e=e.toLowerCase(),"false"===e&&(e=!1)),this.lastSelected=e?this.choices[0]:this.choices[1]};e.validate=function(e){null==e&&(e=this._value);"string"===typeof e&&(e=this.findOption(e));switch(!1){case !this.settings.validWhenIsChoice:return e?this.settings.validWhenIsChoice===
e.value:!1;case !this.settings.validWhenSelected:return!!e;case !this.settings.validWhenTrue:return 0===(null!=e?e.index:void 0);default:return this.settings.required?!!e:!0}};return e};k[31]=function(e){var k=p(2);var n=p(46);var u=p(20);var q=p(1);var m=p(4);e=function(a,d){this.options=a;this.field=d;this.isOpen=!1;this.settings=m.deep.clone.keys(this._defaults).filter(this._settingFilters)(this._defaults,this.field.settings.dropdownOptions);this.selected=this.settings.multiple?[]:null;this.currentHighlighted=
this.lastSelected=null;this.visibleOptionsCount=0;this.visibleOptions=[];this.els={};this._selectedCallback=q.noop;this._createElements();this._attachBindings();return this};e.prototype._templates=function(a){return function(a){a=p(3);var c=p(12);q=p(1);var d=p(13);return a={container:a.template(["div",{ref:"dropdown",style:{position:"absolute",zIndex:10,overflow:"hidden",top:function(a){return"text"===a.field.type?this.parent.raw.style.height:"-7px"},left:function(){return 0>this.parent.rect.left-
5?0:-5},display:"none",backgroundColor:"#f6f6f6",boxShadow:"0px 6px 10px "+q.hexToRGBA("000000",.32),borderWidth:"1px",borderStyle:"solid",borderColor:"#d1d1d1",borderRadius:"5px",boxSizing:"border-box",padding:"4px 0",$isOpen:{$hasVisibleOptions:{display:"block"}}}}]),list:a.template(["div",{ref:"list",passStateToChildren:!1,style:{position:"relative",overflow:"scroll",overflowScrolling:"touch"}}]),option:a.template(["div",{style:{display:"none",fontSize:"0",color:"#000000",userSelect:"none",lineHeight:"1em",
cursor:"pointer",$visible:{display:"block"},$hover:{color:"#ffffff",backgroundColor:"#4C96FF"}}},a.template(["div",{style:{display:"inline-block",verticalAlign:"top",width:"20px",lineHeight:"20px",fontSize:"13px",textAlign:"center",color:"inherit",stroke:"currentColor",visibility:"hidden",$selected:{visibility:"visible"}}},c.checkmark]),a.template(["div",{style:{display:"inline-block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",wordWrap:"normal",maxWidth:function(){return"calc(100% - "+
this.prev.raw.style.width+")"},paddingRight:"10px",lineHeight:"20px",fontSize:"11px",fontFamily:d.fontFamily,color:"inherit",boxSizing:"border-box"}}])]),scrollIndicatorUp:a.template(["div",{ref:"scrollIndicatorUp",style:{position:"absolute",top:0,left:0,display:"none",width:"100%",height:"20px",backgroundColor:"#f6f6f6",color:"#000000",textAlign:"center",$visible:{display:"block"}}},["div",{style:{position:"absolute",top:"50%",left:0,right:0,width:"15px",height:"15px",display:"block",margin:"0 auto",
transform:"translateY(-50%)"}},c.caretUp]]),scrollIndicatorDown:a.template(["div",{ref:"scrollIndicatorDown",style:{position:"absolute",bottom:0,left:0,display:"none",width:"100%",height:"20px",backgroundColor:"#f6f6f6",color:"#000000",textAlign:"center",$visible:{display:"block"}}},["div",{style:{position:"absolute",top:"50%",left:0,right:0,width:"15px",height:"15px",display:"block",margin:"0 auto",transform:"translateY(-50%)"}},c.caretDown]]),help:a.template(["div",{ref:"help",style:{display:"none",
borderTop:"2px solid rgba(0,0,0,0.05)",padding:"4px 12px 1px",color:"rgba(0,0,0,0.5)",fontWeight:"500",fontSize:"11px",userSelect:"none",$showHelp:{display:"block"}}}])}}}(this)({});e.prototype._defaults=function(a){return function(a){return{maxHeight:300,multiple:!1,storeSelected:!0,lockScroll:!0,help:"",templates:{}}}}(this)({});e.prototype._settingFilters={maxHeight:function(a){return k.number(a)}};e.prototype._createElements=function(){var a={relatedInstance:this,styleAfterInsert:!0};this.els.container=
this._templates.container.spawn(this.settings.templates.container,m({passStateToChildren:!1},a));this.els.list=this._templates.list.spawn(this.settings.templates.list,a).appendTo(this.els.container);this.els.help=this._templates.help.spawn(this.settings.templates.help,a).appendTo(this.els.container);this.els.scrollIndicatorUp=this._templates.scrollIndicatorUp.spawn(this.settings.templates.scrollIndicatorUp,a).appendTo(this.els.container);this.els.scrollIndicatorDown=this._templates.scrollIndicatorDown.spawn(this.settings.templates.scrollIndicatorDown,
a).appendTo(this.els.container);this.options.forEach(function(d){return function(c){c.el=d._templates.option.spawn({options:{props:{title:c.label}}},a).appendTo(d.els.list);c.el.children[1].text=c.label;c.visible=!0;c.selected=!1;return c.unavailable=!1}}(this))};e.prototype._attachBindings=function(){n("help").of(this.settings).to("text").of(this.els.help).and.to(function(a){return function(d){return a.els.help.state("showHelp",d)}}(this));n("visibleOptionsCount").of(this).to(function(a){return function(d){return a.els.container.state("hasVisibleOptions",
!!d)}}(this));n("isOpen",{updateOnBind:!1}).of(this).to(function(a){return function(d){a.els.container.state("isOpen",d);d||(a.currentHighlighted=null);a.settings.lockScroll&&(d?q.lockScroll(a.els.list):q.unlockScroll());if(d)return a.list_setMaxHeight(),a.list_scrollToSelected()}}(this));n("lastSelected",{updateOnBind:!1,updateEvenIfSame:!0}).of(this).to(function(a){return function(d,c){a.settings.storeSelected&&(a.settings.multiple?d.selected?(d.selected=!1,q.removeItem(a.selected,d)):(d.selected=
!0,a.selected.push(d)):(d.selected=!0,d!==c&&null!=c&&(c.selected=!1),a.selected=d));return a._selectedCallback(d,c)}}(this));n("currentHighlighted").of(this).to(function(a){return function(a,c){c&&c.el.state("hover",!1);if(a)return a.el.state("hover",!0)}}(this));n("focused",{updateOnBind:!1}).of(this.field.state).to(function(a){return function(d){return d?a.field.el.child.input.on("keydown.dropdownNav",function(c){if(a.isOpen)switch(c.keyCode){case u.up:return c.preventDefault(),a.highlightPrev();
case u.down:return c.preventDefault(),a.highlightNext();case u.enter:return c.preventDefault(),a.selectHighlighted();case u.esc:return c.preventDefault(),a.isOpen=!1}}):a.field.el.child.input.off("keydown.dropdownNav")}}(this));n("scrollTop",{updateEvenIfSame:!0}).of(this.els.list.raw).to(function(a){return function(d){var c=a.els.list.raw.scrollHeight-a.els.list.raw.clientHeight>d;a.els.scrollIndicatorUp.state("visible",0<d);return a.els.scrollIndicatorDown.state("visible",c)}}(this)).condition(function(a){return function(){return a.isOpen&&
!a.settings.help&&a.els.list.raw.scrollHeight!==a.els.list.raw.clientHeight&&100<=a.els.list.raw.clientHeight}}(this)).updateOn("event:scroll").of(this.els.list.raw).updateOn("isOpen").of(this);this.els.scrollIndicatorUp.on("mouseenter",function(a){return function(){return a.list_startScrolling("up")}}(this));this.els.scrollIndicatorUp.on("mouseleave",function(a){return function(){return a.list_stopScrolling()}}(this));this.els.scrollIndicatorDown.on("mouseenter",function(a){return function(){return a.list_startScrolling("down")}}(this));
this.els.scrollIndicatorDown.on("mouseleave",function(a){return function(){return a.list_stopScrolling()}}(this));return this.options.forEach(function(a){return function(d,c){var e;d.index=c;n("visible").of(d).to(function(c){return a.visibleOptionsCount+=c?1:-1}).and.to(function(c){d.el.state("visible",c);return c?(a.visibleOptions.push(d),a.visibleOptions.sort(function(a,c){return a.index-c.index})):q.removeItem(a.visibleOptions,d)});n("selected",{updateOnBind:!1}).of(d).to(function(a){return d.el.state("selected",
a)});n("unavailable",{updateOnBind:!1}).of(d).to(function(a){return d.el.state("unavailable",a)}).and.to(function(){return a.lastSelected=d}).condition(function(c){return c&&a.settings.multiple&&d.selected});n("event:click").of(d.el).to(function(){return a.lastSelected=d});n("event:mouseenter").of(d.el).to(function(){return a.currentHighlighted=d});if(null!=(e=d.conditions)&&e.length)return d.unavailable=!0,d.allFields=a.field.allFields,q.initConditions(d,d.conditions,function(){return d.unavailable=
!q.validateConditions(d.conditions)})}}(this))};e.prototype.appendTo=function(a){return this.els.container.appendTo(a)};e.prototype.onSelected=function(a){return this._selectedCallback=a};e.prototype.findOption=function(a,d){return this.options.filter(function(c){switch(!1){case !k.object(a):return a===c;case !d:return a===c.label;default:return a===c.value}})[0]};e.prototype.findOptionAny=function(a){return this.findOption(a)||this.findOption(a,!0)};e.prototype.getLabelOfOption=function(a){var d;
return(null!=(d=this.options.filter(function(c){return a===c.value})[0])?d.label:void 0)||""};e.prototype.setOptionFromString=function(a,d){var c;if((c=this.findOptionAny(a,d))&&c!==this.lastSelected&&(!this.settings.multiple||!q.includes(this.selected,c)))return this.lastSelected=c};e.prototype.highlightPrev=function(){var a=this.visibleOptions.indexOf(this.currentHighlighted);return 0<a?this.currentHighlighted=this.visibleOptions[a-1]:this.currentHighlighted=this.visibleOptions[this.visibleOptions.length-
1]};e.prototype.highlightNext=function(){var a=this.visibleOptions.indexOf(this.currentHighlighted);return a<this.visibleOptions.length-1?this.currentHighlighted=this.visibleOptions[a+1]:this.currentHighlighted=this.visibleOptions[0]};e.prototype.selectHighlighted=function(){if(this.currentHighlighted)return this.lastSelected=this.currentHighlighted};e.prototype.list_setMaxHeight=function(){var a;var d=this.settings.maxHeight;if(a=this.els.container.parentMatching(function(a){a=a.style("overflowY");
return"hidden"===a||"scroll"===a})){var c=this.els.container.rect;var e=a.rect;a=c.top+this.settings.maxHeight-e.bottom;c.top>=e.bottom?console.warn("The dropdown for element '"+this.field.ID+"' cannot be displayed as it's hidden by the parent overflow"):0<a&&(c=c.height-this.els.list.rect.height,d=a-c)}this.els.list.style("maxHeight",d);return this.els.list.style("minWidth",this.field.el.child.innerwrap.width+10)};e.prototype.list_scrollToSelected=function(){if(this.selected&&!this.settings.multiple){var a=
this.selected.el.raw.offsetTop;var d=this.selected.el.raw.clientHeight;return this.els.list.raw.scrollTop=a-3*d}};e.prototype.list_startScrolling=function(a){return this.scrollIntervalID=setInterval(function(d){return function(){return d.els.list.raw.scrollTop+="up"===a?-20:20}}(this),50)};e.prototype.list_stopScrolling=function(){return clearInterval(this.scrollIntervalID)};return e};k[46]=function(e){var k={exports:e};(function(){var e;var p=0;var q="push pop shift unshift splice reverse sort".split(" ");
var m={};var a={};var d=["{{","}}"];var c=Object.create({silent:!1},{placeholder:{get:function(){return d},set:function(a){t.isArray(a)&&2===a.length&&(d=a,D())}}});var h={delay:!1,throttle:!1,simpleSelector:!1,promiseTransforms:!1,dispatchEvents:!1,sendArrayCopies:!1,updateEvenIfSame:!1,updateOnBind:!0};var g=Object.defineProperty;var b=Object.getOwnPropertyDescriptor;var l=null;var x=function(){if(!l){var a=l=document.createEvent("Event");a.initEvent("change",!0,!1);a._sb=!0}return l};var y=!("className"in
Element.prototype)||!b(Element.prototype,"className").get;var u="innerWidth innerHeight outerWidth outerHeight scrollX scrollY pageXOffset pageYOffset screenX screenY screenLeft screenTop".split(" ");var w=function(a,b){return this.updateAllSubs(b||this)};var z=function(){return""+ ++p};var B=function(){return Object.create(null)};var E=function(a,b){return function(c,v,d){return G(c,v,d,a,b)}};var r=function(a,b){return a.selfUpdater||(a.selfUpdater=new M(function(){return b?a.setValue(a.fetchDirectValue(),
a,!0):a.updateAllSubs(a)},"Func",{}))};var A=function(a,b){return a&&-1!==a.indexOf(b)};var t={isDefined:function(a){return void 0!==a},isArray:function(a){return a instanceof Array},isObject:function(a){return"object"===typeof a&&a},isString:function(a){return"string"===typeof a},isNumber:function(a){return"number"===typeof a},isFunction:function(a){return"function"===typeof a},isBindingInterface:function(a){return a instanceof P},isBinding:function(a){return a instanceof M},isIterable:function(a){return t.isObject(a)&&
t.isNumber(a.length)},isDom:function(a){return a.nodeName&&1===a.nodeType},isDomInput:function(a){a=a.nodeName;return"INPUT"===a||"TEXTAREA"===a||"SELECT"===a},isDomRadio:function(a){return"radio"===a.type},isDomCheckbox:function(a){return"checkbox"===a.type},isElCollection:function(a){return a instanceof NodeList||a instanceof HTMLCollection||window.jQuery&&a instanceof jQuery},domElsAreSame:function(a){var b=a[0].type;return[].filter.call(a,function(a){return a.type===b}).length===a.length},isDomNode:function(a){return t.isDom(a)||
a===window||a===document}};var X=function(a,c,d){var v;if(v=b(a,c))return d&&(v.configurable=!0),v;if(a=Object.getPrototypeOf(a))return X(a,c,!0)};var I=function(a,b,c){var d;a.origDescriptor||(a.origDescriptor=X(b,a.property));if(c)q.forEach(function(c){return g(b,c,{configurable:!0,value:function(){var d=Array.prototype[c].apply(b,arguments);a.updateAllSubs(a);return d}})});else if("Proxy"===a.type){var v=a.origFn=a.value;a.value={result:null,args:null};if(t.isFunction(v)){var e=[].slice;var f=
d=function(){var c=e.call(arguments);a.value.args=c=a.selfTransform?a.selfTransform(c):c;a.value.result=c=v.apply(b,c);a.updateAllSubs(a);return c};g(b,a.property,{configurable:a.isLiveProp=!0,get:function(){return f},set:function(b){t.isFunction(b)?b!==v&&(b!==d&&(v=a.origFn=b),f!==d&&(f=d)):f=b}})}}else if(!(A(a.type,"DOM")||a.object===window&&A(u,a.property))){c=a.origDescriptor||m;c.get&&(a.origGetter=c.get.bind(b));c.set&&(a.origSetter=c.set.bind(b));var h=(h=c.configurable)&&b.constructor!==
CSSStyleDeclaration;y&&a.isDom&&a.property in b.cloneNode(!1)&&(a.origDescriptor=h=!1,a.isLiveProp=!0,a.origGetter=function(){return a.object[a.property]},a.origSetter=function(b){return a.object[a.property]=b});if(h){h="Array"===a.type;var l=!a.origSetter&&!h;g(b,a.property,{configurable:a.isLiveProp=!0,enumerable:c.enumerable,get:a.origGetter||function(){return a.value},set:function(b){a.setValue(b,a,l)}});h&&I(a,b[a.property],!0)}}};var S=function(a,b,c){if(c){var d=[];a=0;for(c=q.length;a<c;a++){var v=
q[a];d.push(delete b[v])}return d}c=a.origDescriptor;c.set||c.get||(c.value=a.origFn||a.value);return g(b,a.property,c)};var L=function(a){var b;var c=B();for(b in a)c[b]=a[b];return c};var H=function(a,b){var c;var d=Object.keys(b);var v=0;for(c=d.length;v<c;v++){var e=d[v];a[e]=b[e]}};var O={get:function(b,c,d,e){if(c)return a[b._sb_ID];if(e&&b[0]._sb_map&&(c=a[b[0]._sb_map[d]],c.groupBinding))return c.groupBinding;if(b._sb_map&&b._sb_map[d])return a[b._sb_map[d]]},set:function(a,b){if(b)g(a.object,
"_sb_ID",{configurable:!0,value:a.ID});else{var c=a.selector;if(a.object._sb_map)a.object._sb_map[c]=a.ID;else{var d={};d[c]=a.ID;g(a.object,"_sb_map",{configurable:!0,value:d})}}}};var R=/[.*+?^${}()|[\]\\]/g;var f=e=null;var D=function(){var a=c.placeholder[0].replace(R,"\\$&");var b=c.placeholder[1].replace(R,"\\$&");var d="[^"+b+"]+";f=new RegExp(a+"("+d+")"+b,"g");e=new RegExp(""+a+d+b,"g")};D();var F=function(a,b,c){var d,e;var v="";var f=d=0;for(e=a.length;d<e;f=++d){var g=a[f];v+=g;c[f]&&
(v+=b[c[f]])}return v};var J=function(a,b,c){null==a[c]&&(a[c]=[]);a[c].push(b)};var V=function(a,b){var c,d,v;var g=Array.prototype.slice.call(a.childNodes);var h=0;for(d=g.length;h<d;h++){var l=g[h];if(3!==l.nodeType)V(l,b);else if(l.textContent.match(e)){var k=l.textContent.split(f);if(3===k.length&&""===k[0]+k[2])J(b,l,k[1]);else{var Y=document.createDocumentFragment();var m=c=0;for(v=k.length;c<v;m=++c){var n=k[m];var y=Y.appendChild(document.createTextNode(n));m%2&&J(b,y,n)}l.parentNode.replaceChild(Y,
l)}}}};var Q=function(a){throw Error("SimplyBind: "+(W[a]||a));};var N=function(a,b){if(!c.silent){var d=da(b);var e=W[a];console.warn("SimplyBind: "+(e+("\n\n"+d)))}};var ca=function(a){Q("Invalid argument/s ("+a+")",!0)};var da=function(a){return(Error().stack||"").split("\n").slice(a+3).join("\n")};var W={invalidParamName:"SimplyBind() and .to() only accept a function, an array, a bound object, a string, or a number.",fnOnly:"Only functions are allowed for .transform/.condition/All()",badEventArg:"Invalid argument number in .ofEvent()",
emptyList:"Empty collection provided",onlyOneDOMElement:"You can only pass a single DOM element to a binding",mixedElList:"'checked' of Mixed list of element cannot be bound"};var G=function(a,b,c,d,e){if(!a&&0!==a||!(t.isString(a)||t.isNumber(a)||t.isFunction(a)||a instanceof Array))t.isBindingInterface(a)||Q("invalidParamName");!t.isObject(a)||a instanceof Array?(b=new P(b),b.saveOptions=c,b.isSub=d,b.completeCallback=e,a=t.isFunction(a)?b.setObject(a,!0):b.setProperty(a)):a=e?e(a):a.selfClone();
return a};G.version="1.15.5";G.settings=c;G.defaultOptions=h;G.unBindAll=function(b,c){var d;if(b&&(t.isObject(b)||t.isFunction(b))){t.isIterable(b)&&!b._sb_ID&&b[0]&&t.isDom(b[0])&&(b=b[0]);var e=b._sb_map;b._sb_ID&&a[b._sb_ID].removeAllSubs(c);if(e)for(d in e){var f=e[d];a[f].removeAllSubs(c)}}};var M=function(c,d,e){H(this,e);this.optionsDefault=this.saveOptions?this.options:h;this.type=d;this.object=c;this.ID=z();this.subs=[];this.subsMeta=B();this.pubsMap=B();this.attachedEvents=[];"Proxy"===
this.type&&(this.setValue=w);this.isMultiChoice&&(this.choices=B(),this.object.forEach(function(a){return function(b){var c=a.choices[b.value]=G("checked").of(b)._;c.addSub(a);c.subsMeta[a.ID].transformFn=function(){return c};c.groupBinding=a}}(this)));"Event"===this.type||"Func"===this.type&&this.isSub||("Pholder"===this.type?(d=this.descriptor&&!A(this.descriptor,"multi")?this.descriptor+":"+this.property:this.property,c=this.parentBinding=G(d).of(c)._,c.scanForPholders(),this.value=c.pholderValues[this.pholder],
c.textNodes&&(this.textNodes=c.textNodes[this.pholder])):(this.value=c=this.fetchDirectValue(),"ObjectProp"!==this.type||t.isDefined(c)||b(this.object,this.property)||(this.object[this.property]=c),I(this,this.object)));this.attachEvents();return a[this.ID]=this};M.prototype={addSub:function(a,b,c,d){var e;if(a.isMulti){var f=a.bindings;a=0;for(e=f.length;a<e;a++){var g=f[a];this.addSub(g,b,c,d)}}else if(this.subsMeta[a.ID])var v=!0;else{a.pubsMap[this.ID]=this;this.subs.unshift(a);e=this.subsMeta[a.ID]=
B();e.updateOnce=c;e.opts=L(b);if(d||"Event"===this.type||"Proxy"===this.type||"Array"===this.type)e.opts.updateEvenIfSame=!0;e.valueRef="Func"===a.type?"valuePassed":"value"}return v},removeSub:function(a,b){var c;if(a.isMulti){var d=a.bindings;var e=0;for(c=d.length;e<c;e++){var f=d[e];this.removeSub(f,b)}}else this.subsMeta[a.ID]&&(this.subs.splice(this.subs.indexOf(a),1),delete this.subsMeta[a.ID],delete a.pubsMap[this.ID]),b&&(a.removeSub(this),delete this.pubsMap[a.ID]);0===this.subs.length&&
0===Object.keys(this.pubsMap).length&&this.destroy()},removeAllSubs:function(a){var b;var c=this.subs.slice();var d=0;for(b=c.length;d<b;d++){var e=c[d];this.removeSub(e,a)}},destroy:function(){var b;delete a[this.ID];this.removePollInterval();if("Event"===this.type){var c=this.attachedEvents;var d=0;for(b=c.length;d<b;d++){var e=c[d];this.unRegisterEvent(e)}}else"Func"===this.type&&delete this.object._sb_ID;this.isLiveProp&&this.origDescriptor&&S(this,this.object);"Array"===this.type&&S(this,this.value,
!0);this.object._sb_map&&(delete this.object._sb_map[this.selector],0===Object.keys(this.object._sb_map).length&&delete this.object._sb_map)},fetchDirectValue:function(){var a;var b=this.type;switch(!1){case "Func"!==b:return this.object();case "DOMAttr"!==b:return this.object.getAttribute(this.property)||"";case !this.isMultiChoice:var c=[];var d=this.choices;for(a in d){var e=d[a];if(e.object.checked){if("DOMRadio"===b)return a;c.push(a)}}return c;default:return this.object[this.property]}},setValue:function(a,
b,d,e){b||(b=this);this.selfTransform&&(a=this.selfTransform(a));if(!d)switch(this.type){case "ObjectProp":if(this.isLiveProp)if(this.isDomInput)if(!e)this.origSetter(a),c.dispatchEvents&&this.object.dispatchEvent(x());else{if(a!==this.origGetter()){var f=this.object.selectionStart;this.origSetter(a);f&&this.object.setSelectionRange(f,f)}}else this.origSetter&&this.origSetter(a);else a!==this.value&&(this.object[this.property]=a);break;case "Pholder":e=this.parentBinding;e.pholderValues[this.pholder]=
a;f=F(e.pholderContexts,e.pholderValues,e.pholderIndexMap);if(this.textNodes&&a!==this.value){var g=this.textNodes;var v=0;for(d=g.length;v<d;v++){var h=g[v];h.textContent=a}}"textContent"!==this.property&&e.setValue(f,b);break;case "Array":a!==this.value&&(t.isArray(a)||(a=Array.prototype.concat(a)),S(this,this.value,!0),I(this,a=a.slice(),!0),this.origSetter&&this.origSetter(a));break;case "Func":f=this.valuePassed;this.valuePassed=a;a=this.object(a,f);break;case "Event":this.isEmitter=!0;this.emitEvent(a);
this.isEmitter=!1;break;case "DOMRadio":if(this.isMultiChoice)if(e=t.isBinding(a)?a:this.choices[a])for(v in a=e.object.value,f=this.choices,f)d=f[v],d.setValue(d.ID===e.ID,b);else a=this.value;else{a=!!a;if(a===this.value)return;this.object.checked!==a&&(this.object.checked=a);a&&c.dispatchEvents&&this.object.dispatchEvent(x())}break;case "DOMCheckbox":if(this.isMultiChoice){v=!t.isBinding(a);a=[].concat(a);d=e=0;for(g=a.length;e<g;d=++e)h=a[d],a[d]=t.isBinding(h)?h:this.choices[h];g=[];h=this.choices;
for(f in h)d=h[f],e=v?A(a,d):d.value,d.setValue(e,b),e&&g.push(f);a=g}else{a=!!a;if(a===this.value)return;this.object.checked!==a&&(this.object.checked=a,c.dispatchEvents&&this.object.dispatchEvent(x()))}break;case "DOMAttr":this.object.setAttribute(this.property,a)}this.value=a;this.updateAllSubs(b)},updateAllSubs:function(a){var b,c;if(c=(b=this.subs).length)for(;c--;)this.updateSub(b[c],a)},updateSub:function(a,b,c){var d;if(!(b===a||b!==this&&b.subsMeta[a.ID])){var e=this.subsMeta[a.ID];if(!e.disallowList||
!e.disallowList[b.ID]){if(e.opts.throttle){c=+new Date;var f=c-e.lastUpdate;if(f<e.opts.throttle)return clearTimeout(e.updateTimer),e.updateTimer=setTimeout(function(c){return function(){if(c.subsMeta[a.ID])return c.updateSub(a,b)}}(this),e.opts.throttle-f);e.lastUpdate=c}else if(e.opts.delay&&!c)return setTimeout(function(c){return function(){if(c.subsMeta[a.ID])return c.updateSub(a,b,!0)}}(this),e.opts.delay);c="Array"===this.type&&e.opts.sendArrayCopies?this.value.slice():this.value;f=a[e.valueRef];
c=(d=e.transformFn)?d(c,f,a.object):c;c===f&&!e.opts.updateEvenIfSame||e.conditionFn&&!e.conditionFn(c,f,a.object)||(e.opts.promiseTransforms&&c&&t.isFunction(c.then)?c.then(function(c){a.setValue(c,b)}):a.setValue(c,b),e.updateOnce&&this.removeSub(a))}}},addModifierFn:function(a,b,c,d){var e,f;if(t.isFunction(c)){var g=0;for(f=b.length;g<f;g++){var h=b[g];var v=h._||h;v.isMulti?this.addModifierFn(a,v.bindings,c,d):(h=this.subsMeta[v.ID],h[a]=c,d=d&&!h.updateOnce,this.pubsMap[v.ID]&&((e=v.subsMeta[this.ID])[a]||
(e[a]=c)),!d&&"Func"!==this.type||"transformFn"!==a||this.updateSub(v,this))}return!0}return N("fnOnly",2)},setSelfTransform:function(a,b){this.selfTransform=a;b&&this.setValue(this.value)},addDisallowRule:function(a,b){var c;(null!=(c=this.subsMeta[a.ID]).disallowList?c.disallowList:c.disallowList=B())[b.ID]=1},scanForPholders:function(){if(!this.pholderValues){this.pholderValues=B();this.pholderIndexMap=B();this.pholderContexts=[];if(t.isString(this.value)){this.pholderContexts=this.value.split(e);
var a=0;this.value=this.value.replace(f,function(b){return function(c,d){b.pholderIndexMap[a++]=d;return b.pholderValues[d]=d}}(this))}this.isDom&&"textContent"===this.property&&V(this.object,this.textNodes=B())}},addPollInterval:function(a){if("Event"!==this.type)return this.removePollInterval(),this.pollInterval=setInterval(function(a){return function(){var b=a.fetchDirectValue();return a.setValue(b)}}(this),a)},removePollInterval:function(){clearInterval(this.pollInterval);return this.pollInterval=
null},addUpdateListener:function(a,b){this.object.addEventListener(a,function(a){return function(c){c._sb||(c=a.selfTransform&&a.isDomInput,a.setValue(a.object[b],null,!c,!0))}}(this),!1)},attachEvents:function(){this.eventName?this.registerEvent(this.eventName):this.isDomInput?(this.addUpdateListener("input","value"),this.addUpdateListener("change","value")):this.isMultiChoice||"DOMRadio"!==this.type&&"DOMCheckbox"!==this.type||this.addUpdateListener("change","checked")},registerEvent:function(a){this.attachedEvents.push(a);
this.eventHandler||(this.eventHandler=aa.bind(this));this.object[this.eventMethods.listen](a,this.eventHandler)},unRegisterEvent:function(a){this.attachedEvents.splice(this.attachedEvents.indexOf(a),1);this.object[this.eventMethods.remove](a,this.eventHandler)},emitEvent:function(a){var b=this.eventName;"dispatchEvent"===this.eventMethods.emit&&(this.eventObject||(this.eventObject=document.createEvent("Event"),this.eventObject.initEvent(this.eventName,!0,!0)),this.eventObject.bindingData=a,b=this.eventObject);
this.object[this.eventMethods.emit](b,a)}};var aa=function(){this.isEmitter||this.setValue(arguments[this.property],null,!0)};var P=function(a,b){var c;if(b)H(this,b),this.stage=1;else for(c in this.stage=0,this.subs=[],this.optionsPassed=a||(a={}),this.options={},h)this.options[c]=null!=a[c]?a[c]:h[c];return this};var U={selfClone:function(){return new P(null,this)},defineMainProps:function(a){this._=a;return Object.defineProperties(this,{value:{get:function(){return a.value}},original:{get:function(){return a.objects||
a.object}},subscribers:{get:function(){return a.subs.slice().map(function(a){return a.object})}}})},createBinding:function(a,b,c,d){var e;this.object=a;if(e=O.get(a,d,this.selector,this.isMultiChoice))return this.patchCachedBinding(e);a=new M(a,b,c);O.set(a,d);return a},patchCachedBinding:function(a){var b;"ObjectProp"!==a.type||this.property in this.object||I(a,this.object);if(this.saveOptions){var c=this.optionsPassed;for(e in c){var d=c[e];a.optionsDefault[e]=d}}var e=a.optionsDefault;for(b in e)d=
e[b],this.options[b]=t.isDefined(this.optionsPassed[b])?this.optionsPassed[b]:d;return a},setProperty:function(a){t.isNumber(a)&&(a=a.toString());this.selector=this.property=a;if(!this.options.simpleSelector){if(A(a,":")){var b=a.split(":");this.descriptor=b.slice(0,-1).join(":");this.property=b[b.length-1]}A(a,".")&&(b=this.property.split("."),this.property=b[0],this.pholder=b.slice(1).join("."));A(this.descriptor,"event")&&(A(a,"#")?(b=this.property.split("#"),this.eventName=b[0],this.property=
b[1]):(this.eventName=this.property,this.property=0),isNaN(parseInt(this.property))&&N("badEventArg",1))}return this},setObject:function(a,b){var c;this.stage=1;var d=(c=a!==window&&t.isIterable(a)&&!a.nodeType)?a[0]:a;if(!d)c&&t.isElCollection(a)&&Q("emptyList");else if(this.isDom=t.isDom(d)){if("checked"===this.property){var e=d&&t.isDomRadio(d);var f=!e&&d&&t.isDomCheckbox(d)}else"value"===this.property&&(this.isDomInput=t.isDomInput(d));if(c&&!A(this.descriptor,"multi"))if(1===a.length)a=a[0];
else if(!e&&!f||t.domElsAreSame(a))e||f?(this.isMultiChoice=!0,a=[].slice.call(a)):(a=a[0],N("onlyOneDOMElement",3));else return N("mixedElList",3)}switch(!1){case !b:f="Func";break;case !this.pholder:f="Pholder";break;case !(A(this.descriptor,"array")&&t.isArray(a[this.property])):f="Array";break;case !A(this.descriptor,"event"):f="Event";this.eventMethods={listen:this.optionsPassed.listenMethod,remove:this.optionsPassed.removeMethod,emit:this.optionsPassed.emitMethod};a[this.eventMethods.listen]||
(this.eventMethods.listen=t.isDomNode(a)?"addEventListener":"on");a[this.eventMethods.remove]||(this.eventMethods.remove=t.isDomNode(a)?"removeEventListener":"removeListener");a[this.eventMethods.emit]||(this.eventMethods.emit=t.isDomNode(a)?"dispatchEvent":"emit");break;case !A(this.descriptor,"func"):f="Proxy";break;case !e:f="DOMRadio";break;case !f:f="DOMCheckbox";break;case !A(this.descriptor,"attr"):f="DOMAttr";break;default:f="ObjectProp"}A(this.descriptor,"multi")?(a.length||Q("emptyList"),
this.defineMainProps(new T(this,a,f))):this.defineMainProps(this.createBinding(a,f,this,b));A(this._.type,"Event")||A(this._.type,"Proxy")?this.options.updateOnBind=!1:A(this._.type,"Func")&&(this.options.updateOnBind=!0);return this.completeCallback?this.completeCallback(this):this},addToPublisher:function(a){var b;a.stage=2;a.subs.push(this);var c=a._.addSub(this._,a.options,a.updateOnce);if(a.updateOnce)delete a.updateOnce;else if(a.options.updateOnBind&&!c)if(this._.isMulti){var d=this._.bindings;
var e=0;for(b=d.length;e<b;e++)c=d[e],a._.updateSub(c,a._)}else a._.updateSub(this._,a._)}};P.prototype=Object.create(U,{of:{get:function(){if(!this.stage)return ba}},set:{get:function(){if(this.stage)return ha}},chainTo:{get:function(){if(2===this.stage)return ea}},transformSelf:{get:function(){if(1===this.stage)return ia}},transform:{get:function(){if(2===this.stage)return ja}},transformAll:{get:function(){if(2===this.stage)return ka}},condition:{get:function(){if(2===this.stage)return la}},conditionAll:{get:function(){if(2===
this.stage)return ma}},bothWays:{get:function(){if(2===this.stage)return na}},unBind:{get:function(){if(2===this.stage)return oa}},pollEvery:{get:function(){if(this.stage)return pa}},stopPolling:{get:function(){if(this.stage)return qa}},setOption:{get:function(){if(2===this.stage)return ra}},disallowFrom:{get:function(){var a;if(2===this.stage&&(a=this))return E(!1,function(b){a._.addDisallowRule(a.subs[a.subs.length-1]._,b._);return a})}},updateOn:{get:function(){var a;if(this.stage&&(a=this))return E(!1,
function(b){b._!==a._&&(a._.pubsMap[b._.ID]=b._,b._.addSub(r(a._,!0),b.options,!1,!0));return a})}},removeUpdater:{get:function(){var a,b;if(this.stage&&(b=this)&&(a=this._.selfUpdater))return E(!1,function(c){c._.subsMeta[a.ID]&&(delete b._.pubsMap[c._.ID],c._.removeSub(a))})}},to:{get:function(){var a;if(1===this.stage&&(a=this))return E(!0,function(b){b._!==a._&&b.addToPublisher(a);return a})}},and:{get:function(){var a=this.selfClone();if(2===this.stage)return a;if(1===this.stage){if(!a._.isMulti){var b=
a._;a._=a._=new T(a);a._.addBinding(b)}return E(!1,function(b){a._.addBinding(b._);return a})}}},once:{get:function(){if(1===this.stage){var a=this.selfClone();a.updateOnce=!0;return a}}},update:{get:function(){return this.set}},twoWay:{get:function(){return this.bothWays}},pipe:{get:function(){return this.chainTo}}});var ba=function(a){t.isObject(a)||t.isFunction(a)||ca(a);t.isBindingInterface(a)&&(a=a.object);this.stage=1;return this.setObject(a)};var ea=function(a,b,c){return G(this.subs[this.subs.length-
1]).to(a,b,c)};var ha=function(a){this._.setValue(a);return this};var ia=function(a){t.isFunction(a)?this._.setSelfTransform(a,this.options.updateOnBind):N("fnOnly",1);return this};var ja=function(a){this._.addModifierFn("transformFn",this.subs.slice(-1),a,this.options.updateOnBind);return this};var ka=function(a){this._.addModifierFn("transformFn",this.subs,a,this.options.updateOnBind);return this};var la=function(a){this._.addModifierFn("conditionFn",this.subs.slice(-1),a);return this};var ma=function(a){this._.addModifierFn("conditionFn",
this.subs,a);return this};var na=function(a){var b;var c=this.subs[this.subs.length-1];var d=c._;var e=this._.isMulti?this._.bindings:[this._];d.addSub(this._,c.options);c=0;for(b=e.length;c<b;c++){var f=e[c];var g=f.subsMeta[d.ID].transformFn;f=f.subsMeta[d.ID].conditionFn;(g||a)&&(g=t.isFunction(a)?a:g)&&!1!==a&&(d.subsMeta[this._.ID].transformFn=g);f&&(d.subsMeta[this._.ID].conditionFn=f)}return this};var oa=function(a){var b;var c=this.subs;var d=0;for(b=c.length;d<b;d++){var e=c[d];this._.removeSub(e._,
a)}return this};var pa=function(a){this._.addPollInterval(a);return this};var qa=function(){this._.removePollInterval();return this};var ra=function(a,b){this._.subsMeta[this.subs[this.subs.length-1]._.ID].opts[a]=b;return this};var T=function(a,b,c){var d,e;a.selector=a.selector.slice(6);H(this,this["interface"]=a);this.isMulti=!0;this.bindings=d=[];if(b)for(a=0,e=b.length;a<e;a++){var f=b[a];this.addBinding(f,c)}return Object.defineProperties(this,{type:{get:function(){return d.map(function(a){return a.type})}},
value:{get:function(){return d.map(function(a){return a.value})}}})};var Z=T.prototype=Object.create(U);Object.keys(M.prototype).forEach(function(a){return Z[a]=function(b,c,d,e){var f;var g=this.bindings;var h=0;for(f=g.length;h<f;h++){var l=g[h];"updateSub"===a&&(c=l);l[a](b,c,d,e)}}});Z.addBinding=function(a,b){this.bindings.push(b?this.createBinding(a,b,this["interface"]):a)};return null!=("undefined"!==typeof k&&null!==k?k.exports:void 0)?k.exports=G:"function"===typeof define&&define.amd?define(["simplybind"],
function(){return G}):this.SimplyBind=G})();return k.exports};return p};k=k({},{},{});return function(){var z;var E=k(1);var u=k(2);var p=k(3);var e=k(4);var B=k(5);null==this.console&&(this.console={});null==console.log&&(console.log=function(){});null==console.warn&&(console.warn=console.log);var n=null!=document.createElement("div").style.animation?"":"-webkit-";var C="@"+n+"keyframes checkmarkAnimateSuccessTip { 0%, 54% { width: 0; left: 0px; top: 3px } 70% { width: 14px; left: -2px; top: 8px } 84% { width: 5px; left: 5px; top: 10px } 100% { width: 8px; left: 3px; top: 10px } } @"+
n+"keyframes checkmarkAnimateSuccessLong { 0%, 65% { width: 0; right: 12px; top: 12px } 84% { width: 14px; right: 0px; top: 7px } 100% { width: 12px; right: 2px; top: 8px } } @"+n+"keyframes checkmarkAnimateError { 0%, 65% { "+n+"transform: scale(0.4); opacity: 0 } 84% { "+n+"transform: scale(1.15) } 100% { "+n+"transform: scale(1) } } @"+n+"keyframes checkmarkRotatePlaceholder { 0%, 5% { "+n+"transform: rotate(-45deg) } 12%, 100% { "+n+"transform: rotate(-405deg) } } @"+n+"keyframes fieldErrorShake { 0%, 50% { "+
n+"transform: translateX(-10px) } 25%, 75% { "+n+"transform: translateX(10px) } 100% { "+n+"transform: translateX(0px) } }";var q=function(){var a=document.createElement("style");a.innerHTML=C;document.body.appendChild(a);return q.appended=a};u.field=function(a){return a&&"Field"===a.constructor.name};u.regex=function(a){return a instanceof RegExp};u.objectable=function(a){return u.object(a)||u["function"](a)};var m=function(a){u.object(a)||(a={});null==a.type&&(a.type="text");if(!z[a.type])throw Error("QuickField: '"+
a.type+"' is not a valid/registered field type");q.appended||q();var d=Object.create(z[a.type]);return z.call(d,a)};m.register=function(a,d){var c;if(u.string(a)&&u.object(d)){var e=Object.create(z.prototype);for(c in d){var g=d[c];e[c]=g}g=0;for(c=B.length;g<c;g++){var b=B[g];if(!e[b])throw Error("QuickField Registration: '"+b+"' method is required in order to register the field");}return z[a]=e}};Object.defineProperty(m,"fields",{get:function(){return e.clone.own.notKeys("instances")(z)}});m.regex=
k(9);m.version="1.0.18";m.constants=function(a){return function(a){return{colors:k(16),keyCodes:k(20),reqFieldMethods:k(5)}}}(this)({});m.SVG=k(12);m.defaults=k(13);m.Field=z=function(a){return function(a){var c=k(13);E=k(1);u=k(2);e=k(4);var d=0;z=function(a){var b;this.settings=e.deep.clone.deep.transform({conditions:function(a){var b;if(u.objectPlain(a)){var c=[];for(b in a){var d=a[b];c.push({target:b,value:d})}return c}if(u.array(a))return a.map(function(a){return u.string(a)?{target:a}:a})},
choices:function(a){var b;if(u.objectPlain(a)){var c=[];for(b in a){var d=a[b];c.push({label:b,value:d})}return c}if(u.array(a))return a.map(function(a){return u.objectPlain(a)?a:{label:a,value:a}})},validWhenRegex:function(a){return u.string(a)?new RegExp(a):a}})(c,this._defaults,a);this.type=a.type;this.allFields=this.settings.fieldInstances||z.instances;this._value=null;this.ID=this.settings.ID||d++ +"";this.els={};this._eventCallbacks={};this.state={valid:!0,visible:!0,disabled:!1,focused:!1,
hovered:!1,filled:!1,interacted:!1,margin:this.settings.margin,padding:this.settings.padding,width:this.settings.width,showLabel:this.settings.label,label:this.settings.label,showHelp:this.settings.help,help:this.settings.help,showError:!1,error:this.settings.error};u.defined(this.settings.placeholder)&&(this.state.placeholder=this.settings.placeholder);null!=(b=this.settings.conditions)&&b.length&&(this.state.visible=!1,E.initConditions(this,this.settings.conditions,function(a){return function(){return a.validateConditions()}}(this)));
Object.defineProperty(this,"value",{get:this._getValue,set:this._setValue});this.allFields[this.ID]&&"undefined"!==typeof console&&null!==console&&console.warn("Duplicate field IDs found: '"+this.ID+"'");this._construct();this._createElements();this._attachBindings();this.el.childf.field.onInserted(function(a){return function(){return a.emit("inserted")}}(this));this.settings.ID&&(this.el.raw.id=this.ID);null!=this.settings.defaultValue&&this._setValue(this.settings.multiple?[].concat(this.settings.defaultValue):
this.settings.defaultValue);return this.allFields[this.ID]=this.el.raw._quickField=this};z.instances=Object.create(null);Object.defineProperty(z.prototype,"valueRaw",{get:function(){return this._value}});z.prototype.appendTo=function(a){this.el.appendTo(a);return this};z.prototype.prependTo=function(a){this.el.prependTo(a);return this};z.prototype.insertAfter=function(a){this.el.insertAfter(a);return this};z.prototype.insertBefore=function(a){this.el.insertBefore(a);return this};z.prototype.validateConditions=
function(a){if(a)var b=!1;else a=this.settings.conditions,b=!0;a=E.validateConditions(a);return b?this.state.visible=a:a};z.prototype.on=function(a,b){var c;u.string(a)&&u["function"](b)&&(null==(c=this._eventCallbacks)[a]&&(c[a]=[]),this._eventCallbacks[a].push(b));return this};z.prototype.off=function(a,b){this._eventCallbacks[a]&&(u["function"](b)?E.removeItem(this._eventCallbacks[a],b):this._eventCallbacks[a]={});return this};z.prototype.emit=function(){var a;var b=arguments[0];var c=2<=arguments.length?
slice.call(arguments,1):[];if(this._eventCallbacks[b]){var d=this._eventCallbacks[b];var e=0;for(a=d.length;e<a;e++)b=d[e],b.apply(this,c)}return this};return a=z}}(this)({});m.register("text",k(18));m.register("textarea",function(a){return function(a){k(31);E=k(1);u=k(2);p=k(3);e=k(4);var c=k(46);var d=k(18);a=Object.create(null);a._templates=function(a){p=k(3);k(12);d=k(18);k(16);return a={field:d._templates.field.extend({options:{style:{verticalAlign:"bottom"}},children:{innerwrap:{options:{style:{overflow:"hidden",
height:function(a){return a.settings.minHeight||46},width:function(a){if(!a.settings.autoWidth)return"100%"}}}},label:{options:{style:{left:0,top:"7.6px"}}},input:{type:"textarea",options:{type:null,styleAfterInsert:!0,style:{resize:"none",whiteSpace:"normal",width:"100%",height:function(){return"calc(100% - "+this.styleSafe("marginTop")+" - "+this.styleSafe("marginBottom")+")"},margin:"0",marginTop:"15px",marginBottom:"12px",padding:"0 12px",$filled:{$showLabel:{transform:function(a){var b;if((b=
a.el.child.label)&&"absolute"===b.style("position"))return a=b.height+b.styleParsed("top")-this.styleParsed("marginTop")+1,"translateY("+a+"px)"}}}}}},placeholder:{options:{styleAfterInsert:!0,style:{left:0,padding:function(a){var b=a.el.child.input.styleSafe("paddingLeft");return a.el.child.input.styleSafe("marginTop")+" "+b}}}}}})}}({});a._defaults={placeholder:!0,validWhenRegex:!1,autoWidth:!1,autoHeight:!0,minHeight:46,maxWidth:"100%",maxHeight:Infinity};e.keys("_getValue _setValue _setValueIfNotSet _getMaxWidth _attachBindings_elState _attachBindings_display _attachBindings_stateTriggers validate selection focus blur".split(" "))(a,
d);a._construct=function(){null==this._value&&(this._value="");this.state.height=this.settings.autoHeight?"auto":this.settings.height;this.state.typing=!1;this.cursor={prev:0,current:0}};a._createElements=function(){this.el=this._templates.field.spawn(this.settings.templates.field,{relatedInstance:this});this.el.state("hasLabel",this.settings.label);this.el.child.innerwrap.raw._quickField=this.el.child.input.raw._quickField=this};a._attachBindings=function(){this._attachBindings_elState();this._attachBindings_display();
this._attachBindings_display_autoWidth();this._attachBindings_display_autoHeight();this._attachBindings_value();this._attachBindings_autocomplete();this._attachBindings_stateTriggers()};a._attachBindings_display_autoHeight=function(){c("height",{updateEvenIfSame:!0}).of(this.state).transformSelf(function(a){return isNaN(a)&&isNaN(parseFloat(a))?"auto":a}).to(function(a){return function(b){return a.el.child.innerwrap.style("height",b)}}(this)).updateOn("event:inserted").of(this);this.settings.autoHeight&&
c("_value",{updateEvenIfSame:!0,updateOnBind:!1}).of(this).to("height").of(this.state).transform(function(a){return function(){return a._getInputAutoHeight()}}(this)).updateOn("event:inserted").of(this)};a._attachBindings_display_autoWidth=function(){c("width",{updateEvenIfSame:!0}).of(this.state).to(function(a){return function(b){return(a.settings.autoWidth?a.el.child.innerwrap:a.el).style("width",b)}}(this));this.settings.autoWidth&&c("_value",{updateEvenIfSame:!0,updateOnBind:!1}).of(this).to("width").of(this.state).transform(function(a){return function(){return a._getInputAutoWidth()}}(this)).updateOn("event:inserted").of(this)};
a._attachBindings_value=function(){c("_value").of(this).to("value").of(this.el.child.input.raw).bothWays().and.to("valueRaw").of(this).transform(function(a){return function(b){return a.mask?a.mask.valueRaw:b}}(this));c("_value").of(this).to(function(a){return function(b){a.state.filled=!!b;b&&(a.state.interacted=!0);a.state.valid=a.validate();return a.emit("input",b)}}(this))};a._attachBindings_autocomplete=function(){};a._getInputAutoHeight=function(){var a=this.el.child.input.raw.style.height;if(this._value){this._setValueIfNotSet();
this.el.child.input.style("height",0);var b=this.el.child.input.raw.scrollHeight+2;b+=this.el.child.input.styleParsed("marginTop")+this.el.child.input.styleParsed("marginBottom")}else b=this.el.child.placeholder.height;this.el.child.input.style("height",a);return Math.min(this.settings.maxHeight,Math.max(b,this.settings.minHeight))};a._getInputAutoWidth=function(){if(this._value){this._setValueIfNotSet();this.el.child.input.style({width:0,whiteSpace:"nowrap"}).raw.scrollLeft=1E10;var a=this.el.child.input.styleParsed("paddingLeft")||
this.el.child.input.styleParsed("padding");a=Math.max(this.el.child.input.raw.scrollLeft+this.el.child.input.raw.offsetWidth,this.el.child.input.raw.scrollWidth)+2+a+1;var b=this.settings.label&&"absolute"===this.el.child.label.styleSafe("position")?this.el.child.label.rect.width:0}else a=this.el.child.placeholder.rect.width,b=0;this.el.child.input.style({width:"100%",whiteSpace:"normal"});return Math.min(this._getMaxWidth(),Math.max(a,b))};return a}}(this)({}));m.register("select",function(a){return function(a){var c=
k(31);E=k(1);u=k(2);p=k(3);e=k(4);var d=k(46);var g=k(18);a=Object.create(null);a._templates=function(a){p=k(3);var b=k(12);g=k(18);a=k(16);return a={field:g._templates.field.extend({children:[null,{children:[{type:"div",options:{type:null,props:{tabIndex:0},styleAfterInsert:!0,style:{marginTop:3,height:"auto",cursor:"default",userSelect:"none",overflow:"scroll",width:function(a){if(!a.settings.autoWidth){var b="";a.el.child.icon&&(b+=" -"+a.el.child.icon.raw.styleSafe("width",!0));a.el.child.caret&&
(b+=" -"+a.el.child.caret.styleSafe("width",!0));return"calc(100% + ("+(b||"0px")+"))"}}}}},null,["div",{ref:"caret",styleAfterInsert:!0,style:{position:"relative",zIndex:3,top:function(a){return this.parent.height/2-this.styleParsed("height")/2},display:"inline-block",width:"29px",height:"17px",paddingRight:"12px",boxSizing:"border-box",verticalAlign:"top",outline:"none",pointerEvents:"none",fill:a.grey}},b.caretDown]]}]})}}({});a._defaults={placeholder:!0,validWhenIsChoice:!1,validWhenRegex:!1,
validWhenChoseMin:Infinity,autoWidth:!1,maxWidth:"100%",labelFilter:null,choices:[],multiple:!1,dropdownOptions:{}};e.keys(["_getMaxWidth","_attachBindings_elState","_attachBindings_display","focus","blur"])(a,g);a._construct=function(){var a;if(null==(a=this.settings.choices)||!a.length)throw Error("Choices were not provided for choice field '"+(this.settings.label||this.ID)+"'");if(this.settings.dropdownOptions.multiple=this.settings.multiple)this.settings.dropdownOptions.help="Tip: press ESC to close this menu";
this.dropdown=new c(this.settings.choices,this)};a._getValue=function(){var a;return this.settings.multiple?this.dropdown.selected.map(function(a){return a.value}):null!=(a=this.dropdown.selected)?a.value:void 0};a._setValue=function(a){var b;if(this.settings.multiple){u.array(a)||(a=[].concat(a));var c=0;for(b=a.length;c<b;c++){var d=a[c];this.dropdown.setOptionFromString(d)}}else this.dropdown.setOptionFromString(a)};a._createElements=function(){this.el=this._templates.field.spawn(this.settings.templates.field,
{relatedInstance:this});this.dropdown.appendTo(this.el.child.innerwrap);this.el.child.placeholder.insertBefore(this.el.child.input);this.settings.label&&(this.el.child.label.text=this.settings.label,this.el.state("hasLabel",!0));this.el.child.innerwrap.raw._quickField=this.el.child.input.raw._quickField=this};a._attachBindings=function(){this._attachBindings_elState();this._attachBindings_value();this._attachBindings_display();this._attachBindings_display_autoWidth();this._attachBindings_dropdown();
this._attachBindings_stateTriggers()};a._attachBindings_display_autoWidth=function(){d("width",{updateEvenIfSame:!0}).of(this.state).to(function(a){return function(b){return(a.settings.autoWidth?a.el.child.input:a.el).style({width:b})}}(this));this.settings.autoWidth&&d("valueLabel",{updateEvenIfSame:!0,updateOnBind:!1}).of(this).to("width").of(this.state).transform(function(a){return function(){return a._getInputAutoWidth()}}(this)).updateOn("event:inserted").of(this)};a._getInputAutoWidth=function(){if(this.valueLabel){this.el.child.input.style("width",
0);var a=this.el.child.input.raw.scrollWidth+2;var c="absolute"===this.el.child.label.styleSafe("position")?this.el.child.label.rect.width:0}else a=this.el.child.placeholder.rect.width,c=0;return Math.max(a,c)};a._attachBindings_value=function(){d("array:selected").of(this.dropdown).to("_value").of(this).and.to("valueLabel").of(this).transform(function(a){return function(b){if(b)return a.settings.multiple?b.map(function(a){return a.label}).join(", "):b.label}}(this));d("valueLabel").of(this).to("text").of(this.el.child.input).transform(function(a){return function(b){return a.settings.labelFormat?
a.settings.labelFormat(b):b}}(this)).and.to(function(a){return function(b){a.state.filled=!!b;b&&(a.state.interacted=!0);return a.state.valid=a.validate()}}(this));d("array:selected",{updateOnBind:!1}).of(this.dropdown).to(function(a){return function(){return a.emit("input",a.value)}}(this))};a._attachBindings_dropdown=function(){d("event:click").of(this.el.child.input).to(function(a){return function(){if(!a.state.disabled){a.dropdown.isOpen=!0;var b=d("event:click").of(document).once.to(function(){return a.dropdown.isOpen=
!1}).condition(function(b){return!p(b.target).parentMatching(function(b){return b===a.el.child.innerwrap})});var c=d("event:keydown").of(document).once.to(function(){return a.dropdown.isOpen=!1}).condition(function(a){return 27===a.keyCode});return d("isOpen",{updateOnBind:!1}).of(a.dropdown).once.to(function(){b.unBind();return c.unBind()}).condition(function(a){return!a})}}}(this));d("focused",{updateOnBind:!1}).of(this.state).to(function(a){return function(b){if(b){var c=[32,37,38,39,40];return a.el.child.input.on("keydown.dropdownTrigger",
function(b){var d;if(E.includes(c,b.keyCode)&&!a.dropdown.isOpen)return a.dropdown.isOpen=!0,null!=(d=a.dropdown.lastSelected)&&d.selected&&(a.dropdown.currentHighlighted=a.dropdown.lastSelected),b.preventDefault();if(9===b.keyCode&&a.dropdown.isOpen)return b.preventDefault()})}return a.el.child.input.off("keydown.dropdownTrigger")}}(this));this.dropdown.onSelected(function(a){return function(b){if(!a.settings.multiple)return a.dropdown.isOpen=!1}}(this))};a._attachBindings_stateTriggers=function(){d("event:mouseenter").of(this.el.child.input).to(function(a){return function(){return a.state.hovered=
!0}}(this));d("event:mouseleave").of(this.el.child.input).to(function(a){return function(){return a.state.hovered=!1}}(this));d("event:focus").of(this.el.child.input).to(function(a){return function(){a.state.focused=!0;if(a.state.disabled)return a.blur()}}(this));d("event:blur").of(this.el.child.input).to(function(a){return function(){return a.state.focused=!1}}(this))};a.validate=function(a){var b,c;null==a&&(a=this.value);switch(!1){case !(this.settings.validWhenRegex&&u.regex(this.settings.validWhenRegex)):switch(!1){case !this.settings.multiple:return function(b){return function(){if(0===
a.length)return!1;var c=a.filter(function(a){return b.settings.validWhenRegex.test(a)});return Infinity!==b.settings.validWhenChoseMin&&u.number(b.settings.validWhenChoseMin)?c.length>=b.settings.validWhenChoseMin:c.length===a.length}}(this)();default:return this.settings.validWhenRegex.test(a)}case !(this.settings.validWhenIsChoice&&null!=(b=this.settings.choices)&&b.length):return b=this.settings.choices.filter(function(b){return b.value===a}),!!b.length;case !(this.settings.multiple&&-1>(c=this.settings.validWhenChoseMin)&&
Infinity>c):return a.length>=this.settings.validWhenChoseMin;case !this.settings.multiple:return a.length;default:return this.settings.required?!!a:!0}};a.focus=function(){return this.el.child.input.raw.focus()};a.blur=function(){return this.el.child.input.raw.blur()};return a}}(this)({}));m.register("choice",k(25));m.register("truefalse",k(26));m.register("toggle",function(a){return function(a){e=k(4);var c=k(46);a=k(26);var d=Object.create(null);d._templates=function(a){p=k(3);a=k(16);return a=
{field:p.template(["div",{ref:"field",style:{position:"relative",display:"inline-block",width:function(a){return a.state.width},boxSizing:"border-box",fontFamily:function(a){return a.settings.fontFamily},$showError:{animation:"0.2s fieldErrorShake"},$alignedStyle:{paddingRight:function(a){return a.settings.size+20}}}},["div",{ref:"label",style:{display:"none",marginBottom:"12px",fontFamily:"inherit",fontSize:"13px",fontWeight:600,textAlign:"center",color:a.black,cursor:"default",pointerEvents:"none",
userSelect:"none",$showLabel:{display:"block"},$showError:{color:a.red},$alignedStyle:{marginBottom:"0",textAlign:"left"}}}],["div",{ref:"innerwrap",style:{position:"relative",boxSizing:"border-box",fontFamily:"inherit",$alignedStyle:{position:"absolute",right:0,top:"50%",transform:"translateY(-50%)"}}},["div",{ref:"input",style:{position:"relative",zIndex:2,width:function(a){return a.settings.size},height:function(a){return a.settings.size/2},margin:"0 auto",backgroundColor:function(a){return a.settings.background},
border:"1px solid "+a.grey_semi_light,borderRadius:function(a){return a.settings.size},cursor:"pointer"}},["div",{ref:"background",style:{position:"absolute",zIndex:1,left:0,right:0,width:function(a){return a.settings.size/2},height:"100%",borderRadius:function(a){a=a.settings.size;return a+"px 0 0 "+a+"px"},backgroundColor:function(a){return a.settings.color},opacity:0,transition:"opacity 0.2s, width 0.2s",$toggled:{opacity:1,width:function(a){return.7*a.settings.size}}}}],["div",{ref:"ball",style:{position:"absolute",
zIndex:2,left:0,right:0,width:function(a){return a.settings.size/2},height:function(a){return a.settings.size/2},margin:"0 auto",backgroundColor:"white",borderRadius:"50%",border:"1px solid "+a.grey_light,boxSizing:"border-box",transform:"translateX(-55%)",transition:"transform 0.2s",userSelect:"none",$toggled:{transform:"translateX(50%)",border:function(a){return"1px solid "+a.settings.color}}}}]]],["div",{ref:"help",style:{marginTop:"10px",fontFamily:"inherit",fontSize:"11px",color:a.grey,display:"none",
$showError:{color:a.red,display:"block"},$showHelp:{display:"block"}}}]])}}({});d._defaults=function(a){a=k(16);return{validWhenTrue:!0,size:50,style:"centered",color:a.green,background:a.grey_light}}({});e.keys(["_attachBindings_elState","_attachBindings_stateTriggers","_attachBindings_display"])(d,a);d._construct=function(){this._value=!!this._value;this.settings.size=parseFloat(this.settings.size)||d._defaults.size;"centered"!==this.settings.style&&"aligned"!==this.settings.style&&(this.settings.style=
d._defaults.style)};d._getValue=function(){return this._value};d._setValue=function(a){return this._value=!!a};d._createElements=function(){this.el=this._templates.field.spawn(this.settings.templates.field,{relatedInstance:this});this.el.state("alignedStyle","aligned"===this.settings.style).child.innerwrap.raw._quickField=this};d._attachBindings=function(){this._attachBindings_elState();this._attachBindings_stateTriggers();this._attachBindings_display();this._attachBindings_value()};d._attachBindings_value=
function(){c("_value").of(this).to(function(a){return function(b){return a.el.state("toggled",b)}}(this));c("_value",{updateOnBind:!1}).of(this).to(function(a){return function(b){return a.emit("input",b)}}(this));c("event:mouseup touchend").of(this.el.child.input).to(function(a){return function(){return a._value=!a._value}}(this))};d.validate=function(a){null==a&&(a=this._value);return this.settings.validWhenTrue?!!a:!0};return d}}(this)({}));return null!=("undefined"!==typeof module&&null!==module?
module.exports:void 0)?module.exports=m:"function"===typeof define&&define.amd?define(["quickfield"],function(){return m}):this.QuickField=m}()}})(this)();
